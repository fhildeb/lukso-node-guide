<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guides/monitoring/prometheus" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">8.6 Prometheus | LUKSO NODE GUIDE</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://lukso-nodes.com/docs/guides/monitoring/prometheus"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="8.6 Prometheus | LUKSO NODE GUIDE"><meta data-rh="true" name="description" content="This page is currently under maintenance reworked and contains outdated content."><meta data-rh="true" property="og:description" content="This page is currently under maintenance reworked and contains outdated content."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lukso-nodes.com/docs/guides/monitoring/prometheus"><link data-rh="true" rel="alternate" href="https://lukso-nodes.com/docs/guides/monitoring/prometheus" hreflang="en"><link data-rh="true" rel="alternate" href="https://lukso-nodes.com/docs/guides/monitoring/prometheus" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"8.6 Prometheus","item":"https://lukso-nodes.com/docs/guides/monitoring/prometheus"}]}</script><link rel="stylesheet" href="/assets/css/styles.bf4059a2.css">
<script src="/assets/js/runtime~main.efb5253b.js" defer="defer"></script>
<script src="/assets/js/main.3fb0ab25.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Node Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="Node Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">LUKSO NODE GUIDE</b></a><a class="navbar__item navbar__link" href="/docs/theory/preparations/node-specifications">Theory</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/guides/validator-setup/precautions">Guides</a><a class="navbar__item navbar__link" href="/docs/archive/network/blockchain-timeline">Archive</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/fhildeb/lukso-node-guide" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/guides/validator-setup/precautions">1. Validator Setup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/guides/hardware-setup/introduction">2. Hardware Setup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/guides/system-setup/permission-management">3. System Setup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/guides/router-setup/address-checkup">4. Router Setup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/guides/ssh-setup/Initialization">5. SSH Setup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/guides/client-setup/firewall-settings">6. Client Setup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/guides/modifications/slasher-configuration">7. Modifications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/guides/monitoring/software-preparation">8. Monitoring</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/monitoring/software-preparation">8.1 Software Preparation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/monitoring/port-configuration">8.2 Port Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/monitoring/node-exporter">8.3 Node Exporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/monitoring/json-exporter">8.4 JSON Exporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/monitoring/blackbox-exporter">8.5 Blackbox Exporter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/guides/monitoring/prometheus">8.6 Prometheus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/monitoring/grafana">8.7 Grafana</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/monitoring/dashboard-configuration">8.8 Dashboard Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/monitoring/external-monitoring">8.9 External Monitoring</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/guides/alert-systems/telegram-bot">9. Alert Systems</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/guides/external-access/tailscale">10. External Access</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/guides/maintenance/software-updates">11. Maintenance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/guides/withdrawals/adding-withdrawals">12. Withdrawals</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">8. Monitoring</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">8.6 Prometheus</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>8.6 Prometheus</h1></header>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_BuS1"><p>This page is currently under maintenance reworked and contains outdated content.</p></div></div>
<p>After exporters are installed and running, we can set up the main application.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-creating-a-new-user">1. Creating a New User<a href="#1-creating-a-new-user" class="hash-link" aria-label="Direct link to 1. Creating a New User" title="Direct link to 1. Creating a New User">​</a></h2>
<p>As explained and done <a href="#">previously</a>, we will create a new user to run the Prometheus service specifically. Running services as a system user with minimal privileges is a typical security best practice.</p>
<ul>
<li><code>--system</code>: This flag indicates that a system user should be created. System users are used to run services and daemons rather than for people to log in with.</li>
<li><code>--group</code>: This flag instructs the user tool to create a new group with the same name as the user.</li>
<li><code>--no-create-home</code>: By default, the user tool will create a home directory for each new user. This flag prevents that from happening, as we do not need different user directories if ye do not set the user up with a login. The option is typically used for users that are only meant to run a specific service and don&#x27;t need a home directory. In this case, I&#x27;m naming the user <code>node-exporter-worker</code> to differentiate the service, often using the exact name of the program written in underscores and the user account related to it. Feel free to come up with your name, but remember that you must change future commands.</li>
</ul>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo adduser --system prometheus-worker --group --no-create-home</span><br></span></code></pre></div></div>
<p>If you want to confirm that the user has been created, you can search for it within the password file <code>/etc/passwd</code>, that houses all essential information for each user account. Using <code>grep</code>, a powerful command-line tool for global expression search within files or text, we can check if the user exists within the file.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">grep &quot;prometheus-worker&quot; /etc/passwd</span><br></span></code></pre></div></div>
<p>The output should look similar to this:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-worker:x:117:123::/home/prometheus-worker:/usr/sbin/nologin</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-installing-prometeus">2. Installing Prometeus<a href="#2-installing-prometeus" class="hash-link" aria-label="Direct link to 2. Installing Prometeus" title="Direct link to 2. Installing Prometeus">​</a></h2>
<p>Before downloading or installing anything, make sure you are in the home directory so everything is in one place:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd</span><br></span></code></pre></div></div>
<p>We can then continue to download the current version of Prometheus using the previously installed <code>wget</code> tool. In this case, we&#x27;re downloading the service directly from GitHub. Check the official <a href="https://prometheus.io/download/" target="_blank" rel="noopener noreferrer">Prometheus Download Page</a> and the latest LTS version. Make sure to update your version if there is a newer release.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">wget https://github.com/prometheus/prometheus/releases/download/v2.37.8/prometheus-2.37.8.linux-amd64.tar.gz</span><br></span></code></pre></div></div>
<p>The output should look similar to this:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[DATE] [TIME] (12.6 MB/s) - ‘prometheus-2.37.8.linux-amd64.tar.gz’ saved [83345655/83345655]</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="extract-the-archive">Extract the Archive<a href="#extract-the-archive" class="hash-link" aria-label="Direct link to Extract the Archive" title="Direct link to Extract the Archive">​</a></h4>
<p>After downloading it, we can extract the tape archive using the Ubuntu tool. We&#x27;re going to extract (<code>x</code>) and compress (<code>z</code>) the tape archive into its previous packaged files (<code>f</code>) using verbose mode (<code>v</code>) to list all files being processed during the extraction and compression.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tar xzfv prometheus-2.37.8.linux-amd64.tar.gz</span><br></span></code></pre></div></div>
<p>The output should look similar to this:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/console_libraries/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/console_libraries/menu.lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/console_libraries/prom.lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/prometheus.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/consoles/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/consoles/node-disk.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/consoles/index.html.example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/consoles/node.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/consoles/prometheus-overview.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/consoles/node-overview.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/consoles/node-cpu.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/consoles/prometheus.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/promtool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/NOTICE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prometheus-2.37.8.linux-amd64/LICENSE</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="copy-the-service-binaries-into-the-systems-path">Copy the Service Binaries into the System&#x27;s Path<a href="#copy-the-service-binaries-into-the-systems-path" class="hash-link" aria-label="Direct link to Copy the Service Binaries into the System&#x27;s Path" title="Direct link to Copy the Service Binaries into the System&#x27;s Path">​</a></h4>
<p>After extraction, we can copy the exporter binaries to the system&#x27;s path so they appear as installed dependencies and can be used appropriately and linked within services.</p>
<p>First, move into the Prometheus folder:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd prometheus-2.37.8.linux-amd64</span><br></span></code></pre></div></div>
<p>You will see Promtool and Prometheus showing up as executable programs:</p>
<ul>
<li><strong>Prometheus</strong>: The main component of the Prometheus system. A time-series database server collects and stores metrics from monitored targets at specified intervals. It retrieves these metrics via HTTP requests on specified endpoints. Prometheus includes a flexible query language called PromQL to leverage its dimensionality. It also consists of a web interface for executing queries and visualizing results.</li>
<li><strong>Promtool</strong>: This is the command-line tool used for various tasks related to Prometheus, such as checking the syntax of your Prometheus configuration, validating rule files, simulating alert rule evaluation, and debugging PromQL expressions. It&#x27;s a practical tool for any Prometheus operator as it helps ensure that configuration and rule files are syntactically correct and work as expected. It does not collect or store metrics; it&#x27;s more of a helper tool used in conjunction with the central Prometheus server.</li>
</ul>
<p>Both need to be copied into the system&#x27;s path. Let&#x27;s start with the Prometheus application itself:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo cp prometheus /usr/local/bin/</span><br></span></code></pre></div></div>
<p>Then continue with copying the CLI tool:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo cp promtool /usr/local/bin/</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-cleaning-up-install-files">3. Cleaning up Install Files<a href="#3-cleaning-up-install-files" class="hash-link" aria-label="Direct link to 3. Cleaning up Install Files" title="Direct link to 3. Cleaning up Install Files">​</a></h2>
<p>Before we clean up any files, make sure to move them back into the home directory:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd</span><br></span></code></pre></div></div>
<p>After we have copied the executable file into the system&#x27;s program path and given it the appropriate user rights, we can remove the extracted folders.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rm -rf prometheus-2.37.8.linux-amd64</span><br></span></code></pre></div></div>
<p>The same applies to the tape archive, which we have previously downloaded:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rm prometheus-2.37.8.linux-amd64.tar.gz</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-configuring-external-datasets">4. Configuring External Datasets<a href="#4-configuring-external-datasets" class="hash-link" aria-label="Direct link to 4. Configuring External Datasets" title="Direct link to 4. Configuring External Datasets">​</a></h2>
<p>After installation, we want to create a separate configuration file for the Prometheus server to collect all the exporters&#x27; information. It will tell Prometheus where to scrape data from, how often to scrape it, and how to handle the scraped data.</p>
<p>Here is a brief description of the needed folders:</p>
<ul>
<li><code>/etc/prometheus/console_libraries</code>: This directory is typically used to store library files shared between different console templates. Console libraries are snippets of reusable code used in multiple console files to avoid duplication.</li>
<li><code>/etc/prometheus/consoles</code>: This directory holds console templates. Prometheus&#x27;s built-in web UI templates allow you to create HTML pages displaying the results of PromQL expressions.</li>
<li><code>/etc/prometheus/files_sd</code>:This<!-- --> directory is for file-based service discovery configuration files. Prometheus uses these to dynamically discover targets for scraping. These files are in JSON or YAML format and list the targets for Prometheus to scrape metrics from.</li>
<li><code>/etc/prometheus/rules</code>: This directory is where you store rules files. Rules files contain the definitions for alerting rules and recording rules. Alerting rules specify conditions under which Prometheus should trigger an alert, and recording rules precompute frequently used or expensive PromQL expressions and save their result as a new set of time series.</li>
<li><code>/etc/prometheus/rules.d</code>: This directory organizes rules files for individual services, keeping them separate from general rules in the primary directory. Splitting is helpful in large setups where you have many rules related to different services or components and want to keep them in separate files for better management.</li>
<li><code>/var/lib/prometheus</code>: This directory typically stores the Prometheus time-series database files. Prometheus creates and manages these files while it&#x27;s running to hold all the samples it collects from the targets it scrapes.</li>
</ul>
<p>For this configuration, we will check that all needed Prometheus folders are there, so no error will appear while running it. If they should already exist, we leave them as they are, if not, we will create empty folders. The logic can be quickly done using the parent <code>-p</code> flag, as already described before within the <a href="#">SSH Config</a> section of the guide.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo mkdir -p /etc/prometheus/console_libraries /etc/prometheus/consoles /etc/prometheus/files_sd /etc/prometheus/rules /etc/prometheus/rules.d /var/lib/prometheus</span><br></span></code></pre></div></div>
<p>Afterward, we can create a new server configuration file for Prometheus to define how Prometheus will function and what services it will monitor.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo vim /etc/prometheus/prometheus.yaml</span><br></span></code></pre></div></div>
<p>Here is a breakdown of the various parts we will add to the configuration:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="global-parameters">Global Parameters<a href="#global-parameters" class="hash-link" aria-label="Direct link to Global Parameters" title="Direct link to Global Parameters">​</a></h4>
<p>These settings apply to the Prometheus server itself.</p>
<ul>
<li><strong>scrape_interval</strong>: This is the frequency with which Prometheus will collect data from your targets. A typical average value that has proven to be a balance not to spam requests but to keep everything updated to work well with metrics is <code>15 seconds</code>.</li>
<li><strong>evaluation_interval</strong>: This is the frequency with which Prometheus will evaluate rules. It&#x27;s usually the same as the scrape interval. I&#x27;ve set it to <code>15 seconds</code> as well.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="scrape-config-parameters">Scrape Config Parameters<a href="#scrape-config-parameters" class="hash-link" aria-label="Direct link to Scrape Config Parameters" title="Direct link to Scrape Config Parameters">​</a></h4>
<p>This section is a list of jobs that Prometheus will monitor. Each job can have its separate settings.</p>
<ul>
<li><strong>job_name</strong>: This is the name of the job as it will appear in Prometheus.</li>
<li><strong>scrape_interval</strong>: This is the frequency with which Prometheus will collect data from this job. The global <code>scrape_interval</code> will be used if this is not set.</li>
<li><strong>metrics_path</strong>: This specifies the endpoint to hit when scraping metrics. It defaults to <code>/metrics</code> if not set.</li>
<li><strong>params</strong>: This is used to pass URL parameters to the scrape request. It will mainly be used in our network probing services with ICMP.</li>
<li><strong>static_configs</strong>: This is a list of targets for the job. Each target is a <code>host:port</code> pair from which Prometheus will scrape metrics. We will target API URLs in some services to fetch data responses.</li>
<li><strong>relabel_configs</strong>: This allows us to modify the target labels before scraping. If we want to ping services for Prometheus, we&#x27;re using this to set the <code>__address__</code> label to the address of the Blackbox exporter and the instance label to the IP we&#x27;re pinging.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="prometheus-jobs">Prometheus Jobs<a href="#prometheus-jobs" class="hash-link" aria-label="Direct link to Prometheus Jobs" title="Direct link to Prometheus Jobs">​</a></h4>
<p>Let&#x27;s walk through each job we want to set up for Prometheus. Please note that the ports are configured for use within Geth and Prysm. If you are using other clients, make sure to adjust some properties.</p>
<ul>
<li><strong>prometheus-job</strong>: This job is for scraping metrics from the Prometheus server itself. It will scrape every <code>5</code> seconds from the address <code>127.0.0.1:9090</code>, which is the default address and port for a locally running Prometheus server as described within the <a href="#">Monitoring Port</a> section of the guide.</li>
<li><strong>consensus-client-job</strong>: This job scrapes metrics from the local consensus node at the address <code>127.0.0.1:8080</code>. The scrape interval is set to <code>5</code> seconds.</li>
<li><strong>node-exporter-job</strong>: The Node Exporter is a Prometheus exporter for hardware and OS metrics. This job scrapes metrics from the Node Exporter service running locally at <code>127.0.0.1:9100</code> every <code>5</code> seconds.</li>
<li><strong>validator-client-job</strong>: This job is set to scrape metrics from the validator client running locally at <code>127.0.0.1:8081</code> every <code>5</code> seconds.</li>
<li><strong>google-ping-job</strong>: This job uses the Blackbox Exporter to probe the Google DNS server at &#x27;8.8.8.8&#x27; using <code>ICMP</code> echo requests, also called pings. The metrics will be available at the <code>/probe</code> endpoint on the Blackbox Exporter, which runs locally at <code>127.0.0.1:9115</code>. The relabeling configurations are used to label these targets for Prometheus properly.</li>
<li><strong>cloudflare-ping-job</strong>: This job uses the Blackbox Exporter to probe the Cloudflare&#x27;s DNS server at <code>1.1.1.1</code> using <code>ICMP</code> echo requests, also called pings. The metrics will be available at the <code>/probe</code> endpoint on the Blackbox Exporter, which runs locally at <code>127.0.0.1:9115</code>. The relabeling configurations are used to properly label these targets for Prometheus.</li>
<li><strong>json-exporter-job</strong>: This job is for scraping metrics from the JSON Exporter running locally at <code>127.0.0.1:7979</code>. This service converts JSON data into a format that Prometheus can scrape.</li>
<li><strong>json</strong>: This job is set to scrape metrics LYX price information from the GoinGecko API using the JSON Exporter. The metrics will be available at the <code>/probe</code> endpoint on the JSON Exporter, which is running locally at <code>127.0.0.1:7979</code>. The relabeling configurations are used to tag these targets for Prometheus properly.</li>
</ul>
<p>The configuration file looks like the following. It&#x27;s recommended to leave the job names like that so we can easily associate them with the corresponding services underneath.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">global:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  scrape_interval: 15s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  evaluation_interval: 15s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scrape_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - job_name: &#x27;prometheus-job&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    scrape_interval: 5s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - targets: [&#x27;127.0.0.1:9090&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - job_name: &#x27;consensus-client-job&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    scrape_interval: 5s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - targets: [&#x27;127.0.0.1:8080&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - job_name: &#x27;node-exporter-job&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    scrape_interval: 5s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - targets: [&#x27;127.0.0.1:9100&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - job_name: &#x27;validator-client-job&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    scrape_interval: 5s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - targets: [&#x27;127.0.0.1:8081&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - job_name: &#x27;google-ping-job&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metrics_path: /probe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    params:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      module: [icmp]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - targets:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - 8.8.8.8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    relabel_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - source_labels: [__address__]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        target_label: __param_target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - source_labels: [__param_target]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        target_label: instance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - target_label: __address__</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        replacement: 127.0.0.1:9115  # The blackbox exporter&#x27;s real hostname:port.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - job_name: &#x27;cloudflare-ping-job&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metrics_path: /probe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    params:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      module: [icmp]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - targets:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - 1.1.1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    relabel_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - source_labels: [__address__]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        target_label: __param_target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - source_labels: [__param_target]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        target_label: instance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - target_label: __address__</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        replacement: 127.0.0.1:9115  # The blackbox exporter&#x27;s real hostname:port.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - job_name: &#x27;json-exporter-job&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - targets:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - 127.0.0.1:7979</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - job_name: &#x27;json&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metrics_path: /probe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - targets:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - https://api.coingecko.com/api/v3/simple/price?ids=lukso-token&amp;vs_currencies=eur</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    relabel_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - source_labels: [__address__]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      target_label: __param_target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - source_labels: [__param_target]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      target_label: instance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - target_label: __address__</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      replacement: 127.0.0.1:7979</span><br></span></code></pre></div></div>
<blockquote>
<p>Be cautious: When creating new rules or modifying existing ones, following the correct syntax and structure are essential to ensure that the Prometheus server functions appropriately.</p>
</blockquote>
<p>If you want the LYX price showing up in a different currency than <code>EUR</code>, please change the <code>vs_currencies</code> property of the target URL for the <code>json</code>. For USD, it would look like the following:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  - job_name: &#x27;json&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metrics_path: /probe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    static_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - targets:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - https://api.coingecko.com/api/v3/simple/price?ids=lukso-token&amp;vs_currencies=usd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    relabel_configs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - source_labels: [__address__]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      target_label: __param_target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - source_labels: [__param_target]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      target_label: instance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - target_label: __address__</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      replacement: 127.0.0.1:7979</span><br></span></code></pre></div></div>
<p>Those properties will, later on, be used within the Grafana Dashboard to fetch the token prices and build metrics based on our validator sevice.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-set-prometheus-permissions">5. Set Prometheus Permissions<a href="#5-set-prometheus-permissions" class="hash-link" aria-label="Direct link to 5. Set Prometheus Permissions" title="Direct link to 5. Set Prometheus Permissions">​</a></h2>
<p>Now we can change the owner of the software applications to admin access. Owner changes are commonly done for security reasons. Giving root ownership to these binary files prevents non-root users or exporter workers from modifying or replacing these essential executables, which could lead to unauthorized or unexpected behavior.</p>
<p>As previously explained in the <a href="#">Node Exporter</a> section of the guide, we can set both the user and group to the specified service user.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo chown -R prometheus-worker:prometheus-worker /usr/local/bin/prometheus</span><br></span></code></pre></div></div>
<p>The same applies to the CLI tool:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo chown -R prometheus-worker:prometheus-worker /usr/local/bin/promtool</span><br></span></code></pre></div></div>
<p>We can also change the owner for the configuration folder:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo chown -R prometheus-worker:prometheus-worker /etc/prometheus</span><br></span></code></pre></div></div>
<p>Last, we change the owner of the database files within <code>/var/lib/prometheus</code> created and managed by Prometheus while it&#x27;s running.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo chown -R prometheus-worker:prometheus-worker /var/lib/prometheus</span><br></span></code></pre></div></div>
<p>Not only do we need to change the owner this time, but we also need to change the access mode of the executable. We must allow the owner to read, write, and execute the file while the group and all other services can only read from it.</p>
<p>We can use the change mode tool <code>chmod</code> as we already did within the <a href="#">Node Exporter</a> section of the guide.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo chmod 755 /usr/local/bin/prometheus</span><br></span></code></pre></div></div>
<p>We do the same for the CLI tool again:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo chmod 755 /usr/local/bin/promtool</span><br></span></code></pre></div></div>
<p>Afterward, we can change it for the database folder:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo chmod 755 /var/lib/prometheus</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-configuring-the-service">6. Configuring the Service<a href="#6-configuring-the-service" class="hash-link" aria-label="Direct link to 6. Configuring the Service" title="Direct link to 6. Configuring the Service">​</a></h2>
<p>After installation and job configuration, we want to define how the Prometheus service should run. Within Ubuntu, the <code>/etc/systemd/system/</code> directory is where system service unit files are stored and used to configure services to start automatically at boot.</p>
<p>Here, we can create a file called <code>prometheus.service</code>. A service file is generally used to define how daemon processes should be started. In our case, we create the file with the exact name of the Prometheus service stored within the system directory to modify Prometheus&#x27; startup process. We can use Vim on various other files as we did before.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo vim /etc/systemd/system/prometheus.service</span><br></span></code></pre></div></div>
<p>The configuration file is split between multiple sections: <code>[Unit]</code>, <code>[Service]</code>, and <code>[Install]</code>. The unit contains generic options that are not dependent on the type of service and provide documentation. The service and install section is where we will house our configuration properties:</p>
<ul>
<li><strong>Description</strong>: Provides a concise but meaningful explanation of the service used in the configuration</li>
<li><strong>Documentation</strong>: Provides a URL where more information about the program can be found</li>
<li><strong>Wants</strong>: Minor requirement for the startup to proceed safely. In our case, it indicates that the service should want an internet connection but continues even if it can not be established.</li>
<li><strong>After</strong>: Ensures that the service is started after a specific service, in this case, that the network has been set up, as we will need a network connection for this exporter to succeed.</li>
<li><strong>User</strong>: Specifies under which user the service will run. In this case, it will be <code>prometheus-worker</code>.</li>
<li><strong>Group</strong>: Specifies under which user group the service will run. In this case, it will be <code>prometheus-worker</code>.</li>
<li><strong>Type</strong>: This option configures the process startup type for this service unit. The <code>simple</code> value means the exec command configured will be the main process of the service.</li>
<li><strong>ExecStart</strong>: Specifies the command to run when the service starts. In this case, it&#x27;s <code>/usr/local/bin/prometheus</code> as program folder of Prometheus. In addition, there are several other options passed to the startup. It will load the configuration from <code>/etc/prometheus/prometheus.yaml</code>, it will store the database within <code>/var/lib/prometheus/</code>, it will set the data storing expiring date to one month, it will set the directory containing the web console template files to <code>/etc/prometheus/consoles</code>, and last but not least, it will specify the folder of the console library files at <code>/etc/prometheus/console_libraries</code>.</li>
<li><strong>ExecReload</strong>: Specifies the command to execute when the systemd service is reloaded. In our case, the <code>kill</code> command is used to send a signal (HUP) to the main process of the service, indicated by the main process ID. It will cause the process to restart and re-read its configuration files. Therefore, this will apply changes without fully stopping the service.</li>
<li><strong>Restart</strong>: Configures whether the service shall be restarted when the service process exits, is killed, or a timeout is reached. The <code>always</code> value means the service will be restarted regardless of whether it exited cleanly or not.</li>
<li><strong>RestartSec</strong>: This option configures the time to sleep before restarting a service. The value <code>5</code> means the service will wait for 5 seconds before it restarts. It is a typical default value and a balance between trying to restart the service quickly after a failure and not restarting it so rapidly that you could exacerbate problems.</li>
<li><strong>SyslogIdentifier</strong>: Sets the program name used when messages are logged to the system log.</li>
<li><strong>StandardOutput</strong>: Logfile where the output from Prometheus will be logged.</li>
<li><strong>StandardError</strong>: Logfile where errors from Prometheus will be logged.</li>
<li><strong>ProtectSystem</strong>: Protection rules to specify where the service can write files to the disk. If set to <code>full</code> it will limit the areas of the file system that the exporter can write outside of his regular application folder. The protection type works best as we are just using it for logging.</li>
<li><strong>NoNewPrivileges</strong>: Prevent the Prometheus service and its children from gaining new service privileges independently.</li>
<li><strong>PrivateTmp</strong>: Set to allow the service to generate a private <code>/tmp</code> directory that other processes can&#x27;t access</li>
<li><strong>WantedBy</strong>: This option creates a small dependency and starts the service at boot time. If we input <code>multi-user.target</code>, we can specify that the service will start when the system is set up for multiple users. In our case, every Exporter service will have its user fitting the description.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="prometheus-logging">Prometheus Logging<a href="#prometheus-logging" class="hash-link" aria-label="Direct link to Prometheus Logging" title="Direct link to Prometheus Logging">​</a></h4>
<p>By default, the service will write journal logs into the <code>/var/log/journal/</code> folder using the <code>journal</code> service. But you can also configure it to use system logs written into the <code>/var/log/syslog</code> folder by the <code>syslog</code> process. Here is a quick rundown:</p>
<ul>
<li><code>journal</code>: The logs are structured and include metadata about each log entry, making them easier to filter and analyze but more challenging to read our bugfix. The service includes default rate limiting and log rotation, which can help keep log sizes small. It also stores logs in a binary format, which can be more space-efficient and faster to process than text-based logs</li>
<li><code>syslog</code>: System logs are text-based logs, which are easier to read, bugfix, and process with traditional command-line tools. It also has a network protocol to send logs to remote servers if needed.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="process-ownership">Process Ownership<a href="#process-ownership" class="hash-link" aria-label="Direct link to Process Ownership" title="Direct link to Process Ownership">​</a></h4>
<p>Make sure you change the <code>User</code> and <code>Group</code> properties if you&#x27;ve previously changed the name, as it will fall back to <code>root</code> and could cause security risks. Our final configuration file will look like this:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[Unit]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Description=Prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Documentation=https://github.com/prometheus/prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Wants=network-online.target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">After=network-online.target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Service]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User=prometheus-worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Group=prometheus-worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Type=simple</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ExecStart=/usr/local/bin/prometheus                               \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --config.file /etc/prometheus/prometheus.yaml                 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --storage.tsdb.path /var/lib/prometheus/                      \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --storage.tsdb.retention.time=31d                             \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --web.console.templates=/etc/prometheus/consoles              \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --web.console.libraries=/etc/prometheus/console_libraries</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ExecReload=/bin/kill -HUP $MAINPIDRestart=always</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RestartSec=5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SyslogIdentifier=prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StandardOutput=journal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">StandardError=journal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ProtectSystem=full</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NoNewPrivileges=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PrivateTmp=true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Install]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WantedBy=multi-user.target</span><br></span></code></pre></div></div>
<blockquote>
<p>Be cautious: When creating new rules or modifying existing ones, following the correct syntax and structure are essential to ensure that the Prometheus functions appropriately and provides the desired level of security. Verify that you do not use spaces between properties and their values.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-start-the-prometheus-service">7. Start the Prometheus Service<a href="#7-start-the-prometheus-service" class="hash-link" aria-label="Direct link to 7. Start the Prometheus Service" title="Direct link to 7. Start the Prometheus Service">​</a></h2>
<p>First we need to reload the system manager configuration. It is used when making changes to service configuration files or creating new service files, ensuring that the system&#x27;s daemon is aware of the changes like before.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl daemon-reload</span><br></span></code></pre></div></div>
<p>Afterward, we can start the Prometheus service using the system control command:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl start prometheus</span><br></span></code></pre></div></div>
<p>To enable the Prometheus service to start when the system boots, we can use the system control to create a symbolic link as we did before.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl enable prometheus</span><br></span></code></pre></div></div>
<p>The output should look similar to this:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Created symlink /etc/systemd/system/multi-user.target.wants/prometheus.service → /etc/systemd/system/prometheus.service.</span><br></span></code></pre></div></div>
<p>We can fetch the current status from the system control to check if the Prometheus service is running and configured correctly. It will display whether it is active, enabled, or disabled and show any recent log entries.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl status prometheus</span><br></span></code></pre></div></div>
<p>The output should look similar to this:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">● prometheus.service - Prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     Loaded: loaded (/etc/systemd/system/prometheus.service; enabled; vendor preset: enabled)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     Active: active (running) since [DATE] UTC; [TIME] ago</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       Docs: https://github.com/prometheus/prometheus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Main PID: 29468 (prometheus)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Tasks: 17 (limit: 38043)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     Memory: 27.4M</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CPU: 293ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     CGroup: /system.slice/prometheus.service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             └─29468 /usr/local/bin/prometheus --config.file /etc/prometheus/prometheus.yaml --storage.ts&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DATE] [TIME] [USER] prometheus[29468]: ts=2023-05-18T09:43:54.539Z caller=head.go:536 level=info &gt; ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="maintenance">Maintenance<a href="#maintenance" class="hash-link" aria-label="Direct link to Maintenance" title="Direct link to Maintenance">​</a></h2>
<p>Proper maintenance ensures that all the components are working as intended, can be updated on the fly, and that software can be kept up-to-date and secure. It&#x27;s also essential to identify and fix errors quickly.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="logging">Logging<a href="#logging" class="hash-link" aria-label="Direct link to Logging" title="Direct link to Logging">​</a></h4>
<p>If <code>journal</code> is your logging tool, you can access the full logs with the journal control tool.</p>
<ul>
<li><code>-f</code>: Logging in follow mode displays the most recent journal entries and then updates as new entries are added in real-time.</li>
<li><code>-u</code>: In unit mode, it filters the log to show only entries for the specified system&#x27;s service, this time <code>prometheus</code>.</li>
</ul>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo journalctl -f -u prometheus</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="restarting">Restarting<a href="#restarting" class="hash-link" aria-label="Direct link to Restarting" title="Direct link to Restarting">​</a></h4>
<p>If you made any changes to configuration files, reload the system daemon:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl daemon-reload</span><br></span></code></pre></div></div>
<p>Then, restart the service using the system control:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl restart prometheus</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="stopping">Stopping<a href="#stopping" class="hash-link" aria-label="Direct link to Stopping" title="Direct link to Stopping">​</a></h4>
<p>You can stop the service using the system control:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl stop prometheus</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cleanup">Cleanup<a href="#cleanup" class="hash-link" aria-label="Direct link to Cleanup" title="Direct link to Cleanup">​</a></h2>
<p>If you ever want to remove the user or something went wrong, do the following steps:</p>
<p>Change the owner of Prometheus back to root:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo chown -R root:root /usr/local/bin/prometheus</span><br></span></code></pre></div></div>
<p>The same applies to the CLI tool:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo chown -R root:root /usr/local/bin/promtool</span><br></span></code></pre></div></div>
<p>We can also change the owner for the configuration folder:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo chown -R root:root /etc/prometheus</span><br></span></code></pre></div></div>
<p>Last but not least, we change the owner of the database files:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo chown -R root:root /var/lib/prometheus</span><br></span></code></pre></div></div>
<p>Remove the user and all the files, so there are no orphaned data blobs on your system:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo deluser --remove-all-files prometheus-worker</span><br></span></code></pre></div></div>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo delgroup prometheus-worker</span><br></span></code></pre></div></div>
<p>Afterward, you can redo the Prometheus guide and either set up a new user or remove the <code>User</code> and <code>Group</code> properties from the configuration in <code>7.5.6</code>. By default, the process will run as <code>root</code>. Also, make sure to go through every step in <code>7.5.7</code> once again.</p>
<p>If you want to remove the Prometheus and Promtool software, stop the running service:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl stop prometheus</span><br></span></code></pre></div></div>
<p>Disable the service:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl disable prometheus</span><br></span></code></pre></div></div>
<p>Remove the service file:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo rm /etc/systemd/system/prometheus.service</span><br></span></code></pre></div></div>
<p>Reload the system service daemon to get the service file change:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl daemon-reload</span><br></span></code></pre></div></div>
<p>Then continue deleting the configuration folders.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo rm -rf /etc/prometheus</span><br></span></code></pre></div></div>
<p>Remove the Prometheus database:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo rm -rf /var/lib/prometheus/</span><br></span></code></pre></div></div>
<p>Remove the Promtool executable:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo rm -rf /usr/local/bin/promtool</span><br></span></code></pre></div></div>
<p>In the last step, remove the unlisted Prometheus executable itself:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo rm -rf /usr/local/bin/prometheus</span><br></span></code></pre></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/guides/monitoring/blackbox-exporter"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">8.5 Blackbox Exporter</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/guides/monitoring/grafana"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">8.7 Grafana</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-creating-a-new-user" class="table-of-contents__link toc-highlight">1. Creating a New User</a></li><li><a href="#2-installing-prometeus" class="table-of-contents__link toc-highlight">2. Installing Prometeus</a></li><li><a href="#3-cleaning-up-install-files" class="table-of-contents__link toc-highlight">3. Cleaning up Install Files</a></li><li><a href="#4-configuring-external-datasets" class="table-of-contents__link toc-highlight">4. Configuring External Datasets</a></li><li><a href="#5-set-prometheus-permissions" class="table-of-contents__link toc-highlight">5. Set Prometheus Permissions</a></li><li><a href="#6-configuring-the-service" class="table-of-contents__link toc-highlight">6. Configuring the Service</a></li><li><a href="#7-start-the-prometheus-service" class="table-of-contents__link toc-highlight">7. Start the Prometheus Service</a></li><li><a href="#maintenance" class="table-of-contents__link toc-highlight">Maintenance</a></li><li><a href="#cleanup" class="table-of-contents__link toc-highlight">Cleanup</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.lukso.tech/networks/mainnet/running-a-node" target="_blank" rel="noopener noreferrer" class="footer__link-item">Node Operation<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://docs.lukso.tech/networks/mainnet/parameters" target="_blank" rel="noopener noreferrer" class="footer__link-item">Network Parameters<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://deposit.mainnet.lukso.network/en/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Staking Launchpad<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/lukso" target="_blank" rel="noopener noreferrer" class="footer__link-item">Official Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://luksovalidators.substack.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Validator Newsletter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://medium.com/lukso" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium Blog Posts<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Monitoring</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://clientdiversity.lukso.network/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Client Distribution<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://stats.execution.mainnet.lukso.network/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Execution Status Panel<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://explorer.consensus.mainnet.lukso.network/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Consensus Explorer<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Software</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://medium.com/lukso" target="_blank" rel="noopener noreferrer" class="footer__link-item">Validator Interface<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/lukso-network/network-configs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Network Configuration<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/lukso-network/tools-wagyu-key-gen" target="_blank" rel="noopener noreferrer" class="footer__link-item">Key Generation Client<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
    © 2025 Felix Hildebrandt&nbsp;
    <br>
    <a href="https://profile.link/voulex@0F41" target="_blank" rel="noopener" class="footer-icon" aria-label="Universal Profile">
      <svg class="logo" width="100%" height="100%" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="16" height="16" rx="4.2" fill="currentColor"></rect><path class="bg" d="M5.74148 5.18182H6.79545V8.98295C6.79545 9.39962 6.69697 9.7661 6.5 10.0824C6.30492 10.3987 6.0303 10.6458 5.67614 10.8239C5.32197 11 4.90814 11.0881 4.43466 11.0881C3.95928 11.0881 3.54451 11 3.19034 10.8239C2.83617 10.6458 2.56155 10.3987 2.36648 10.0824C2.1714 9.7661 2.07386 9.39962 2.07386 8.98295V5.18182H3.12784V8.89489C3.12784 9.13731 3.18087 9.35322 3.28693 9.54261C3.39489 9.73201 3.5464 9.88068 3.74148 9.98864C3.93655 10.0947 4.16761 10.1477 4.43466 10.1477C4.7017 10.1477 4.93277 10.0947 5.12784 9.98864C5.32481 9.88068 5.47633 9.73201 5.58239 9.54261C5.68845 9.35322 5.74148 9.13731 5.74148 8.89489V5.18182ZM7.54105 11V5.18182H9.72287C10.1698 5.18182 10.5448 5.26515 10.8479 5.43182C11.1528 5.59848 11.3829 5.82765 11.5382 6.11932C11.6954 6.40909 11.774 6.73864 11.774 7.10795C11.774 7.48106 11.6954 7.8125 11.5382 8.10227C11.381 8.39205 11.149 8.62027 10.8422 8.78693C10.5354 8.9517 10.1575 9.03409 9.70866 9.03409H8.26264V8.16761H9.56662C9.82798 8.16761 10.042 8.12216 10.2087 8.03125C10.3753 7.94034 10.4984 7.81534 10.578 7.65625C10.6594 7.49716 10.7001 7.31439 10.7001 7.10795C10.7001 6.90152 10.6594 6.7197 10.578 6.5625C10.4984 6.4053 10.3744 6.28314 10.2058 6.19602C10.0392 6.10701 9.8242 6.0625 9.56094 6.0625H8.59503V11H7.54105ZM13.5026 5.18182L13.4088 9.28977H12.494L12.4031 5.18182H13.5026ZM12.9514 11.0625C12.7791 11.0625 12.6313 11.0019 12.5082 10.8807C12.387 10.7595 12.3264 10.6117 12.3264 10.4375C12.3264 10.267 12.387 10.1212 12.5082 10C12.6313 9.87879 12.7791 9.81818 12.9514 9.81818C13.12 9.81818 13.2658 9.87879 13.3889 10C13.5139 10.1212 13.5764 10.267 13.5764 10.4375C13.5764 10.553 13.5471 10.6581 13.4884 10.7528C13.4315 10.8475 13.3558 10.9233 13.2611 10.9801C13.1683 11.035 13.0651 11.0625 12.9514 11.0625Z" fill="inherit"></path></svg>
    </a>
    <a href="https://x.com/voulex" target="_blank" rel="noopener" class="footer-icon" aria-label="Twitter">
      <svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.1761 4H19.9362L13.9061 10.7774L21 20H15.4456L11.0951 14.4066L6.11723 20H3.35544L9.80517 12.7508L3 4H8.69545L12.6279 9.11262L17.1761 4ZM16.2073 18.3754H17.7368L7.86441 5.53928H6.2232L16.2073 18.3754Z" fill="currentColor"></path></svg>
    </a>
    <a href="https://app.ens.domains/fhildeb.eth" target="_blank" rel="noopener" class="footer-icon" aria-label="ENS">
      <svg enable-background="new 0 0 72.7 80.9" viewBox="0 0 72.7 80.9" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><linearGradient id="a"><stop offset=".58" stop-color="#a0a8d4"/><stop offset=".73" stop-color="#8791c7"/><stop offset=".91" stop-color="#6470b4"/></linearGradient><linearGradient id="b" gradientUnits="userSpaceOnUse" x1="36.0416" x2="6.66" xlink:href="#a" y1=".9481" y2="32.7999"/><linearGradient id="c" gradientUnits="userSpaceOnUse" x1="36.6586" x2="66.0292" xlink:href="#a" y1="80.0185" y2="48.1894"/><linearGradient id="d" gradientUnits="userSpaceOnUse" x1="36.3226" x2="36.3226" y1="-.3999" y2="81.2"><stop offset="0" stop-color="#513eff"/><stop offset=".18" stop-color="#5157ff"/><stop offset=".57" stop-color="#5298ff"/><stop offset="1" stop-color="#52e5ff"/></linearGradient><path d="m9.3 32.8c.8 1.7 2.8 5.1 2.8 5.1l22.9-37.9-22.3 15.6c-1.3.9-2.4 2.1-3.2 3.5-2.1 4.3-2.1 9.3-.2 13.7z" fill="currentColor"/><path d="m.3 45.2c.5 7.3 4.2 14.1 10 18.5l24.7 17.2s-15.5-22.3-28.5-44.5c-1.3-2.3-2.2-4.9-2.6-7.6-.2-1.2-.2-2.4 0-3.6-.3.6-1 1.9-1 1.9-1.3 2.7-2.2 5.6-2.7 8.6-.3 3.2-.3 6.4.1 9.5z" fill="currentColor"/><path d="m63.3 48.2c-.8-1.7-2.8-5.1-2.8-5.1l-22.9 37.8 22.4-15.5c1.3-.9 2.4-2.1 3.2-3.5 2-4.3 2.1-9.3.1-13.7z" fill="currentColor"/><path d="m72.4 35.7c-.5-7.3-4.2-14.1-10-18.5l-24.7-17.2s15.5 22.3 28.5 44.5c1.3 2.3 2.2 4.9 2.6 7.6.2 1.2.2 2.4 0 3.6.3-.6 1-1.9 1-1.9 1.3-2.7 2.2-5.6 2.7-8.5.2-3.3.2-6.4-.1-9.6z" fill="currentColor"/><path d="m9.5 19.1c.8-1.4 1.8-2.6 3.2-3.5l22.3-15.6-22.9 37.8s-2-3.4-2.8-5.1c-1.9-4.3-1.9-9.3.2-13.6zm-9.2 26.1c.5 7.3 4.2 14.1 10 18.5l24.7 17.2s-15.5-22.3-28.5-44.5c-1.3-2.3-2.2-4.9-2.6-7.6-.2-1.2-.2-2.4 0-3.6-.3.6-1 1.9-1 1.9-1.3 2.7-2.2 5.6-2.7 8.6-.3 3.2-.3 6.4.1 9.5zm63 3c-.8-1.7-2.8-5.1-2.8-5.1l-22.9 37.8 22.4-15.5c1.3-.9 2.4-2.1 3.2-3.5 2-4.3 2.1-9.3.1-13.7zm9-12.4c-.5-7.3-4.2-14.1-10-18.5l-24.6-17.3s15.5 22.3 28.5 44.5c1.3 2.3 2.2 4.9 2.6 7.6.2 1.2.2 2.4 0 3.6.3-.6 1-1.9 1-1.9 1.3-2.7 2.2-5.6 2.7-8.5.2-3.3.2-6.4-.2-9.5z" fill="currentColor"/></svg>
    </a>
    <a href="https://fhildeb.medium.com" target="_blank" rel="noopener" class="footer-icon" aria-label="Medium">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 140 140"><path fill="currentColor" d="M140 0v140H0V0h140zM50.7 31.6H23.4v1.6l8.8 10.5c.9.8 1.3 2 1.2 3.1v41.6c.3 1.5-.2 3-1.3 4.1l-9.8 12v1.6h28v-1.6l-10-12a5 5 0 0 1-1.3-4.1v-36l24.6 53.7h2.9l21-53.7v43c0 1 0 1.2-.7 1.9l-7.6 7.4v1.6h37v-1.6l-7.4-7.2c-.6-.5-1-1.3-.8-2.1v-53c-.2-.7.2-1.5.8-2l7.5-7.2v-1.6h-26L71.8 77.8l-21-46.2z"/></svg>
    </a>
    <a href="https://www.fhildeb.com/" target="_blank" rel="noopener" class="footer-icon" aria-label="ENS">
      <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><path d="M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"></path></svg>
    </a>
  </div></div></div></footer></div>
</body>
</html>