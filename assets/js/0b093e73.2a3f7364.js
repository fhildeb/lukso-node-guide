"use strict";(self.webpackChunklukso_node_guide=self.webpackChunklukso_node_guide||[]).push([[2934],{466:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"guides/router-setup/static-ip-assignment","title":"4.2 Static IP Assignment","description":"Assigning a static IP or reserving your node\u2019s existing DHCP lease prevents connectivity issues and simplifies router port forwarding, firewall rules, and remote access to your node. In this step, we will configure the router of the home network it is connected to.","source":"@site/docs/guides/router-setup/static-ip-assignment.md","sourceDirName":"guides/router-setup","slug":"/guides/router-setup/static-ip-assignment","permalink":"/docs/guides/router-setup/static-ip-assignment","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_label":"4.2 Static IP Assignment","sidebar_position":2},"sidebar":"guidesSidebar","previous":{"title":"4.1 Address Checkup","permalink":"/docs/guides/router-setup/address-checkup"},"next":{"title":"5.1 Initialization","permalink":"/docs/guides/ssh-setup/Initialization"}}');var s=n(4848),o=n(8453),i=n(1470),a=n(9365);const l={sidebar_label:"4.2 Static IP Assignment",sidebar_position:2},c="4.2 Static IP Assignment",d={},u=[{value:"1. Address Reservation",id:"1-address-reservation",level:2},{value:"2. Address Verification",id:"2-address-verification",level:2},{value:"3. Switch to Remote Connection",id:"3-switch-to-remote-connection",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"42-static-ip-assignment",children:"4.2 Static IP Assignment"})}),"\n",(0,s.jsx)(t.p,{children:"Assigning a static IP or reserving your node\u2019s existing DHCP lease prevents connectivity issues and simplifies router port forwarding, firewall rules, and remote access to your node. In this step, we will configure the router of the home network it is connected to."}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:"Terminology and steps vary heavily depending on your router model. For help, refer to your router's documentation."})}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["The following steps are performed on your \ud83d\udcbb ",(0,s.jsx)(t.strong,{children:"personal computer"})," that's connected to the same home network as the node."]})}),"\n",(0,s.jsx)(t.h2,{id:"1-address-reservation",children:"1. Address Reservation"}),"\n",(0,s.jsx)(t.p,{children:"To ensure your node always uses the same IP address, we'll reserve it on the router."}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsx)(t.p,{children:"If you want to assign a totally new IP address instead of reserving one, choose a free address within your router's IP address range but outside the scope of IP addresses that are automatically allocated by the DHCP server to prevent conflicts."})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"1.1 Log into Router\u2019s Web Interface"}),": ",(0,s.jsx)(t.em,{children:"Open a browser to your router\u2019s IP or hostname, then enter your admin credentials."})]}),"\n",(0,s.jsx)(t.admonition,{title:"Fritzbox Router",type:"note",children:(0,s.jsxs)(t.p,{children:["Navigate to ",(0,s.jsx)(t.code,{children:"http://192.168.178.1"})," to open the local user interface."]})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"1.2 Locate DHCP or LAN Settings"}),": ",(0,s.jsx)(t.em,{children:"Navigate to the router section of DHCP, Network Connectivity or LAN settings."})]}),"\n",(0,s.jsx)(t.admonition,{title:"Fritzbox Router",type:"note",children:(0,s.jsxs)(t.p,{children:["Navigate to ",(0,s.jsx)(t.code,{children:"Home Network"})," > ",(0,s.jsx)(t.code,{children:"Network"})," > ",(0,s.jsx)(t.code,{children:"Network Connections"}),"."]})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"1.3 Open Device Settings"}),": ",(0,s.jsx)(t.em,{children:"Find the device setting windows for your specific IP addresses."})]}),"\n",(0,s.jsx)(t.admonition,{title:"Fritzbox Router",type:"note",children:(0,s.jsxs)(t.p,{children:["Browse the device list to find you node's ",(0,s.jsx)(t.code,{children:"IP"})," and ",(0,s.jsx)(t.code,{children:"MAC"})," address. Hit ",(0,s.jsx)(t.code,{children:"Edit"})," to open the reservation window."]})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"1.4 Add a Reservation Rule"}),": ",(0,s.jsx)(t.em,{children:"Find the IP assignment or reservation option for your device."})]}),"\n",(0,s.jsx)(t.admonition,{title:"Fritzbox Router",type:"note",children:(0,s.jsxs)(t.p,{children:["Within the device menu, select ",(0,s.jsx)(t.code,{children:"General"})," > ",(0,s.jsx)(t.code,{children:"Home Network"})," and enable ",(0,s.jsx)(t.code,{children:"Permanent IPv4 address"}),"."]})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"1.5 Apply and Save"}),": ",(0,s.jsx)(t.em,{children:"Apply the static IP rule to the DHCP service of the router."})]}),"\n",(0,s.jsx)(t.admonition,{title:"Fritzbox Router",type:"note",children:(0,s.jsxs)(t.p,{children:["On the bottom right side of the device menu, click ",(0,s.jsx)(t.code,{children:"Apply"}),"."]})}),"\n",(0,s.jsx)(t.p,{children:"After applying the changes, restartyour node for the automated IP assignment to take effect."}),"\n",(0,s.jsx)(t.h2,{id:"2-address-verification",children:"2. Address Verification"}),"\n",(0,s.jsx)(t.p,{children:"Once the node is back online, we can confirm if the IP matches your reservation:"}),"\n",(0,s.jsxs)(i.A,{children:[(0,s.jsxs)(a.A,{value:"local-ip",label:"Local IP Check",default:!0,children:[(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["You can use the ",(0,s.jsx)(t.code,{children:"ip"})," tool to display the system\u2019s default package route and source IP when connecting to the router. The default gateway's IP address is the intermediate route the system takes when sending data to an IP address outside its local network."]})}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sh",children:"ip route show default\n"})}),(0,s.jsx)(t.p,{children:"The output will look like this:"}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sh",children:"default via <GATEWAY_IP_ADDRESS> dev eno1 proto dhcp src <NODE_IP_ADDRESS> metric <ROUTING_WEIGHT>\n"})})]}),(0,s.jsxs)(a.A,{value:"public-ip",label:"Public IP Check",children:[(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["You can use the ",(0,s.jsx)(t.code,{children:"ip"})," tool to query a stable external address like the Google DNS address ",(0,s.jsx)(t.code,{children:"8.8.8.8"})," to reveal your source IP. You can further filter the IP parameter from the server's response using the text-processing tool ",(0,s.jsx)(t.code,{children:"awk"}),"."]})}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sh",children:"ip route get 8.8.8.8 | awk '{print $7}'\n"})})]})]}),"\n",(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsx)(t.p,{children:"If the IP differs, recheck your router\u2019s reservation settings."})}),"\n",(0,s.jsx)(t.h2,{id:"3-switch-to-remote-connection",children:"3. Switch to Remote Connection"}),"\n",(0,s.jsx)(t.p,{children:"With a fixed IP in place, you can relocate the node into a server rack or shelf."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sh",children:"sudo shutdown now\n"})}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["Once the node is offline, disconnect the monitor, keyboard, as well as power and network cables. Once power is restored, your node will ",(0,s.jsx)(t.strong,{children:"automatically boot"})," through the configured ",(0,s.jsx)(t.a,{href:"/docs/guides/hardware-setup/bios-setup",children:(0,s.jsx)(t.strong,{children:"BIOS Settings"})})," and should be reachable at its reserved IP address within 15\u201360 seconds."]})})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},1470:(e,t,n)=>{n.d(t,{A:()=>w});var r=n(6540),s=n(4164),o=n(3104),i=n(6347),a=n(205),l=n(7485),c=n(1682),d=n(679);function u(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return u(e).map((({props:{value:e,label:t,attributes:n,default:r}})=>({value:e,label:t,attributes:n,default:r})))}(n);return function(e){const t=(0,c.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p({value:e,tabValues:t}){return t.some((t=>t.value===e))}function m({queryString:e=!1,groupId:t}){const n=(0,i.W6)(),s=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,l.aZ)(s),(0,r.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(n.location.search);t.set(s,e),n.replace({...n.location,search:t.toString()})}),[s,n])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:s}=e,o=h(e),[i,l]=(0,r.useState)((()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find((e=>e.default))??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:o}))),[c,u]=m({queryString:n,groupId:s}),[f,g]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,s]=(0,d.Dv)(t);return[n,(0,r.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:s}),x=(()=>{const e=c??f;return p({value:e,tabValues:o})?e:null})();(0,a.A)((()=>{x&&l(x)}),[x]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),g(e)}),[u,g,o]),tabValues:o}}var g=n(2303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=n(4848);function b({className:e,block:t,selectedValue:n,selectValue:r,tabValues:i}){const a=[],{blockElementScrollPositionUntilNextRender:l}=(0,o.a_)(),c=e=>{const t=e.currentTarget,s=a.indexOf(t),o=i[s].value;o!==n&&(l(t),r(o))},d=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=a.indexOf(e.currentTarget)+1;t=a[n]??a[0];break}case"ArrowLeft":{const n=a.indexOf(e.currentTarget)-1;t=a[n]??a[a.length-1];break}}t?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},e),children:i.map((({value:e,label:t,attributes:r})=>(0,v.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{a.push(e)},onKeyDown:d,onClick:c,...r,className:(0,s.A)("tabs__item",x.tabItem,r?.className,{"tabs__item--active":n===e}),children:t??e},e)))})}function j({lazy:e,children:t,selectedValue:n}){const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=o.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:o.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n})))})}function y(e){const t=f(e);return(0,v.jsxs)("div",{className:(0,s.A)("tabs-container",x.tabList),children:[(0,v.jsx)(b,{...t,...e}),(0,v.jsx)(j,{...t,...e})]})}function w(e){const t=(0,g.A)();return(0,v.jsx)(y,{...e,children:u(e.children)},String(t))}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var r=n(6540);const s={},o=r.createContext(s);function i(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(o.Provider,{value:t},e.children)}},9365:(e,t,n)=>{n.d(t,{A:()=>i});n(6540);var r=n(4164);const s={tabItem:"tabItem_Ymn6"};var o=n(4848);function i({children:e,hidden:t,className:n}){return(0,o.jsx)("div",{role:"tabpanel",className:(0,r.A)(s.tabItem,n),hidden:t,children:e})}}}]);