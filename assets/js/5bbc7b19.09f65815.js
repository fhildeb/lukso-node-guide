"use strict";(self.webpackChunklukso_node_guide=self.webpackChunklukso_node_guide||[]).push([[9446],{8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>d});var i=n(6540);const r={},t=i.createContext(r);function o(e){const s=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:s},e.children)}},9306:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"guides/ssh-setup/key-login","title":"5.2 Key Login","description":"Using SSH key authentication greatly enhances your node\u2019s security by replacing password-based logins with cryptographic keys. In this section, you will generate and configure a authentication key to allow a more secure and passwordless login.","source":"@site/docs/guides/ssh-setup/key-login.md","sourceDirName":"guides/ssh-setup","slug":"/guides/ssh-setup/key-login","permalink":"/docs/guides/ssh-setup/key-login","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_label":"5.2 Key Login","sidebar_position":2},"sidebar":"guidesSidebar","previous":{"title":"5.1 Initialization","permalink":"/docs/guides/ssh-setup/initialization"},"next":{"title":"5.3 Authentication","permalink":"/docs/guides/ssh-setup/authentication"}}');var r=n(4848),t=n(8453);const o={sidebar_label:"5.2 Key Login",sidebar_position:2},d="5.2 Key Login",c={},a=[{value:"1. Check for Existing Keys",id:"1-check-for-existing-keys",level:2},{value:"2. Generate Key Pair",id:"2-generate-key-pair",level:2},{value:"3. Set Key Permissions",id:"3-set-key-permissions",level:2},{value:"4. Create Key Backup",id:"4-create-key-backup",level:2},{value:"5. Transfer Public Key",id:"5-transfer-public-key",level:2},{value:"6. Key Verification",id:"6-key-verification",level:2}];function l(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components},{Details:n}=s;return n||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"52-key-login",children:"5.2 Key Login"})}),"\n",(0,r.jsx)(s.p,{children:"Using SSH key authentication greatly enhances your node\u2019s security by replacing password-based logins with cryptographic keys. In this section, you will generate and configure a authentication key to allow a more secure and passwordless login."}),"\n",(0,r.jsx)(s.admonition,{title:"Key Pair Usage",type:"note",children:(0,r.jsx)(s.p,{children:"SSH keys use public\u2011key cryptography to authenticate without sending passwords over the network. You generate a private key, which will be kept secret, and a public key, that will be copied to the node. When you connect, the server challenges your client to prove you hold the private key\u2014without ever exposing it. SSH key authentication is resistant to brute\u2011force attacks, since an attacker cannot guess your private key in the same way they could guess a password."})}),"\n",(0,r.jsx)(s.h2,{id:"1-check-for-existing-keys",children:"1. Check for Existing Keys"}),"\n",(0,r.jsx)(s.p,{children:"Before creating a new key, you can check whether you already have one in the default SSH key directory."}),"\n",(0,r.jsxs)(s.admonition,{type:"info",children:[(0,r.jsxs)(s.p,{children:["By default, SSH keys are located in the ",(0,r.jsx)(s.code,{children:"~/.ssh"})," directory. The file names of the keys will depend on their encryption type:"]}),(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["RSA keys: ",(0,r.jsx)(s.code,{children:"~/.ssh/id_rsa"})]}),"\n",(0,r.jsxs)(s.li,{children:["ECDSA keys: ",(0,r.jsx)(s.code,{children:"~/.ssh/id_ecdsa"})]}),"\n",(0,r.jsxs)(s.li,{children:["Ed25519 keys: ",(0,r.jsx)(s.code,{children:"~/.ssh/id_ed25519"})]}),"\n"]}),(0,r.jsxs)(s.p,{children:["Use the ",(0,r.jsx)(s.code,{children:"ls"})," command to list the contents of a directory and serach for all public key files ending on ",(0,r.jsx)(s.code,{children:".pub"}),"."]})]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"ls ~/.ssh/*.pub\n"})}),"\n",(0,r.jsx)(s.admonition,{type:"tip",children:(0,r.jsxs)(s.p,{children:["If you see ",(0,r.jsx)(s.code,{children:"id_rsa.pub"}),", ",(0,r.jsx)(s.code,{children:"id_ecdsa.pub"}),", or ",(0,r.jsx)(s.code,{children:"id_ed25519.pub"})," keys, you could reuse an existing key. However, best practice is to generate a separate key pair for each service to limit exposure if one key is compromised."]})}),"\n",(0,r.jsx)(s.h2,{id:"2-generate-key-pair",children:"2. Generate Key Pair"}),"\n",(0,r.jsxs)(s.admonition,{type:"tip",children:[(0,r.jsxs)(s.p,{children:["You could alternatively consider generating a ",(0,r.jsx)(s.strong,{children:"hardware token"})," instead of generating a regular key file for maximum security. Such USB devices store your private key physically and must be plugged into the computer for a secure connection, protected from digital piracy."]}),(0,r.jsxs)(s.p,{children:["Great examples would be \ud83d\udfe1 ",(0,r.jsx)(s.a,{href:"https://developers.yubico.com/SSH/Securing_SSH_with_FIDO2.html",children:(0,r.jsx)(s.strong,{children:"YubiKey"})})," or other devices like \ud83d\udd32 ",(0,r.jsx)(s.a,{href:"https://support.ledger.com/article/115005198545-zd",children:(0,r.jsx)(s.strong,{children:"Ledger"})})," supporting \ud83d\udc64 ",(0,r.jsx)(s.a,{href:"https://fidoalliance.org/",children:(0,r.jsx)(s.strong,{children:"FIDO U2F"})}),"."]})]}),"\n",(0,r.jsx)(s.admonition,{type:"info",children:(0,r.jsxs)(s.p,{children:["The following steps are performed on your \ud83d\udcbb ",(0,r.jsx)(s.strong,{children:"personal computer"}),"."]})}),"\n",(0,r.jsx)(s.p,{children:"To create a new key, we can use the SSH Key Generation Tool. It is a widely used and integral part of the OpenSSH suite to generate, manage, and convert SSH public and private key pairs. First, we must decide which type of key to generate:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Key Type"}),(0,r.jsx)(s.th,{children:"Security"}),(0,r.jsx)(s.th,{children:"Efficiency"}),(0,r.jsx)(s.th,{children:"Compatibility"}),(0,r.jsx)(s.th,{children:"Size"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"RSA"}),(0,r.jsx)(s.td,{children:"Very High"}),(0,r.jsx)(s.td,{children:"Slower"}),(0,r.jsx)(s.td,{children:"Widely supported"}),(0,r.jsx)(s.td,{children:"Large"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"ECDSA"}),(0,r.jsx)(s.td,{children:"High"}),(0,r.jsx)(s.td,{children:"Fast"}),(0,r.jsx)(s.td,{children:"Moderately supported"}),(0,r.jsx)(s.td,{children:"Small"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Ed25519"}),(0,r.jsx)(s.td,{children:"Very High"}),(0,r.jsx)(s.td,{children:"Very fast"}),(0,r.jsx)(s.td,{children:"Mostly supported"}),(0,r.jsx)(s.td,{children:"Small"})]})]})]}),"\n",(0,r.jsx)(s.p,{children:"RSA is generally recommended for its strong security and wide compatibility."}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"2.1 Create a new key pair"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"ssh-keygen -t rsa -b 4096\n"})}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"Full Property Explanation"}),(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Option"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Description"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Value"})})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"-t"})}),(0,r.jsx)(s.td,{children:"Specifies the cryptographic key type."}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"rsa"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"-b"})}),(0,r.jsxs)(s.td,{children:["Specifies the number of bits in the key. A higher number of bits usually results in better security. The default key length for RSA keys is ",(0,r.jsx)(s.code,{children:"2048"})," bits, but using a ",(0,r.jsx)(s.code,{children:"4096"})," bits provides contemporary security for a blockchain node."]}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"4096"})})]})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"2.2 Enter file directory, name, and passphrase"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"/Users/<your-username>/.ssh/<your-chosen-keyname>\n"})}),"\n",(0,r.jsx)(s.admonition,{type:"tip",children:(0,r.jsxs)(s.p,{children:["Setting a passphrase is highly recommended for extra protection. This will mean you will be prompted to enter an additional password each time you connect to your node. The passphrase setup can be skipped by pressing ",(0,r.jsx)(s.em,{children:"Enter"}),"."]})}),"\n",(0,r.jsx)(s.admonition,{type:"warning",children:(0,r.jsx)(s.p,{children:"Never share or expose your private key. Treat it as your highest\u2011value secret."})}),"\n",(0,r.jsx)(s.h2,{id:"3-set-key-permissions",children:"3. Set Key Permissions"}),"\n",(0,r.jsx)(s.p,{children:"After its generation, set strict permissions to protect your private key:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"chmod 600 ~/.ssh/<your-chosen-keyname>\n"})}),"\n",(0,r.jsx)(s.admonition,{type:"info",children:(0,r.jsxs)(s.p,{children:["The command ",(0,r.jsx)(s.code,{children:"chmod 600"})," sets the permissions of your private key file so that only the owner can read and write into it. Without this restriction, anyone with access to your system could potentially misuse your private key."]})}),"\n",(0,r.jsx)(s.h2,{id:"4-create-key-backup",children:"4. Create Key Backup"}),"\n",(0,r.jsx)(s.p,{children:"Generate a backup before setting up the node authentication, otherwise you might not be able to remotely access your node. It's crucial to ensure the key is safety stored, especially while traveling or when your device may be damaged or lost."}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Precaution"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Description"})})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Backup"})}),(0,r.jsx)(s.td,{children:"Always create a backup and store it in a secure and separate location like an encrypted USB drive or a cloud."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Encryption"})}),(0,r.jsx)(s.td,{children:"Protect your private key with a strong passphrase or create an encrypted archive of the file to add an extra layer of security before the key can be used, even if someone gains access to the machine, USB drive, or cloud container."})]})]})]}),"\n",(0,r.jsx)(s.p,{children:"After backing up the generated key, we can continue using it in production."}),"\n",(0,r.jsx)(s.h2,{id:"5-transfer-public-key",children:"5. Transfer Public Key"}),"\n",(0,r.jsx)(s.p,{children:"Install your public key on the node for passwordless login:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"ssh-copy-id -i ~/.ssh/<your-chosen-keyname>.pub <ssh-device-alias>\n"})}),"\n",(0,r.jsx)(s.admonition,{type:"info",children:(0,r.jsxs)(s.p,{children:["Exchange ",(0,r.jsx)(s.code,{children:"<your-chosen-keyname>"})," and ",(0,r.jsx)(s.code,{children:"<ssh-device-alias>"})," with your generated key's file path and node's SSH alias."]})}),"\n",(0,r.jsx)(s.p,{children:"You will be prompted for your node\u2019s password one last time. Afterward, this should be your final output:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"Number of key(s) added:        1\n"})}),"\n",(0,r.jsx)(s.h2,{id:"6-key-verification",children:"6. Key Verification"}),"\n",(0,r.jsx)(s.p,{children:"Test to log into your node only using the newly deployed key:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"ssh <ssh-device-alias>\n"})}),"\n",(0,r.jsx)(s.p,{children:"You should connect without entering your node password."}),"\n",(0,r.jsx)(s.admonition,{type:"info",children:(0,r.jsxs)(s.p,{children:["The following steps are performed on your \ud83d\udcdf ",(0,r.jsx)(s.strong,{children:"node server"}),"."]})}),"\n",(0,r.jsx)(s.p,{children:"Ensure your public key file got added to the list of authorized keys:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-sh",children:"ls -al ~/.ssh/authorized_keys\n"})})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);