"use strict";(self.webpackChunklukso_node_guide=self.webpackChunklukso_node_guide||[]).push([[624],{1470:(e,n,s)=>{s.d(n,{A:()=>w});var r=s(6540),t=s(4164),i=s(3104),o=s(6347),a=s(205),l=s(7485),d=s(1682),c=s(679);function h(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:s}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return h(e).map((({props:{value:e,label:n,attributes:s,default:r}})=>({value:e,label:n,attributes:s,default:r})))}(s);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function p({value:e,tabValues:n}){return n.some((n=>n.value===e))}function x({queryString:e=!1,groupId:n}){const s=(0,o.W6)(),t=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(t),(0,r.useCallback)((e=>{if(!t)return;const n=new URLSearchParams(s.location.search);n.set(t,e),s.replace({...s.location,search:n.toString()})}),[t,s])]}function m(e){const{defaultValue:n,queryString:s=!1,groupId:t}=e,i=u(e),[o,l]=(0,r.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=n.find((e=>e.default))??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:i}))),[d,h]=x({queryString:s,groupId:t}),[m,g]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[s,t]=(0,c.Dv)(n);return[s,(0,r.useCallback)((e=>{n&&t.set(e)}),[n,t])]}({groupId:t}),j=(()=>{const e=d??m;return p({value:e,tabValues:i})?e:null})();(0,a.A)((()=>{j&&l(j)}),[j]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),g(e)}),[h,g,i]),tabValues:i}}var g=s(2303);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=s(4848);function y({className:e,block:n,selectedValue:s,selectValue:r,tabValues:o}){const a=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.a_)(),d=e=>{const n=e.currentTarget,t=a.indexOf(n),i=o[t].value;i!==s&&(l(n),r(i))},c=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const s=a.indexOf(e.currentTarget)+1;n=a[s]??a[0];break}case"ArrowLeft":{const s=a.indexOf(e.currentTarget)-1;n=a[s]??a[a.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":n},e),children:o.map((({value:e,label:n,attributes:r})=>(0,f.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{a.push(e)},onKeyDown:c,onClick:d,...r,className:(0,t.A)("tabs__item",j.tabItem,r?.className,{"tabs__item--active":s===e}),children:n??e},e)))})}function v({lazy:e,children:n,selectedValue:s}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function b(e){const n=m(e);return(0,f.jsxs)("div",{className:(0,t.A)("tabs-container",j.tabList),children:[(0,f.jsx)(y,{...n,...e}),(0,f.jsx)(v,{...n,...e})]})}function w(e){const n=(0,g.A)();return(0,f.jsx)(b,{...e,children:h(e.children)},String(n))}},5138:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"guides/modifications/dynamic-dns","title":"7.6 Dynamic DNS","description":"Blockchain clients typically do not remain a persistent connection and rely on static or temporary IP addresses that can change over time and cause connection issues to other peers in the network. Instead of using IP addresses, Dynamic DNS can be used to link your changing IP to a fixed hostname.","source":"@site/docs/guides/modifications/dynamic-dns.md","sourceDirName":"guides/modifications","slug":"/guides/modifications/dynamic-dns","permalink":"/docs/guides/modifications/dynamic-dns","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_label":"7.6 Dynamic DNS","sidebar_position":6},"sidebar":"guidesSidebar","previous":{"title":"7.5 Peer Count Limits","permalink":"/docs/guides/modifications/peer-count-limits"},"next":{"title":"7.7 Service Automation","permalink":"/docs/guides/modifications/service-automation"}}');var t=s(4848),i=s(8453),o=s(1470),a=s(9365);const l={sidebar_label:"7.6 Dynamic DNS",sidebar_position:6},d="7.6 Dynamic DNS",c={},h=[{value:"1. Registration",id:"1-registration",level:2},{value:"2. Installation",id:"2-installation",level:2},{value:"3. User Configuration",id:"3-user-configuration",level:2},{value:"4. Service Configuration",id:"4-service-configuration",level:2},{value:"5. DDNS Startup",id:"5-ddns-startup",level:2},{value:"6. Stop Node Operation",id:"6-stop-node-operation",level:2},{value:"7. Client DNS Update",id:"7-client-dns-update",level:2},{value:"8. Restart the Node",id:"8-restart-the-node",level:2},{value:"Maintenance",id:"maintenance",level:2},{value:"Revert Setup",id:"revert-setup",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"76-dynamic-dns",children:"7.6 Dynamic DNS"})}),"\n",(0,t.jsx)(n.p,{children:"Blockchain clients typically do not remain a persistent connection and rely on static or temporary IP addresses that can change over time and cause connection issues to other peers in the network. Instead of using IP addresses, Dynamic DNS can be used to link your changing IP to a fixed hostname."}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Further details about ",(0,t.jsx)(n.strong,{children:"DDNS"}),", setups, and providers can be found on the ",(0,t.jsx)(n.a,{href:"/docs/theory/node-operation/dynamic-dns",children:(0,t.jsx)(n.strong,{children:"Dynamic DNS"})})," page in the \ud83e\udde0 ",(0,t.jsx)(n.a,{href:"/docs/theory/preparations/node-specifications",children:(0,t.jsx)(n.strong,{children:"Theory"})})," section."]})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"Nimbus-Eth2"})," client does not support DDNS, as it's able to automatically detect public IP changes to update it's address accordingly. Instead of a dynamic DNS, please refer to the ",(0,t.jsx)(n.a,{href:"/docs/guides/modifications/public-ip-setup",children:(0,t.jsx)(n.strong,{children:"Public IP Setup"})})," to configure automatic IP updates."]})}),"\n",(0,t.jsx)(n.h2,{id:"1-registration",children:"1. Registration"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://www.noip.com/",children:"NO-IP"})," is one of the free and recommended DDNS providers. The service comes with plug-and-play installation and scripts, ideal for regular node setups. Within the free service, you will receive emails to extend the hostname once a month that needs to be confirmed to keep the hostname active. For little money, the domain ownership will be extended without further maintenance."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"1.1 Register on the Page"}),": Use ",(0,t.jsx)(n.em,{children:"email"})," and ",(0,t.jsx)(n.em,{children:"password"})," to create a new account on the ",(0,t.jsx)(n.a,{href:"https://www.noip.com/",children:"NO-IP Webpage"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"1.2 Choose a Hostname"}),": Choose a ",(0,t.jsx)(n.em,{children:"hostname"})," of your choice from the ",(0,t.jsx)(n.em,{children:"ddns.net"})," category."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"1.3 Verify your Email"}),": Complete the registration by confirming your email and optional payment."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"1.4 Improve Security"}),": Set ",(0,t.jsx)(n.em,{children:"2FA"}),", a ",(0,t.jsx)(n.em,{children:"username"}),", and add a ",(0,t.jsx)(n.em,{children:"security question"})," to protect against malicious actors."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Once the account is set up, the following steps are performed on your \ud83d\udcdf ",(0,t.jsx)(n.strong,{children:"node server"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"2-installation",children:"2. Installation"}),"\n",(0,t.jsxs)(n.p,{children:["To connect your node with the ",(0,t.jsx)(n.a,{href:"https://www.noip.com/",children:"NO-IP"})," service, you have to install their package."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"2.1 Download the NOIP Software"}),": Get the ",(0,t.jsx)(n.a,{href:"https://www.noip.com/download",children:"latest stable build"})," of ",(0,t.jsx)(n.em,{children:"DUC"})," for ",(0,t.jsx)(n.em,{children:"Linux"})," and install it within the source directory."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"# Move to Home Directory\ncd\n\n# Download Software\nsudo wget --content-disposition https://www.noip.com/download/linux/latest\n"})}),"\n",(0,t.jsx)(n.p,{children:"The output should be similar to this:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"[DATE] [TIME] (11.8 MB/s) - \u2018noip-duc_3.3.0.tar.gz\u2019 saved [4896895/4896895]\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Always sick to stable releases. As of June 2025, ",(0,t.jsx)(n.em,{children:"Version 3.3.0"})," is the latest stable release."]})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"2.2 Extract the Tape Archive"}),": Unpack the archive file using the downloaded build tool and move into it's binary."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo tar xf noip-duc_3.3.0.tar.gz\ncd noip-duc_3.3.0/binaries\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"tar"})," command will extract ",(0,t.jsx)(n.code,{children:"x"})," the tape archive into its previous packaged files ",(0,t.jsx)(n.code,{children:"f"}),"."]})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"The folder name will vary depending on the installed version."})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"2.3 Install the Binary"}),": Install the executable binary file of your architecture using the system's package manager."]}),"\n",(0,t.jsxs)(o.A,{groupId:"architecture",children:[(0,t.jsx)(a.A,{value:"amd",label:"AMD",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"# Enhence Permissions for Local Installation\nsudo chown _apt /var/lib/update-notifier/package-data-downloads/partial/\n\n# Install Binary\nsudo apt install ./noip-duc_3.3.0_amd64.deb\n\n# Return to Home Directory\ncd\n"})})}),(0,t.jsx)(a.A,{value:"arm",label:"ARM",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"# Enhence Permissions for Local Installation\nsudo chown _apt /var/lib/update-notifier/package-data-downloads/partial/\n\n# Install Binary\nsudo apt install ./noip-duc_3.3.0_arm64.deb\n\n# Return to Home Directory\ncd\n"})})})]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["You will have to enhence the permissions for the package manager's default ",(0,t.jsx)(n.code,{children:"_apt"})," user to be able to write into the partial download directory, used for installing local packages that have been pre-downloaded to the system."]})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"2.4 Verify Installation"}),": Check the installation folder and service files of the installed package."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"dpkg -L noip-duc\n"})}),"\n",(0,t.jsx)(n.p,{children:"The output should look similar to:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"/usr\n/usr/share\n/usr/share/doc\n/usr/share/doc/noip-duc\n/usr/share/doc/noip-duc/README.md\n/lib\n/lib/systemd\n/lib/systemd/system\n/lib/systemd/system/noip-duc.service\n/usr/share/doc/noip-duc/copyright\n/usr/bin\n/usr/bin/noip-duc\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"2.5 Check Executable"}),": Try to call the service directly from the terminal to ensure it can be called by the system."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"noip-duc\n"})}),"\n",(0,t.jsx)(n.p,{children:"The output should look similar to:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"USAGE:\n    noip-duc [OPTIONS] --username <USERNAME> --password <PASSWORD>\n\nFor more information try --help\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"2.6 Delete Installation Files"}),": After the installed package and executable have been verified, delete the installation files."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo rm -rf noip-duc_3.3.0 noip-duc_3.3.0.tar.gz\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"The folder name will vary depending on the installed version."})}),"\n",(0,t.jsx)(n.h2,{id:"3-user-configuration",children:"3. User Configuration"}),"\n",(0,t.jsx)(n.p,{children:"Since the service will be automatically starting and running, we need to set login credentials and preferences."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"3.1 Create User Config File"}),": Create the file with all your DDNS credentials and preferences using your preferred text editor."]}),"\n",(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(a.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo vim /etc/default/noip-duc\n"})})}),(0,t.jsx)(a.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo nano /etc/default/noip-duc\n"})})})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"3.2 Write User Configurations"}),": Input all your preferences and DDNS update interval, then save and exit the file."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"NOIP_USERNAME=<your-noip-username>\nNOIP_PASSWORD=<your-noip-password>\nNOIP_HOSTNAMES=<your-ddns-hostname>\nNOIP_CHECK_INTERVAL=5m\n"})}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:"The following properties need to be exchanged:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<your-noip-username>"})," with your NOIP email"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<your-noip-password>"})," with your NOIP password"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<your-ddns-hostname>"})," with your DDNS hostname ending on ",(0,t.jsx)(n.code,{children:".ddns.net"})]}),"\n"]})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"3.3 Update Permissions"}),": For better security, locking down the permissions so only the root user can access credentials."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo chmod 600 /etc/default/noip-duc\nsudo chown root:root /etc/default/noip-duc\n"})}),"\n",(0,t.jsx)(n.h2,{id:"4-service-configuration",children:"4. Service Configuration"}),"\n",(0,t.jsx)(n.p,{children:"The setup already installed a default NOIP service file that can be used to allow automatic startups during boot and restarts on failures. We can further modify the default service file to also check for logging, an online network connection."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"4.1 Open Service Config File"}),": Further customize the service file using your preferred text editor."]}),"\n",(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(a.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo vim /lib/systemd/system/noip-duc.service\n"})})}),(0,t.jsx)(a.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo nano /lib/systemd/system/noip-duc.service\n"})})})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"4.2 Update Service Configurations"}),": Add further preferences for network autages and restarts, then save and exit the file."]}),"\n",(0,t.jsxs)(o.A,{groupId:"logging-tool",children:[(0,t.jsx)(a.A,{value:"journal",label:"Journal Logging",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"[Unit]\nDescription=No-IP Dynamic Update Client\nAfter=network.target auditd.service syslog.target network-online.target\nWants=network-online.target\n\n[Service]\nEnvironmentFile=/etc/default/noip-duc\nExecStart=/usr/bin/noip-duc\nRestart=on-failure\nType=simple\nStandardOutput=journal\nStandardError=journal\n\n[Install]\nWantedBy=multi-user.target\n"})})}),(0,t.jsx)(a.A,{value:"system",label:"System Logging",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"[Unit]\nDescription=No-IP Dynamic Update Client\nAfter=network.target auditd.service syslog.target network-online.target\nWants=network-online.target\n\n[Service]\nEnvironmentFile=/etc/default/noip-duc\nExecStart=/usr/bin/noip-duc\nRestart=on-failure\nType=simple\nStandardOutput=syslog\nStandardError=syslog\n\n[Install]\nWantedBy=multi-user.target\n"})})})]}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Full Property Explanation"}),(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Property"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Description"})}),(0,t.jsxs)(n.td,{children:["A human-readable description of the service shown in ",(0,t.jsx)(n.code,{children:"systemctl status"}),"."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"After"})}),(0,t.jsxs)(n.td,{children:["- ",(0,t.jsx)(n.code,{children:"network.target"}),": Ensures networking setup enabled before service is started. ",(0,t.jsx)("br",{})," - ",(0,t.jsx)(n.code,{children:"auditd.service"}),": Ensures audit daemon is initialized before service is started. ",(0,t.jsx)("br",{})," - ",(0,t.jsx)(n.code,{children:"syslog.target"}),": Ensures system logging is ready before service is started. ",(0,t.jsx)("br",{})," - ",(0,t.jsx)(n.code,{children:"network-online.target"}),": Waits for network to be fully online before service is started."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Wants"})}),(0,t.jsxs)(n.td,{children:["Tries to fullfil ",(0,t.jsx)(n.code,{children:"network-online.target"})," but might start even if there is a temporary downtime."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"EnvironmentFile"})}),(0,t.jsxs)(n.td,{children:["Path to the ",(0,t.jsx)(n.code,{children:"/lib/systemd/system/noip-duc.service"})," configuration file."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ExecStart"})}),(0,t.jsxs)(n.td,{children:["Link to binary at ",(0,t.jsx)(n.code,{children:"/usr/bin/noip-duc"}),", started with the terminal command of the service."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Restart"})}),(0,t.jsxs)(n.td,{children:["Restarts the service ",(0,t.jsx)(n.code,{children:"on-failure"})," for a variety of reasons."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Type"})}),(0,t.jsxs)(n.td,{children:["Indicates running at a ",(0,t.jsx)(n.code,{children:"simple"})," service in the foreground without forking into a daemon process."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"StandardOutput"})}),(0,t.jsx)(n.td,{children:"Sends regular service logs to the journal or syslog system."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"StandardError"})}),(0,t.jsx)(n.td,{children:"Sends error service logs to the journal or syslog system."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"WantedBy"})}),(0,t.jsx)(n.td,{children:"Starts the service automatically during the system's normal multi-user boot."})]})]})]})]}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"Ensure there are no missing or unintended spaces, characters or linebreaks before saving the service configuration."})}),"\n",(0,t.jsx)(n.h2,{id:"5-ddns-startup",children:"5. DDNS Startup"}),"\n",(0,t.jsx)(n.p,{children:"After both, the user and service configuration are set in place, we can start the DDNS tool."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"5.1 Reaload Service Configs"}),": Reload the previously modified system manager configuration for all services."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl daemon-reload\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"5.2 Enable Autostarts"}),": Use the system control to create a symbolic link to enable startups during boot."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl enable noip-duc\n"})}),"\n",(0,t.jsx)(n.p,{children:"The output should be similar to:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"Created symlink /etc/systemd/system/noip.service \u2192 /lib/systemd/system/noip-duc.service.\nCreated symlink /etc/systemd/system/multi-user.target.wants/noip-duc.service \u2192 /lib/systemd/system/noip-duc.service.\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"5.3 Start the Service"}),": Use the system control to start the DDNS service with the configured user credentials and preferences."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl start noip-duc\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"5.4 Verify Status"}),": Use the system control to fetch the current status and check if it's running correctly."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl status noip-duc\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"The status will display whether it is active, enabled, or disabled and show any recent log entries."})}),"\n",(0,t.jsx)(n.p,{children:"The output should look similar to this:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"\u25cf noip-duc.service - No-IP Dynamic Update Client\n     Loaded: loaded (/lib/systemd/system/noip-duc.service; enabled; vendor preset: enabled)\n     Active: active (running) since [DATE] UTC; [TIME] ago\n   Main PID: 288425 (noip-duc)\n      Tasks: 1 (limit: 38033)\n     Memory: 388.0K\n        CPU: 7ms\n     CGroup: /system.slice/noip-duc.service\n             \u2514\u2500288425 /usr/bin/noip-duc\n\n[DATE] [TIME] [USER] systemd[1]: Started No-IP Dynamic Update Client.\n[DATE] [TIME] [USER] noip-duc[288425]: [DATE-TIME INFO  noip_duc::public_ip] Attempting to get IP with method Dns(No-IP Anycast DNS Tools)\n[DATE] [TIME] [USER] noip-duc[288425]: [DATE-TIME INFO  noip_duc::observer] got new ip; current=[YOUR_PUBLIC_IP], previous=0.0.0.0\n[DATE] [TIME] [USER] noip-duc[288425]: [DATE-TIME INFO  noip_duc::observer] update successful; current=[YOUR_PUBLIC_IP], previous=0.0.0.0\n[DATE] [TIME] [USER] noip-duc[288425]: [DATE-TIME INFO  noip_duc::observer] checking ip again in 5m\n...\n"})}),"\n",(0,t.jsx)(n.p,{children:"Remember your DDNS hostname or copy it to a notepad, as it will be necessary for the client updates."}),"\n",(0,t.jsx)(n.h2,{id:"6-stop-node-operation",children:"6. Stop Node Operation"}),"\n",(0,t.jsx)(n.p,{children:"Depending on your setup method, there are different ways to stop your node before linking your DDNS hostname."}),"\n",(0,t.jsxs)(o.A,{groupId:"setup",children:[(0,t.jsxs)(a.A,{value:"cli",label:"LUKSO CLI",default:!0,children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>\nlukso stop\n"})}),(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Exchange ",(0,t.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path of the node folder."]})})]}),(0,t.jsx)(a.A,{value:"automation",label:"Service Automation",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl stop lukso-validator\n"})})})]}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Force Client Shutdown"}),(0,t.jsxs)(o.A,{children:[(0,t.jsx)(a.A,{value:"geth",label:"Geth",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill geth\n"})})}),(0,t.jsx)(a.A,{value:"erigon",label:"Erigon",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill erigon\n"})})}),(0,t.jsx)(a.A,{value:"nethermind",label:"Nethermind",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill nethermind\n"})})}),(0,t.jsx)(a.A,{value:"besu",label:"Besu",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill besu\n"})})}),(0,t.jsx)(a.A,{value:"teku",label:"Teku",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill teku\n"})})}),(0,t.jsxs)(a.A,{value:"lighthouse",label:"Lighthouse",children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill lighthouse\n"})}),(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"The Lighthouse client uses a single binary for both the consensus and validator processes."})})]}),(0,t.jsx)(a.A,{value:"prysm",label:"Prysm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill prysm\nsudo pkill validator\n"})})})]})]}),"\n",(0,t.jsx)(n.h2,{id:"7-client-dns-update",children:"7. Client DNS Update"}),"\n",(0,t.jsx)(n.p,{children:"Depending on your consensus client, the DDNS hostname can be set with different properties."}),"\n",(0,t.jsxs)(o.A,{groupId:"client",children:[(0,t.jsxs)(a.A,{value:"prysm",label:"Prysm",children:[(0,t.jsx)(n.p,{children:"Open the configuration file using your preferred text editor."}),(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(a.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/prysm/\nvim prysm.yaml\n"})})}),(0,t.jsx)(a.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/prysm/\nnano prysm.yaml\n"})})})]})]}),(0,t.jsxs)(a.A,{value:"teku",label:"Teku",children:[(0,t.jsx)(n.p,{children:"Open the configuration file using your preferred text editor."}),(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(a.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/teku/\nvim teku.yaml\n"})})}),(0,t.jsx)(a.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/teku/\nnano teku.yaml\n"})})})]})]}),(0,t.jsxs)(a.A,{value:"lighthouse",label:"Lighthouse",children:[(0,t.jsx)(n.p,{children:"Open the configuration file using your preferred text editor."}),(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(a.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/lighthouse/\nvim lighthouse.toml\n"})})}),(0,t.jsx)(a.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/lighthouse/\nnano lighthouse.toml\n"})})})]})]})]}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:"The following properties need to be exchanged:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path to the node folder."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<network>"})," with the name of your node's network."]}),"\n"]})]}),"\n",(0,t.jsx)(n.p,{children:"Set the DDNS hostname within the settings, then save and exit the file."}),"\n",(0,t.jsxs)(o.A,{groupId:"client",children:[(0,t.jsxs)(a.A,{value:"prysm",label:"Prysm",children:[(0,t.jsxs)(n.p,{children:["In case the ",(0,t.jsx)(n.em,{children:"p2p-host-ip"})," property is set, disable it by putting a hash ",(0,t.jsx)(n.em,{children:"#"})," in front:"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"# Previous Value Examples\np2p-host-ip: '0.0.0.0'\np2p-host-ip: '<your-ip-address>'\n\n# Updated Value\n#p2p-host-ip: '0.0.0.0'\n#p2p-host-ip: '<your-ip-address>'\n"})}),(0,t.jsxs)(n.p,{children:["Then add the ",(0,t.jsx)(n.em,{children:"p2p-host-dns"})," property into a new line of the file:"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"# Added Property\np2p-host-dns: '<your-ddns-hostname>'\n"})})]}),(0,t.jsxs)(a.A,{value:"teku",label:"Teku",children:[(0,t.jsxs)(n.p,{children:["Update the ",(0,t.jsx)(n.em,{children:"p2p-advertised-ip"})," property."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"# Default Value Examples\np2p-advertised-ip: 0.0.0.0\np2p-advertised-ip: '<your-ip-address>'\n\n# Updated Value\np2p-advertised-ip: '<your-ddns-hostname>'\n"})})]}),(0,t.jsxs)(a.A,{value:"lighthouse",label:"Lighthouse",children:[(0,t.jsxs)(n.p,{children:["Update the ",(0,t.jsx)(n.em,{children:"enr-address"})," property."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"# Default Value Examples\nenr-address = \"0.0.0.0\"\nenr-address = '<your-ip-address>'\n\n# Updated Value\nenr-address = '<your-ddns-hostname>'\n"})})]})]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Exchange ",(0,t.jsx)(n.code,{children:"<your-ddns-hostname>"})," with the actual address of the DDNS hostname ending on ",(0,t.jsx)(n.code,{children:".ddns.net"}),"."]})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"Ensure there are no missing spaces, characters or unintended linebreaks before saving the configuration file."})}),"\n",(0,t.jsx)(n.h2,{id:"8-restart-the-node",children:"8. Restart the Node"}),"\n",(0,t.jsx)(n.p,{children:"Depending on your setup method, there are different ways to start your node after the DDNS hostname was added."}),"\n",(0,t.jsxs)(o.A,{groupId:"setup",children:[(0,t.jsxs)(a.A,{value:"clinode",label:"LUKSO CLI Node",default:!0,children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>\nlukso start --checkpoint-sync\n"})}),(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Exchange ",(0,t.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path of the node folder."]})})]}),(0,t.jsxs)(a.A,{value:"clivalidator",label:"LUKSO CLI Validator",default:!0,children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:'cd <lukso-working-directory>\nlukso start --validator --transaction-fee-recipient "<your-fee-recipient-address>" --checkpoint-sync\n'})}),(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:"The following properties need to be exchanged:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path of the node folder"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<your-fee-recipient-address>"})," with the wallet address receiving staking profits"]}),"\n"]})]})]}),(0,t.jsx)(a.A,{value:"automation",label:"Service Automation",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl start lukso-validator\n"})})})]}),"\n",(0,t.jsx)(n.p,{children:"After the clients were started, verify that their services are still up."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo lukso status\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["You should now have a stable and permanent blockchain connection. Wait some hours before ",(0,t.jsx)(n.a,{href:"/docs/guides/modifications/peer-count-limits",children:"rechecking your peer count"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"maintenance",children:"Maintenance"}),"\n",(0,t.jsx)(n.p,{children:"Proper maintenance ensures that all the components are working as intended and can be updated on the fly."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Logging"}),": Check the latest status of the system service."]}),"\n",(0,t.jsxs)(o.A,{groupId:"logging-tool",children:[(0,t.jsx)(a.A,{value:"journal",label:"Journal Logging",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo journalctl -f -u noip-duc\n"})})}),(0,t.jsx)(a.A,{value:"system",label:"System Logging",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo tail -f /var/log/syslog | grep noip-duc\n"})})})]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Further details about checking client logs files can be found on the ",(0,t.jsx)(n.a,{href:"/docs/guides/maintenance/problem-scanning",children:(0,t.jsx)(n.strong,{children:"Problem Scanning"})})," page."]})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Starting"}),": If you made any changes or updates to configuration, reload the system daemon and start the node."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl daemon-reload\nsudo systemctl restart noip-duc\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Stopping"}),": You can stop all the node clients and parent processes using the system control."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl stop noip-duc\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Further information about system control or logging can be found on the ",(0,t.jsx)(n.a,{href:"/docs/theory/node-operation/utility-tools",children:(0,t.jsx)(n.strong,{children:"Utility Tools"})})," page in the \ud83e\udde0 ",(0,t.jsx)(n.a,{href:"/docs/theory/preparations/node-specifications",children:(0,t.jsx)(n.strong,{children:"Theory"})})," section."]})}),"\n",(0,t.jsx)(n.h2,{id:"revert-setup",children:"Revert Setup"}),"\n",(0,t.jsx)(n.p,{children:"If something went wrong, you can remove the service and related files all together."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"1. Disable Node Service"}),": Remove the service link from the system's boot."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl disable noip-duc\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"2. Remove Service File"}),": Delete the service configuration file from the system folder."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo rm /lib/systemd/system/noip-duc.service\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"3. Reload System Service"}),": Reload the system daemon to apply latest service updates."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl daemon-reload\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"4. Remove Software Package"}),": Delete the binary and optional configuration files using the package management tool."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"# Remove Software\nsudo apt remove noip-duc\n\n# Remove Software and Configuration\nsudo apt purge noip-duc\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"5. Update Client Configuration"}),": Stop the node, update your DDNS or IP address, and restart the clients."]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var r=s(6540);const t={},i=r.createContext(t);function o(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}},9365:(e,n,s)=>{s.d(n,{A:()=>o});s(6540);var r=s(4164);const t={tabItem:"tabItem_Ymn6"};var i=s(4848);function o({children:e,hidden:n,className:s}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(t.tabItem,s),hidden:n,children:e})}}}]);