"use strict";(self.webpackChunklukso_node_guide=self.webpackChunklukso_node_guide||[]).push([[3731],{1470:(e,n,r)=>{r.d(n,{A:()=>w});var t=r(6540),s=r(4164),i=r(3104),l=r(6347),o=r(205),a=r(7485),d=r(1682),c=r(679);function h(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:r}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return h(e).map((({props:{value:e,label:n,attributes:r,default:t}})=>({value:e,label:n,attributes:r,default:t})))}(r);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function x({value:e,tabValues:n}){return n.some((n=>n.value===e))}function f({queryString:e=!1,groupId:n}){const r=(0,l.W6)(),s=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,a.aZ)(s),(0,t.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(r.location.search);n.set(s,e),r.replace({...r.location,search:n.toString()})}),[s,r])]}function p(e){const{defaultValue:n,queryString:r=!1,groupId:s}=e,i=u(e),[l,a]=(0,t.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!x({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:i}))),[d,h]=f({queryString:r,groupId:s}),[p,m]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[r,s]=(0,c.Dv)(n);return[r,(0,t.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:s}),j=(()=>{const e=d??p;return x({value:e,tabValues:i})?e:null})();(0,o.A)((()=>{j&&a(j)}),[j]);return{selectedValue:l,selectValue:(0,t.useCallback)((e=>{if(!x({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);a(e),h(e),m(e)}),[h,m,i]),tabValues:i}}var m=r(2303);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=r(4848);function b({className:e,block:n,selectedValue:r,selectValue:t,tabValues:l}){const o=[],{blockElementScrollPositionUntilNextRender:a}=(0,i.a_)(),d=e=>{const n=e.currentTarget,s=o.indexOf(n),i=l[s].value;i!==r&&(a(n),t(i))},c=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const r=o.indexOf(e.currentTarget)+1;n=o[r]??o[0];break}case"ArrowLeft":{const r=o.indexOf(e.currentTarget)-1;n=o[r]??o[o.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},e),children:l.map((({value:e,label:n,attributes:t})=>(0,g.jsx)("li",{role:"tab",tabIndex:r===e?0:-1,"aria-selected":r===e,ref:e=>{o.push(e)},onKeyDown:c,onClick:d,...t,className:(0,s.A)("tabs__item",j.tabItem,t?.className,{"tabs__item--active":r===e}),children:n??e},e)))})}function v({lazy:e,children:n,selectedValue:r}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find((e=>e.props.value===r));return e?(0,t.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function y(e){const n=p(e);return(0,g.jsxs)("div",{className:(0,s.A)("tabs-container",j.tabList),children:[(0,g.jsx)(b,{...n,...e}),(0,g.jsx)(v,{...n,...e})]})}function w(e){const n=(0,m.A)();return(0,g.jsx)(y,{...e,children:h(e.children)},String(n))}},6506:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/selfnode-d9b88f66a76eda08b57885447fcc427c.png"},8087:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>x,frontMatter:()=>a,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"guides/alert-systems/selfnode-alerts","title":"9.4 Selfnode Alerts","description":"Step-by-step guide to set up Selfnode Validator alerts for LUKSO for missed attestations, performance issues, and uptime tracking.","source":"@site/docs/guides/alert-systems/selfnode-alerts.md","sourceDirName":"guides/alert-systems","slug":"/guides/alert-systems/selfnode-alerts","permalink":"/docs/guides/alert-systems/selfnode-alerts","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_label":"9.4 Selfnodes Alerts","sidebar_position":4,"description":"Step-by-step guide to set up Selfnode Validator alerts for LUKSO for missed attestations, performance issues, and uptime tracking."},"sidebar":"guidesSidebar","previous":{"title":"9.3 Image Rendering","permalink":"/docs/guides/alert-systems/image-rendering"},"next":{"title":"10.1 Tailscale","permalink":"/docs/guides/external-access/tailscale"}}');var s=r(4848),i=r(8453),l=r(1470),o=r(9365);const a={sidebar_label:"9.4 Selfnodes Alerts",sidebar_position:4,description:"Step-by-step guide to set up Selfnode Validator alerts for LUKSO for missed attestations, performance issues, and uptime tracking."},d="9.4 Selfnode Alerts",c={},h=[{value:"1. Retrieve Validator Indices",id:"1-retrieve-validator-indices",level:2},{value:"2. Configure Validator Alerts",id:"2-configure-validator-alerts",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"94-selfnode-alerts",children:"9.4 Selfnode Alerts"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.a,{href:"https://www.selfnodes.com/validatormonitoring",children:"Selfnode Validator Monitoring"})," is a free and user-friendly alerting service that helps LUKSO validators monitor the performance and health of their nodes. Unlike setting up a custom alerting system using ",(0,s.jsx)(n.a,{href:"/docs/guides/alert-systems/grafana-notifications",children:"Grafana Notifications"})," and a ",(0,s.jsx)(n.a,{href:"/docs/guides/alert-systems/telegram-bot",children:"Telegram Bot"}),", Selfnode does not requires any advanced setup. Once you provide your validator indices, the service automatically tracks events and sends you alerts via various channels. It\u2019s ideal for homestakers who prefer simplicity and reliability without the overhead."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Selfnode Validator Monitoring Frontpage",src:r(6506).A+"",width:"3420",height:"1148"})}),"\n",(0,s.jsx)(n.admonition,{title:"Supported Notification Methods",type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ud83d\udce9 Email Inbox"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\udcf1 Telegram Channels"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\udc7e Discord Webhooks"}),"\n",(0,s.jsx)(n.li,{children:"\ud83d\udce5 Push Notifications"}),"\n"]})}),"\n",(0,s.jsx)(n.h2,{id:"1-retrieve-validator-indices",children:"1. Retrieve Validator Indices"}),"\n",(0,s.jsxs)(n.p,{children:["To begin receiving alerts, you must submit a list of your validator indices to Selfnode. These indices identify your validators on the LUKSO network. You can retrieve them by scanning your local validator logs, generated by the clients or ",(0,s.jsx)(n.a,{href:"https://github.com/lukso-network/tools-lukso-cli",children:"LUKSO CLI"}),"."]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The following steps are performed on your \ud83d\udcdf ",(0,s.jsx)(n.strong,{children:"node server"}),"."]})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"1. Move into Node Folder"}),": Navigate into your log folder within your node setup."]}),"\n",(0,s.jsxs)(l.A,{groupId:"network",children:[(0,s.jsx)(o.A,{value:"mainnet",label:"Mainnet",default:!0,children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"cd\ncd <lukso-working-directory>/mainnet-logs/\n"})})}),(0,s.jsx)(o.A,{value:"testnet",label:"Testnet",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"cd\ncd <lukso-working-directory>/testnet-logs/\n"})})})]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Exchange ",(0,s.jsx)(n.code,{children:"<lukso-working-directory>"})," with the actual folder name of your node setup."]})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"2. Search Resent Log File"}),": Find the latest validator log file to retrieve the imported validators."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:'find . -type f -name "*validator*" -printf "%T@ %p\\n" | sort -n | tail -1 | awk \'{print $2}\'\n'})}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"Full Command Description"}),(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Component"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(n.code,{children:"find ."})," "]})}),(0,s.jsx)(n.td,{children:"Current directory as the starting point for the file search."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(n.code,{children:"-type f"})," "]})}),(0,s.jsxs)(n.td,{children:["Tells ",(0,s.jsx)(n.code,{children:"find"})," to only consider regular files and ignore directories."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(n.code,{children:'-name "*validator*"'})," "]})}),(0,s.jsx)(n.td,{children:'Matches files with "validator" anywhere in their names.'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(n.code,{children:'-printf "%T@ %p\\n"'})," "]})}),(0,s.jsxs)(n.td,{children:["Formats the output to show modification time ",(0,s.jsx)(n.code,{children:"%T@"})," followed by the path ",(0,s.jsx)(n.code,{children:"%p"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(n.code,{children:"sort -n"})," "]})}),(0,s.jsx)(n.td,{children:"Pipes the list and sorts the lines numerically by the modification time."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(n.code,{children:"tail -1"})," "]})}),(0,s.jsx)(n.td,{children:"Selects the last line, corresponding to the most recently modified file."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(n.code,{children:"awk '{print $2}'"})," "]})}),(0,s.jsx)(n.td,{children:"Extracts and prints the file path from the output line."})]})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"3. Create Monitoring Link"}),": Search the most recent log file and access all imported validators."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"cat <validator-log.log> | grep -o 'index=[0-9]* ' | awk -F'=' '{printf \"%s,\", $2}' | sed 's/,$//' | tr -d ' ' | awk '{print $0}'\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Exchange ",(0,s.jsx)(n.code,{children:"<validator-log.log>"})," with the actual filename of the most recent validator log file."]})}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"Full Command Description"}),(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Component"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(n.code,{children:"cat file"})," "]})}),(0,s.jsx)(n.td,{children:"Displays all file contents including all the validator information."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(n.code,{children:"grep -o 'index=[0-9]* '"})," "]})}),(0,s.jsxs)(n.td,{children:["Extracts all occurrences of ",(0,s.jsx)(n.code,{children:"index="})," followed by digits, using ",(0,s.jsx)(n.code,{children:"-o"})," to return only matching parts."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(n.code,{children:"awk -F'=' '{printf \"%s,\", $2}'"})," "]})}),(0,s.jsxs)(n.td,{children:["Splits each match on ",(0,s.jsx)(n.code,{children:"="}),", and prints only the validator number followed by a comma."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(n.code,{children:"sed 's/,$//'"})," "]})}),(0,s.jsx)(n.td,{children:"Removes the trailing comma from the end of the list."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(n.code,{children:"tr -d ' '"})," "]})}),(0,s.jsx)(n.td,{children:"Deletes all spaces from the output, resulting in a compact list of comma-separated index numbers."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(n.code,{children:"awk '{print $0}'"})," "]})}),(0,s.jsx)(n.td,{children:"Prints the entire index number string"})]})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"The output will look similar to this one, having all your index numbers:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"111,222,888\n"})}),"\n",(0,s.jsx)(n.h2,{id:"2-configure-validator-alerts",children:"2. Configure Validator Alerts"}),"\n",(0,s.jsx)(n.p,{children:"Once you have your complete validator index list, you're ready to activate the related monitoring service."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Open the ",(0,s.jsx)(n.a,{href:"https://www.selfnodes.com/validatormonitoring",children:(0,s.jsx)(n.strong,{children:"Selfnode Validator Monitoring"})})," service."]}),"\n",(0,s.jsxs)(n.li,{children:["Select the ",(0,s.jsx)(n.strong,{children:"LUKSO Logo"})," from the dropdown menu on the left."]}),"\n",(0,s.jsxs)(n.li,{children:["Paste your comma-separated ",(0,s.jsx)(n.strong,{children:"Validator Index String"})," into the input field."]}),"\n",(0,s.jsxs)(n.li,{children:["Press the ",(0,s.jsx)(n.strong,{children:"Arrow Button"})," on the right to submit your validator list."]}),"\n",(0,s.jsxs)(n.li,{children:["Log in or ",(0,s.jsx)(n.strong,{children:"Create an Account"})," to configure your alerts."]}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{type:"tip",children:[(0,s.jsx)(n.p,{children:"Within the Selfnode Dashboard, you can configure when and how frequently messages are sent out by:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\ud83d\udce9 Attaching your ",(0,s.jsx)(n.em,{children:"Email"})," address."]}),"\n",(0,s.jsxs)(n.li,{children:["\ud83d\udcf1 Adding your ",(0,s.jsx)(n.em,{children:"Telegram"})," handle for a message channel."]}),"\n",(0,s.jsxs)(n.li,{children:["\ud83d\udc7e Configuring a ",(0,s.jsx)(n.em,{children:"Discord Webhook"})," for your server or message channel."]}),"\n",(0,s.jsxs)(n.li,{children:["\ud83d\udce5 Setting up ",(0,s.jsx)(n.em,{children:"Push Notifications"})," for a mobile device or desktop browser."]}),"\n"]})]})]})}function x(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>o});var t=r(6540);const s={},i=t.createContext(s);function l(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(i.Provider,{value:n},e.children)}},9365:(e,n,r)=>{r.d(n,{A:()=>l});r(6540);var t=r(4164);const s={tabItem:"tabItem_Ymn6"};var i=r(4848);function l({children:e,hidden:n,className:r}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,t.A)(s.tabItem,r),hidden:n,children:e})}}}]);