"use strict";(self.webpackChunklukso_node_guide=self.webpackChunklukso_node_guide||[]).push([[5934],{1470:(e,r,t)=>{t.d(r,{A:()=>w});var n=t(6540),s=t(4164),o=t(3104),i=t(6347),a=t(205),l=t(7485),d=t(1682),c=t(679);function u(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:r,children:t}=e;return(0,n.useMemo)((()=>{const e=r??function(e){return u(e).map((({props:{value:e,label:r,attributes:t,default:n}})=>({value:e,label:r,attributes:t,default:n})))}(t);return function(e){const r=(0,d.XI)(e,((e,r)=>e.value===r.value));if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[r,t])}function p({value:e,tabValues:r}){return r.some((r=>r.value===e))}function f({queryString:e=!1,groupId:r}){const t=(0,i.W6)(),s=function({queryString:e=!1,groupId:r}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:e,groupId:r});return[(0,l.aZ)(s),(0,n.useCallback)((e=>{if(!s)return;const r=new URLSearchParams(t.location.search);r.set(s,e),t.replace({...t.location,search:r.toString()})}),[s,t])]}function g(e){const{defaultValue:r,queryString:t=!1,groupId:s}=e,o=h(e),[i,l]=(0,n.useState)((()=>function({defaultValue:e,tabValues:r}){if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=r.find((e=>e.default))??r[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:r,tabValues:o}))),[d,u]=f({queryString:t,groupId:s}),[g,m]=function({groupId:e}){const r=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,s]=(0,c.Dv)(r);return[t,(0,n.useCallback)((e=>{r&&s.set(e)}),[r,s])]}({groupId:s}),x=(()=>{const e=d??g;return p({value:e,tabValues:o})?e:null})();(0,a.A)((()=>{x&&l(x)}),[x]);return{selectedValue:i,selectValue:(0,n.useCallback)((e=>{if(!p({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),m(e)}),[u,m,o]),tabValues:o}}var m=t(2303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=t(4848);function j({className:e,block:r,selectedValue:t,selectValue:n,tabValues:i}){const a=[],{blockElementScrollPositionUntilNextRender:l}=(0,o.a_)(),d=e=>{const r=e.currentTarget,s=a.indexOf(r),o=i[s].value;o!==t&&(l(r),n(o))},c=e=>{let r=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=a.indexOf(e.currentTarget)+1;r=a[t]??a[0];break}case"ArrowLeft":{const t=a.indexOf(e.currentTarget)-1;r=a[t]??a[a.length-1];break}}r?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":r},e),children:i.map((({value:e,label:r,attributes:n})=>(0,b.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{a.push(e)},onKeyDown:c,onClick:d,...n,className:(0,s.A)("tabs__item",x.tabItem,n?.className,{"tabs__item--active":t===e}),children:r??e},e)))})}function v({lazy:e,children:r,selectedValue:t}){const o=(Array.isArray(r)?r:[r]).filter(Boolean);if(e){const e=o.find((e=>e.props.value===t));return e?(0,n.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:o.map(((e,r)=>(0,n.cloneElement)(e,{key:r,hidden:e.props.value!==t})))})}function y(e){const r=g(e);return(0,b.jsxs)("div",{className:(0,s.A)("tabs-container",x.tabList),children:[(0,b.jsx)(j,{...r,...e}),(0,b.jsx)(v,{...r,...e})]})}function w(e){const r=(0,m.A)();return(0,b.jsx)(y,{...e,children:u(e.children)},String(r))}},5746:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>l,metadata:()=>n,toc:()=>u});const n=JSON.parse('{"id":"guides/monitoring/software-preparation","title":"8.1 Software Preparation","description":"Prepare your LUKSO node for monitoring by installing core system tools and setting up essential packages for Prometheus, Grafana, and metric exporters.","source":"@site/docs/guides/monitoring/software-preparation.md","sourceDirName":"guides/monitoring","slug":"/guides/monitoring/software-preparation","permalink":"/docs/guides/monitoring/software-preparation","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"8.1 Software Preparation","sidebar_position":1,"description":"Prepare your LUKSO node for monitoring by installing core system tools and setting up essential packages for Prometheus, Grafana, and metric exporters."},"sidebar":"guidesSidebar","previous":{"title":"7.8 Execution Dashboard","permalink":"/docs/guides/modifications/execution-dashboard"},"next":{"title":"8.2 Port Configuration","permalink":"/docs/guides/monitoring/port-configuration"}}');var s=t(4848),o=t(8453),i=t(1470),a=t(9365);const l={sidebar_label:"8.1 Software Preparation",sidebar_position:1,description:"Prepare your LUKSO node for monitoring by installing core system tools and setting up essential packages for Prometheus, Grafana, and metric exporters."},d="8.1 Software Preparation",c={},u=[];function h(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"81-software-preparation",children:"8.1 Software Preparation"})}),"\n",(0,s.jsx)(r.p,{children:"Node monitoring ensures that operators can solve issues ahead of time, maintain uptime, and optimize performance by providing real-time insight into system health, client status, and network usage. This page will walk you through the software installs and configurations needed to get your monitoring environment up and running. All the monitoring tooling, regardless of the client configurations, generally follows a modular approach of software modules."}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Step"}),(0,s.jsx)(r.th,{children:"Name"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"1"}),(0,s.jsx)(r.td,{children:"Install Core Tools & Port Configuration"}),(0,s.jsx)(r.td,{children:"Install required packages and expose monitoring ports."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"2"}),(0,s.jsx)(r.td,{children:"Create Exporter Services"}),(0,s.jsx)(r.td,{children:"Export metrics like system, consensus, and execution data."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"3"}),(0,s.jsx)(r.td,{children:"Setup Prometheus"}),(0,s.jsx)(r.td,{children:"Scrape and process metrics from exporter services."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"4"}),(0,s.jsx)(r.td,{children:"Configure Grafana"}),(0,s.jsx)(r.td,{children:"Visualizing metrics and creating dashboards."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"5"}),(0,s.jsx)(r.td,{children:"Configure Dashboard"}),(0,s.jsx)(r.td,{children:"Load dashboards and configure alerts."})]})]})]}),"\n",(0,s.jsx)(r.admonition,{type:"tip",children:(0,s.jsxs)(r.p,{children:["Further details about node analytics can be found on the ",(0,s.jsx)(r.a,{href:"/docs/theory/node-operation/monitoring-tools",children:(0,s.jsx)(r.strong,{children:"Monitoring Tools"})})," page in the \ud83e\udde0 ",(0,s.jsx)(r.a,{href:"/docs/theory/preparations/node-specifications",children:(0,s.jsx)(r.strong,{children:"Theory"})})," section."]})}),"\n",(0,s.jsxs)(r.admonition,{type:"info",children:[(0,s.jsx)(r.p,{children:"As the table suggests, exporter services and clients should be set up before configuring Prometheus or Grafana, so all data sources are set in place. Setting up the underlaying software first has the following benefits:"}),(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Problem Encapsulation"}),": By installing exporters beforehand, you can verify that the metrics are accessible and correctly exposed. Separated installation helps troubleshoot potential issues with the exporters or the services themselves."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"No Idle Rotation Problems"}),": With the exporters already installed and configured, Prometheus can immediately start scraping the endpoints and collecting metrics. Having data endpoints running ensures that you have data available for monitoring as soon as Prometheus is up, excluding errors where configurations need to be reloaded and updated."]}),"\n"]})]}),"\n",(0,s.jsxs)(i.A,{groupId:"editor",children:[(0,s.jsxs)(a.A,{value:"lukso-cli",label:"\ud83d\udc7e LUKSO CLI",default:!0,children:[(0,s.jsx)(r.p,{children:"The LUKSO CLI does not restrict the use of additional tools and monitoring solutions, but it also doesn\u2019t include any monitoring tools out of the box. That means the setup must be done manually and will dock onto the already running clients. The following six tools are essential to install before setting up Prometheus, Grafana, and the required Exporters:"}),(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Tool"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(r.strong,{children:"wget"})," "]})}),(0,s.jsx)(r.td,{children:"Utility for downloading files to fetch resources directly from the terminal."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(r.strong,{children:"make"})," "]})}),(0,s.jsx)(r.td,{children:"Automation tool used to compile software, required for compiling some exporter tools."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(r.strong,{children:"git"})," "]})}),(0,s.jsx)(r.td,{children:"Version control system used to clone repositories for exporter services."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(r.strong,{children:"apt-transport-https"})," "]})}),(0,s.jsx)(r.td,{children:"Allows to securely download packages over HTTPS, required for third-party software."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(r.strong,{children:"software-properties-common"})," "]})}),(0,s.jsxs)(r.td,{children:["Provides useful tools like ",(0,s.jsx)(r.code,{children:"add-apt-repository"})," to manage software sources."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsxs)("nobr",{children:[" ",(0,s.jsx)(r.strong,{children:"gnupg2"})," "]})}),(0,s.jsx)(r.td,{children:"Standard for secure encryption and signing, required for verifying package signatures."})]})]})]}),(0,s.jsx)(r.admonition,{type:"info",children:(0,s.jsxs)(r.p,{children:["The following step is performed on your \ud83d\udcdf ",(0,s.jsx)(r.strong,{children:"node server"}),"."]})}),(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-sh",children:"sudo apt install wget make git apt-transport-https software-properties-common gnupg2\n"})})]}),(0,s.jsxs)(a.A,{value:"dappnode",label:"\ud83c\udfa8 DAppNode",children:[(0,s.jsxs)(r.p,{children:["DAppNode provides an integrated monitoring solution called ",(0,s.jsx)(r.a,{href:"https://docs.dappnode.io/docs/user/packages/dms/",children:(0,s.jsx)(r.strong,{children:"DAppNode Monitoring Service"})}),". The software solution includes all necessary tools such as node exporters, Prometheus, and Grafana out of the box. The dashboards come pre-configured, and services are automatically hooked into the DAppNode-managed blockchain clients without custom installation."]}),(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://docs.dappnode.io/docs/user/packages/dms/",children:"DAappNode DMS Setup"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://docs.dappnode.io/docs/user/ethical-metrics/overview/",children:"DAppNode Metrics"})}),"\n"]})]}),(0,s.jsxs)(a.A,{value:"docker",label:"\ud83d\udc33 Docker",children:[(0,s.jsxs)(r.p,{children:["The LUKSO team provides a separate ",(0,s.jsx)(r.a,{href:"https://github.com/lukso-network/network-docker-monitoring",children:(0,s.jsx)(r.strong,{children:"Docker Monitoring Setup"})}),", designed to work alongside their default Docker repositories for node operators. The configuration includes all necessary exporter services, Prometheus, and Grafana within one single container."]}),(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://github.com/lukso-network/network-docker-monitoring",children:"LUKSO Docker Monitoring Setup"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://github.com/lukso-network/network-docker-containers",children:"LUKSO Docker Containers"})}),"\n"]})]})]})]})}function p(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,r,t)=>{t.d(r,{R:()=>i,x:()=>a});var n=t(6540);const s={},o=n.createContext(s);function i(e){const r=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(o.Provider,{value:r},e.children)}},9365:(e,r,t)=>{t.d(r,{A:()=>i});t(6540);var n=t(4164);const s={tabItem:"tabItem_Ymn6"};var o=t(4848);function i({children:e,hidden:r,className:t}){return(0,o.jsx)("div",{role:"tabpanel",className:(0,n.A)(s.tabItem,t),hidden:r,children:e})}}}]);