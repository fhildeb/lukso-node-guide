"use strict";(self.webpackChunklukso_node_guide=self.webpackChunklukso_node_guide||[]).push([[3251],{3233:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>a,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"guides/monitoring/port-configuration","title":"8.2 Port Configuration","description":"This page is currently under maintenance reworked and contains outdated content.","source":"@site/docs/guides/monitoring/port-configuration.md","sourceDirName":"guides/monitoring","slug":"/guides/monitoring/port-configuration","permalink":"/docs/guides/monitoring/port-configuration","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_label":"8.2 Port Configuration","sidebar_position":2},"sidebar":"guidesSidebar","previous":{"title":"8.1 Software Preparation","permalink":"/docs/guides/monitoring/software-preparation"},"next":{"title":"8.3 Node Exporter","permalink":"/docs/guides/monitoring/node-exporter"}}');var i=r(4848),s=r(8453);const o={sidebar_label:"8.2 Port Configuration",sidebar_position:2},d="8.2 Port Configuration",c={},l=[{value:"Opening Monitoring Ports",id:"opening-monitoring-ports",level:2},{value:"Blockchain Clients",id:"blockchain-clients",level:4},{value:"Prometheus",id:"prometheus",level:4}];function h(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"82-port-configuration",children:"8.2 Port Configuration"})}),"\n",(0,i.jsx)(n.admonition,{type:"danger",children:(0,i.jsx)(n.p,{children:"This page is currently under maintenance reworked and contains outdated content."})}),"\n",(0,i.jsx)(n.h2,{id:"opening-monitoring-ports",children:"Opening Monitoring Ports"}),"\n",(0,i.jsxs)(n.p,{children:["Our Blockchain Clients have various default ports over which specific monitoring can occur. We already used ",(0,i.jsx)(n.code,{children:"8545"})," within the CLI setup to check the status of the execution client. Prometheus will the similar steps in a more advanced and automated way to generate metrics."]}),"\n",(0,i.jsx)(n.h4,{id:"blockchain-clients",children:"Blockchain Clients"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"CLIENT / SERVICE"}),(0,i.jsx)(n.th,{children:"DESCRIPTION"}),(0,i.jsx)(n.th,{children:"TCP PORT"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"LIGHTHOUSE"}),(0,i.jsx)(n.td,{children:"Prometheus"}),(0,i.jsx)(n.td,{children:"9090"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"LIGHTHOUSE"}),(0,i.jsx)(n.td,{children:"Grafana"}),(0,i.jsx)(n.td,{children:"not built-in"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"LIGHTHOUSE"}),(0,i.jsx)(n.td,{children:"Ethereum JSON-RPC"}),(0,i.jsx)(n.td,{children:"8545"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"PRYSM"}),(0,i.jsx)(n.td,{children:"Prometheus"}),(0,i.jsx)(n.td,{children:"9090"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"PRYSM"}),(0,i.jsx)(n.td,{children:"Grafana"}),(0,i.jsx)(n.td,{children:"8080"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"PRYSM"}),(0,i.jsx)(n.td,{children:"Ethereum JSON-RPC"}),(0,i.jsx)(n.td,{children:"8545"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"PRYSM"}),(0,i.jsx)(n.td,{children:"Validator"}),(0,i.jsx)(n.td,{children:"8081"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"---------------"}),(0,i.jsx)(n.td,{children:"-----------------------"}),(0,i.jsx)(n.td,{children:"--------"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"NODE"}),(0,i.jsx)(n.td,{children:"Prometheus Exporter Job"}),(0,i.jsx)(n.td,{children:"9100"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"BLACKBOX"}),(0,i.jsx)(n.td,{children:"Prometheus Exporter Job"}),(0,i.jsx)(n.td,{children:"9115"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"JSON"}),(0,i.jsx)(n.td,{children:"Prometheus Exporter Job"}),(0,i.jsx)(n.td,{children:"7979"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Grafana"}),(0,i.jsx)(n.td,{children:"Monitoring Dashboard"}),(0,i.jsx)(n.td,{children:"3000"})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"prometheus",children:"Prometheus"}),"\n",(0,i.jsxs)(n.p,{children:["Opening the Prometheus port allows access to the service's metrics in your personal computer's web browser. You can do this by adding the port rule to your firewall as previously done in the ",(0,i.jsx)(n.a,{href:"#",children:"Firewall Config"}),":"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Opening these ports allows access if your personal computer is connected to the local network. For external access, you would need advanced configurations on your router."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Log into your node machine if you are not signed in already."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"ssh <ssh-device-alias>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Opening Prometheus Port:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo ufw allow 9090/tcp\n"})}),"\n",(0,i.jsx)(n.p,{children:"Opening Grafana Port:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo ufw allow 3000/tcp\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo ufw status\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The output for Geth and Prysm should look similar to the one underneath. Please note that ",(0,i.jsx)(n.code,{children:"<preferred-ssh-port>"})," will be exchanged with your actual SSH port."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"Status: active\n\nTo                         Action      From\n--                         ------      ----\n<preferred-ssh-port>/tcp        ALLOW       Anywhere\n30303/tcp                       ALLOW       Anywhere\n30303/udp                       ALLOW       Anywhere\n13000/tcp                       ALLOW       Anywhere\n12000/udp                       ALLOW       Anywhere\n9090/tcp                        ALLOW       Anywhere\n3000/tcp                        ALLOW       Anywhere\n<preferred-ssh-port>/tcp (v6)   ALLOW       Anywhere (v6)\n30303/tcp (v6)                  ALLOW       Anywhere (v6)\n30303/udp (v6)                  ALLOW       Anywhere (v6)\n13000/tcp (v6)                  ALLOW       Anywhere (v6)\n12000/udp (v6)                  ALLOW       Anywhere (v6)\n9090/tcp  (v6)                  ALLOW       Anywhere (v6)\n3000/tcp  (v6)                  ALLOW       Anywhere (v6)\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["To ",(0,i.jsx)(n.code,{children:"delete"})," a specific port rule using ",(0,i.jsx)(n.code,{children:"UFW"}),", type the ",(0,i.jsx)(n.code,{children:"<rule-number>"})," that is no longer required."]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo ufw delete <rule-number>\n"})})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>d});var t=r(6540);const i={},s=t.createContext(i);function o(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);