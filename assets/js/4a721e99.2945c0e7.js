"use strict";(self.webpackChunklukso_node_guide=self.webpackChunklukso_node_guide||[]).push([[7937],{1470:(e,n,t)=>{t.d(n,{A:()=>w});var r=t(6540),s=t(4164),i=t(3104),a=t(6347),o=t(205),l=t(7485),c=t(1682),d=t(679);function u(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return u(e).map((({props:{value:e,label:n,attributes:t,default:r}})=>({value:e,label:n,attributes:t,default:r})))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p({value:e,tabValues:n}){return n.some((n=>n.value===e))}function g({queryString:e=!1,groupId:n}){const t=(0,a.W6)(),s=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(s),(0,r.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(t.location.search);n.set(s,e),t.replace({...t.location,search:n.toString()})}),[s,t])]}function m(e){const{defaultValue:n,queryString:t=!1,groupId:s}=e,i=h(e),[a,l]=(0,r.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find((e=>e.default))??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:i}))),[c,u]=g({queryString:t,groupId:s}),[m,x]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,s]=(0,d.Dv)(n);return[t,(0,r.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:s}),f=(()=>{const e=c??m;return p({value:e,tabValues:i})?e:null})();(0,o.A)((()=>{f&&l(f)}),[f]);return{selectedValue:a,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),x(e)}),[u,x,i]),tabValues:i}}var x=t(2303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=t(4848);function b({className:e,block:n,selectedValue:t,selectValue:r,tabValues:a}){const o=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.a_)(),c=e=>{const n=e.currentTarget,s=o.indexOf(n),i=a[s].value;i!==t&&(l(n),r(i))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},e),children:a.map((({value:e,label:n,attributes:r})=>(0,j.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{o.push(e)},onKeyDown:d,onClick:c,...r,className:(0,s.A)("tabs__item",f.tabItem,r?.className,{"tabs__item--active":t===e}),children:n??e},e)))})}function v({lazy:e,children:n,selectedValue:t}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find((e=>e.props.value===t));return e?(0,r.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function k(e){const n=m(e);return(0,j.jsxs)("div",{className:(0,s.A)("tabs-container",f.tabList),children:[(0,j.jsx)(b,{...n,...e}),(0,j.jsx)(v,{...n,...e})]})}function w(e){const n=(0,x.A)();return(0,j.jsx)(k,{...e,children:u(e.children)},String(n))}},7598:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"guides/maintenance/gas-price-configuration","title":"11.6 Gas Price Configuration","description":"Learn how to configure minimum gas prices for Geth and other execution clients for LUKSO. Includes step-by-step guides for CLI, Dappnode, Docker, and custom setups.","source":"@site/docs/guides/maintenance/gas-price-configuration.md","sourceDirName":"guides/maintenance","slug":"/guides/maintenance/gas-price-configuration","permalink":"/docs/guides/maintenance/gas-price-configuration","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_label":"11.6 Gas Price Configuration","sidebar_position":6,"description":"Learn how to configure minimum gas prices for Geth and other execution clients for LUKSO. Includes step-by-step guides for CLI, Dappnode, Docker, and custom setups."},"sidebar":"guidesSidebar","previous":{"title":"11.5 Switch Clients","permalink":"/docs/guides/maintenance/switch-clients"},"next":{"title":"11.7 Reset Blockchain State","permalink":"/docs/guides/maintenance/reset-blockchain-state"}}');var s=t(4848),i=t(8453),a=t(1470),o=t(9365);const l={sidebar_label:"11.6 Gas Price Configuration",sidebar_position:6,description:"Learn how to configure minimum gas prices for Geth and other execution clients for LUKSO. Includes step-by-step guides for CLI, Dappnode, Docker, and custom setups."},c="11.6 Gas Price Configuration",d={},u=[{value:"Adjusting the Gas Price",id:"adjusting-the-gas-price",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"116-gas-price-configuration",children:"11.6 Gas Price Configuration"})}),"\n","\n",(0,s.jsxs)(n.p,{children:["Within the network configuration files, validators can adjust the minimum gas price for transactions they accept to propose blocks to the network. The minimum gas price is an ",(0,s.jsx)(n.strong,{children:"individual client setting"}),". Validators can choose the value they desire for block approval depending on the current network occupation."]}),"\n",(0,s.jsx)(n.admonition,{title:"Balancing Gas Fees",type:"warning",children:(0,s.jsx)(n.p,{children:"If most of the network accepts transactions with a small gas price, overall fees will remain lower. However, if the gas price is too high, the validator will propose empty blocks without transaction fees. As the network throughput rises, these values should be adjusted."})}),"\n",(0,s.jsx)(n.admonition,{title:"Default Gas Price",type:"tip",children:(0,s.jsxs)(n.p,{children:["The gas price mainly causes issues for Geth, as the execution client is using a strict default value that must be overwritten. The ",(0,s.jsx)(n.a,{href:"https://github.com/lukso-network/network-configs",children:(0,s.jsx)(n.strong,{children:"LUKSO Network Configuration"})})," was recently updated to a base gas price of ",(0,s.jsx)(n.strong,{children:"0.001 Gwei"})," for ",(0,s.jsx)(n.strong,{children:"Geth Execution Clients"}),". Further details can be found on the ",(0,s.jsx)(n.a,{href:"/docs/archive/network/configuration-updates",children:(0,s.jsx)(n.strong,{children:"Configuration Updates"})})," of the \ud83c\udfdb\ufe0f ",(0,s.jsx)(n.a,{href:"/docs/archive/network/blockchain-timeline",children:(0,s.jsx)(n.strong,{children:"Archive"})})," section."]})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The following steps are performed on your \ud83d\udcdf ",(0,s.jsx)(n.strong,{children:"node server"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"adjusting-the-gas-price",children:"Adjusting the Gas Price"}),"\n",(0,s.jsx)(n.p,{children:"If you are running the Geth execution client and experience block reward issues, reduce the minimum accepted gas fee."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"Erigon and Besu clients adjust their minimum gas fee based on the network's gas price dynamically without further redo."})}),"\n",(0,s.jsxs)(a.A,{children:[(0,s.jsxs)(o.A,{value:"cli",label:"\ud83d\udc7e LUKSO CLI",default:!0,children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"1. Stop Node Operation"}),": ",(0,s.jsx)(n.em,{children:"Depending on your setup method, there are different ways to stop your node to adjust configurations."})]}),(0,s.jsxs)(a.A,{groupId:"setup",children:[(0,s.jsxs)(o.A,{value:"cli",label:"LUKSO CLI",default:!0,children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>\nlukso stop\n"})}),(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Exchange ",(0,s.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path of the node folder."]})})]}),(0,s.jsx)(o.A,{value:"automation",label:"Service Automation",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"sudo systemctl stop lukso-validator\n"})})})]}),(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:"Force Client Shutdown"}),(0,s.jsxs)(a.A,{children:[(0,s.jsx)(o.A,{value:"geth",label:"Geth",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"sudo pkill geth\n"})})}),(0,s.jsx)(o.A,{value:"erigon",label:"Erigon",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"sudo pkill erigon\n"})})}),(0,s.jsx)(o.A,{value:"nethermind",label:"Nethermind",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"nethermind --version\n"})})}),(0,s.jsx)(o.A,{value:"besu",label:"Besu",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"besu --version\n"})})}),(0,s.jsx)(o.A,{value:"teku",label:"Teku",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"sudo pkill teku\n"})})}),(0,s.jsx)(o.A,{value:"nimbus2",label:"Nimbus-Eth2",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"sudo pkill nimbus_beacon_node\nsudo pkill nimbus_validator_client\n"})})}),(0,s.jsxs)(o.A,{value:"lighthouse",label:"Lighthouse",children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"sudo pkill lighthouse\n"})}),(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsx)(n.p,{children:"The Lighthouse client uses a single binary for both the consensus and validator processes."})})]}),(0,s.jsx)(o.A,{value:"prysm",label:"Prysm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"sudo pkill prysm\nsudo pkill validator\n"})})})]})]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"2. Adjust Gas Price"}),": ",(0,s.jsx)(n.em,{children:"Modify the default network configuration of Geth using your preferred editor."})]}),(0,s.jsxs)(a.A,{groupId:"editor",children:[(0,s.jsx)(o.A,{value:"vim",label:"Vim",default:!0,children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>\nvim geth/geth.toml\n"})})}),(0,s.jsx)(o.A,{value:"nano",label:"Nano",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>\nnano geth/geth.toml\n"})})})]}),(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Exchange ",(0,s.jsx)(n.code,{children:"<lukso-working-directory>"})," and ",(0,s.jsx)(n.code,{children:"<network>"})," with the path of the node folder and the network type."]})}),(0,s.jsxs)(n.p,{children:["Change the regular gas price setting to your preferred or the ",(0,s.jsx)(n.a,{href:"https://github.com/lukso-network/network-configs/blob/main/mainnet/geth/geth.toml",children:"currently recommended"})," one."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"# Regular Value\nGasPrice = 1000000000 # 1 Gwei\n\n# Updated Value\nGasPrice = 1000000 # 0.001 Gwei\n"})}),(0,s.jsx)(n.p,{children:"Save the file and exit the editor."}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"3. Restart the Node"}),": ",(0,s.jsx)(n.em,{children:"Depending on your setup, there are different ways to start your node with the updated configuration."})]}),(0,s.jsxs)(a.A,{groupId:"setup",children:[(0,s.jsxs)(o.A,{value:"clinode",label:"LUKSO CLI Node",default:!0,children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>\nlukso start --checkpoint-sync\n"})}),(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Exchange ",(0,s.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path of the node folder."]})})]}),(0,s.jsxs)(o.A,{value:"clivalidator",label:"LUKSO CLI Validator",default:!0,children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:'cd <lukso-working-directory>\nlukso start --validator --transaction-fee-recipient "<your-fee-recipient-address>" --checkpoint-sync\n'})}),(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsx)(n.p,{children:"The following properties need to be exchanged:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path of the node folder"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<your-fee-recipient-address>"})," with the wallet address receiving staking profits"]}),"\n"]})]})]}),(0,s.jsx)(o.A,{value:"automation",label:"Service Automation",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"sudo systemctl start lukso-validator\n"})})})]}),(0,s.jsx)(n.p,{children:"After the clients were started, verify that their services are still up."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"sudo lukso status\n"})})]}),(0,s.jsxs)(o.A,{value:"dappnode",label:"\ud83c\udfa8 Dappnode",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"1. Stop Node Operation"}),": Stop the execution and consensus client within the ",(0,s.jsx)(n.em,{children:"Node Operation View"}),"."]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"2. Navigate to Staker Menu"}),": Open the ",(0,s.jsx)(n.em,{children:"LUKSO Stakers"})," menu and move into the ",(0,s.jsx)(n.em,{children:"Lukso Geth Package"}),"."]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"3. Adjust Gas Price"}),": Navigate to the ",(0,s.jsx)(n.em,{children:"Configs"})," window and add the gas price flag in the ",(0,s.jsx)(n.em,{children:"EXTRA_OPTS"})," field."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"  --miner.gasprice 1000000\n"})}),(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The above value represents the ",(0,s.jsx)(n.a,{href:"https://github.com/lukso-network/network-configs/blob/main/mainnet/geth/geth.toml",children:"currently recommended"})," gas price of 0.001 Gwei."]})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"4. Restart the Node"}),": Restart the execution and consensus client within the ",(0,s.jsx)(n.em,{children:"Node Operation View"}),"."]})]}),(0,s.jsxs)(o.A,{value:"docker",label:"\ud83d\udc33 Docker Image",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"1. Stop Node Operation"}),": Stop the docker containers for both execution and consensus clients."]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"2. Adjust Gas Price"}),": Open the ",(0,s.jsx)(n.em,{children:"docker-compose.yml"})," file of Geth, adjust the gas price value, and safe the file."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"  --miner.gasprice 1000000\n"})}),(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The above value represents the ",(0,s.jsx)(n.a,{href:"https://github.com/lukso-network/network-configs/blob/main/mainnet/geth/geth.toml",children:"currently recommended"})," gas price of 0.001 Gwei."]})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"3. Restart the Node"}),": Restart the docker containers for execution and consensus clients."]})]}),(0,s.jsxs)(o.A,{value:"custom",label:"\ud83d\uddc2\ufe0f Custom Setup",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"1. Stop Node Operation"}),": ",(0,s.jsx)(n.em,{children:"Stop the execution and consensus services."})]}),(0,s.jsxs)(a.A,{groupId:"customization",children:[(0,s.jsxs)(o.A,{value:"file",label:"File Configuration",default:!0,children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"2. Adjust Gas Price"}),": Adjusting the ",(0,s.jsx)(n.em,{children:"geth.toml"})," file within your setup using your preferred text editor."]}),(0,s.jsxs)(a.A,{groupId:"editor",children:[(0,s.jsx)(o.A,{value:"vim",label:"Vim",default:!0,children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"vim geth/geth.toml\n"})})}),(0,s.jsx)(o.A,{value:"nano",label:"Nano",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"nano geth/geth.toml\n"})})})]}),(0,s.jsxs)(n.p,{children:["Change the regular gas price setting to your preferred or the ",(0,s.jsx)(n.a,{href:"https://github.com/lukso-network/network-configs/blob/main/mainnet/geth/geth.toml",children:"currently recommended"})," one."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"# Regular Value\nGasPrice = 1000000000 # 1 Gwei\n\n# Updated Value\nGasPrice = 1000000 # 0.001 Gwei\n"})}),(0,s.jsx)(n.p,{children:"Save the file and exit the editor."}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"3. Restart the Node"}),": ",(0,s.jsx)(n.em,{children:"Restart the execution and consensus services."})]})]}),(0,s.jsxs)(o.A,{value:"flag",label:"Flag Customization",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"2. Custom Restart"}),": Restart the Geth service and attach a customization flag for your gasprice setting."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"  --miner.gasprice 1000000\n"})})]})]}),(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The above value represents the ",(0,s.jsx)(n.a,{href:"https://github.com/lukso-network/network-configs/blob/main/mainnet/geth/geth.toml",children:"currently recommended"})," gas price of 0.001 Gwei."]})})]})]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var r=t(6540);const s={},i=r.createContext(s);function a(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:n},e.children)}},9365:(e,n,t)=>{t.d(n,{A:()=>a});t(6540);var r=t(4164);const s={tabItem:"tabItem_Ymn6"};var i=t(4848);function a({children:e,hidden:n,className:t}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(s.tabItem,t),hidden:n,children:e})}}}]);