"use strict";(globalThis.webpackChunklukso_node_guide=globalThis.webpackChunklukso_node_guide||[]).push([[385],{1470(e,n,r){r.d(n,{A:()=>I});var t=r(6540),s=r(4164),a=r(7559),o=r(3104),i=r(6347),l=r(205),d=r(7485),c=r(1682),u=r(679);function h(e){return t.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:r}=e;return(0,t.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:r,default:t}})=>({value:e,label:n,attributes:r,default:t}))}(r);return function(e){const n=(0,c.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,r])}function g({value:e,tabValues:n}){return n.some(n=>n.value===e)}function f({queryString:e=!1,groupId:n}){const r=(0,i.W6)(),s=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,d.aZ)(s),(0,t.useCallback)(e=>{if(!s)return;const n=new URLSearchParams(r.location.search);n.set(s,e),r.replace({...r.location,search:n.toString()})},[s,r])]}function m(e){const{defaultValue:n,queryString:r=!1,groupId:s}=e,a=p(e),[o,i]=(0,t.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!g({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const r=n.find(e=>e.default)??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:a})),[d,c]=f({queryString:r,groupId:s}),[h,m]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[r,s]=(0,u.Dv)(n);return[r,(0,t.useCallback)(e=>{n&&s.set(e)},[n,s])]}({groupId:s}),x=(()=>{const e=d??h;return g({value:e,tabValues:a})?e:null})();(0,l.A)(()=>{x&&i(x)},[x]);return{selectedValue:o,selectValue:(0,t.useCallback)(e=>{if(!g({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);i(e),c(e),m(e)},[c,m,a]),tabValues:a}}var x=r(2303);const j="tabList__CuJ",b="tabItem_LNqP";var v=r(4848);function y({className:e,block:n,selectedValue:r,selectValue:t,tabValues:a}){const i=[],{blockElementScrollPositionUntilNextRender:l}=(0,o.a_)(),d=e=>{const n=e.currentTarget,s=i.indexOf(n),o=a[s].value;o!==r&&(l(n),t(o))},c=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const r=i.indexOf(e.currentTarget)+1;n=i[r]??i[0];break}case"ArrowLeft":{const r=i.indexOf(e.currentTarget)-1;n=i[r]??i[i.length-1];break}}n?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:t})=>(0,v.jsx)("li",{role:"tab",tabIndex:r===e?0:-1,"aria-selected":r===e,ref:e=>{i.push(e)},onKeyDown:c,onClick:d,...t,className:(0,s.A)("tabs__item",b,t?.className,{"tabs__item--active":r===e}),children:n??e},e))})}function w({lazy:e,children:n,selectedValue:r}){const a=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===r);return e?(0,t.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:a.map((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==r}))})}function k(e){const n=m(e);return(0,v.jsxs)("div",{className:(0,s.A)(a.G.tabs.container,"tabs-container",j),children:[(0,v.jsx)(y,{...n,...e}),(0,v.jsx)(w,{...n,...e})]})}function I(e){const n=(0,x.A)();return(0,v.jsx)(k,{...e,children:h(e.children)},String(n))}},6023(e,n,r){r.d(n,{A:()=>t});const t=r.p+"assets/images/dashboard-7668b1660ec2f3902d75ad91a466b9e2.jpeg"},6123(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>l,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"guides/monitoring/dashboard-configuration","title":"8.8 Dashboard Configuration","description":"Set up a Grafana dashboard to visualize Prometheus metrics, monitor node health, and track performance with real-time charts and alerts.","source":"@site/docs/guides/monitoring/dashboard-configuration.md","sourceDirName":"guides/monitoring","slug":"/guides/monitoring/dashboard-configuration","permalink":"/docs/guides/monitoring/dashboard-configuration","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"sidebar_label":"8.8 Dashboard Configuration","sidebar_position":8,"description":"Set up a Grafana dashboard to visualize Prometheus metrics, monitor node health, and track performance with real-time charts and alerts."},"sidebar":"guidesSidebar","previous":{"title":"8.7 Grafana","permalink":"/docs/guides/monitoring/grafana"},"next":{"title":"8.9 External Monitoring","permalink":"/docs/guides/monitoring/external-monitoring"}}');var s=r(4848),a=r(8453),o=r(1470),i=r(9365);const l={sidebar_label:"8.8 Dashboard Configuration",sidebar_position:8,description:"Set up a Grafana dashboard to visualize Prometheus metrics, monitor node health, and track performance with real-time charts and alerts."},d="8.8 Dashboard Configuration",c={},u=[{value:"1. Resolve IP Address",id:"1-resolve-ip-address",level:2},{value:"2. Access Web Interface",id:"2-access-web-interface",level:2},{value:"3. Add Prometheus Data Source",id:"3-add-prometheus-data-source",level:2},{value:"4. Import Dashboard",id:"4-import-dashboard",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"88-dashboard-configuration",children:"8.8 Dashboard Configuration"})}),"\n",(0,s.jsx)(n.p,{children:"A Grafana dashboard is a powerful interface for visualizing real-time metrics, allowing node operators to monitor client performance, hardware usage, validator income, and network health. This guide will cover how to configure the dashboard interface after previously setting up the Prometheus data collector and exporter services."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Dashboard Preview",src:r(6023).A+"",width:"1980",height:"2392"})}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["Further details about node analytics can be found on the ",(0,s.jsx)(n.a,{href:"/docs/theory/node-operation/monitoring-tools",children:(0,s.jsx)(n.strong,{children:"Monitoring Tools"})})," page in the \ud83e\udde0 ",(0,s.jsx)(n.a,{href:"/docs/theory/preparations/node-specifications",children:(0,s.jsx)(n.strong,{children:"Theory"})})," section."]})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The following step is performed on your \ud83d\udcdf ",(0,s.jsx)(n.strong,{children:"node server"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"1-resolve-ip-address",children:"1. Resolve IP Address"}),"\n",(0,s.jsxs)(o.A,{children:[(0,s.jsxs)(i.A,{value:"local-ip",label:"Local IP Check",default:!0,children:[(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["You can use the ",(0,s.jsx)(n.code,{children:"ip"})," tool to display the system\u2019s default package route and source IP when connecting to the router. The default gateway's IP address is the intermediate route the system takes when sending data to an IP address outside its local network."]})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"ip route show default\n"})}),(0,s.jsx)(n.p,{children:"The output will look like this:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"default via <GATEWAY_IP_ADDRESS> dev eno1 proto dhcp src <NODE_IP_ADDRESS> metric <ROUTING_WEIGHT>\n"})})]}),(0,s.jsxs)(i.A,{value:"public-ip",label:"Public IP Check",children:[(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["You can use the ",(0,s.jsx)(n.code,{children:"ip"})," tool to query a stable external address like the Google DNS address ",(0,s.jsx)(n.code,{children:"8.8.8.8"})," to reveal your source IP and further filter the IP parameter from the server's response using the text-processing tool ",(0,s.jsx)(n.code,{children:"awk"}),"."]})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"ip route get 8.8.8.8 | awk '{print $7}'\n"})})]})]}),"\n",(0,s.jsx)(n.p,{children:"Remember or copy your node's IP address, then log out of your node and continue using your personal computer's browser."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"exit\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The following steps are performed on your \ud83d\udcbb ",(0,s.jsx)(n.strong,{children:"personal computer"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"2-access-web-interface",children:"2. Access Web Interface"}),"\n",(0,s.jsxs)(n.p,{children:["Open your browser and access your node's IP address on the ",(0,s.jsx)(n.a,{href:"/docs/guides/monitoring/port-configuration",children:"previously opened"})," Grafana port."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"http://<static-node-ip>:3000\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Exchange ",(0,s.jsx)(n.code,{children:"your-static-node-ip"})," with the actual retreived IP address."]})}),"\n",(0,s.jsx)(n.p,{children:"The default login credentials to the Grafana dashboard will be the following:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"DEFAULT CREDENTIALS\n-------------------\nusername: admin\npassword: admin\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"Set a new secure and long password when prompted by Grafana. Security is vital as this page will be exposed through VPNs."})}),"\n",(0,s.jsx)(n.h2,{id:"3-add-prometheus-data-source",children:"3. Add Prometheus Data Source"}),"\n",(0,s.jsxs)(n.p,{children:["By default, Grafana is not listening to any metrics that were previously set up using ",(0,s.jsx)(n.a,{href:"/docs/guides/monitoring/prometheus",children:"Prometheus"})," and all it's data sources. You have to first attach the running Prometheus service to the Grafana Dashboard so it can listen and gather metrics in it's own database."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Open the ",(0,s.jsx)(n.strong,{children:"Burger Menu"})," icon on the left side"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Connections"})," to manage data sources"]}),"\n",(0,s.jsxs)(n.li,{children:["Clic ",(0,s.jsx)(n.strong,{children:"Data sources"})," on the left menu bar"]}),"\n",(0,s.jsxs)(n.li,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Add Data Source"})," button at the top right"]}),"\n",(0,s.jsxs)(n.li,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Prometheus"})," card in the middle screen"]}),"\n",(0,s.jsxs)(n.li,{children:["Enter ",(0,s.jsx)(n.code,{children:"http://127.0.0.1:9090/"})," as ",(0,s.jsx)(n.strong,{children:"URL"})," to listen for data"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Save & Test"})," before continuing with the setup"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["You should see a green ",(0,s.jsx)(n.em,{children:"Data source is working"})," checkmark before continuing to import the dashboard."]})}),"\n",(0,s.jsx)(n.h2,{id:"4-import-dashboard",children:"4. Import Dashboard"}),"\n",(0,s.jsx)(n.p,{children:"After configuring the data source, you can continue to add the dashboard to vizualize the collected data and configure alerts. This guide already comes with a set of prebuilt Grafana templates that are ready to use. If you want, those dashboards can later be adjusted and modified to further customize your experience."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Navigate to the \ud83d\udcdd ",(0,s.jsx)(n.a,{href:"/templates",children:(0,s.jsx)(n.strong,{children:"Template"})})," section of this page"]}),"\n",(0,s.jsxs)(n.li,{children:["Choose the ",(0,s.jsx)(n.strong,{children:"JSON File"})," based on your ",(0,s.jsx)(n.a,{href:"/docs/guides/monitoring/prometheus",children:"Consensus Client"}),", ",(0,s.jsx)(n.a,{href:"/docs/guides/monitoring/grafana",children:"Grafana Version"}),", and ",(0,s.jsx)(n.a,{href:"/docs/guides/monitoring/json-exporter",children:"Fiat Currency"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Copy the raw ",(0,s.jsx)(n.strong,{children:"JSON File"})," contents by opening the file with a text editor"]}),"\n",(0,s.jsxs)(n.li,{children:["Open the ",(0,s.jsx)(n.strong,{children:"Grafana Landing Page"})," by clicking on the logo on the top left"]}),"\n",(0,s.jsxs)(n.li,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Plus Icon"})," on the top right corner of the page"]}),"\n",(0,s.jsxs)(n.li,{children:["Click on ",(0,s.jsx)(n.strong,{children:"Import Dashboard"})," to add a new interface"]}),"\n",(0,s.jsxs)(n.li,{children:["Paste the raw contents to the ",(0,s.jsx)(n.strong,{children:"Import via Panel JSON"})," text box"]}),"\n",(0,s.jsxs)(n.li,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Load"})," button to apply validity checks"]}),"\n",(0,s.jsxs)(n.li,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Import"})," button to install the dashboard"]}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{type:"tip",children:[(0,s.jsxs)(n.p,{children:["If you chose different ",(0,s.jsx)(n.strong,{children:"Ports"})," or ",(0,s.jsx)(n.strong,{children:"Prometheus Job-Names"}),", you will have to modify and match all configuration files."]}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Consensus client ports can be adjusted within the ",(0,s.jsx)(n.a,{href:"/docs/guides/monitoring/prometheus#3-dataset-configuration",children:"Prometheus Dataset Configuration"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Price Conversions require updating the ",(0,s.jsx)(n.a,{href:"/docs/guides/monitoring/json-exporter#3-price-configuration",children:"JSON Explorer Configuration"})," and ",(0,s.jsx)(n.a,{href:"/docs/guides/monitoring/prometheus#3-dataset-configuration",children:"Prometheus Dataset Configuration"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Job Names of the ",(0,s.jsx)(n.a,{href:"/docs/guides/monitoring/prometheus#3-dataset-configuration",children:"Prometheus Dataset"})," must match the Jobs of the ",(0,s.jsx)(n.a,{href:"/templates",children:"Grafana Dashboard"}),"."]}),"\n"]})]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Great and free examples of editors with JSON formatting are \ud83e\udd8e ",(0,s.jsx)(n.a,{href:"https://notepad-plus-plus.org/",children:(0,s.jsx)(n.strong,{children:"Notepad++"})})," or \ud83d\udd39 ",(0,s.jsx)(n.a,{href:"https://code.visualstudio.com/",children:(0,s.jsx)(n.strong,{children:"Visual Studio Code"})}),"."]})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453(e,n,r){r.d(n,{R:()=>o,x:()=>i});var t=r(6540);const s={},a=t.createContext(s);function o(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(a.Provider,{value:n},e.children)}},9365(e,n,r){r.d(n,{A:()=>o});r(6540);var t=r(4164);const s="tabItem_Ymn6";var a=r(4848);function o({children:e,hidden:n,className:r}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,t.A)(s,r),hidden:n,children:e})}}}]);