"use strict";(self.webpackChunklukso_node_guide=self.webpackChunklukso_node_guide||[]).push([[3374],{1470:(e,n,s)=>{s.d(n,{A:()=>w});var t=s(6540),i=s(4164),r=s(7559),l=s(3104),a=s(6347),o=s(205),c=s(7485),d=s(1682),h=s(679);function u(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:s}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return u(e).map((({props:{value:e,label:n,attributes:s,default:t}})=>({value:e,label:n,attributes:s,default:t})))}(s);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function x({value:e,tabValues:n}){return n.some((n=>n.value===e))}function g({queryString:e=!1,groupId:n}){const s=(0,a.W6)(),i=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(i),(0,t.useCallback)((e=>{if(!i)return;const n=new URLSearchParams(s.location.search);n.set(i,e),s.replace({...s.location,search:n.toString()})}),[i,s])]}function j(e){const{defaultValue:n,queryString:s=!1,groupId:i}=e,r=p(e),[l,a]=(0,t.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!x({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=n.find((e=>e.default))??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:r}))),[c,d]=g({queryString:s,groupId:i}),[u,j]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[s,i]=(0,h.Dv)(n);return[s,(0,t.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:i}),m=(()=>{const e=c??u;return x({value:e,tabValues:r})?e:null})();(0,o.A)((()=>{m&&a(m)}),[m]);return{selectedValue:l,selectValue:(0,t.useCallback)((e=>{if(!x({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);a(e),d(e),j(e)}),[d,j,r]),tabValues:r}}var m=s(2303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=s(4848);function v({className:e,block:n,selectedValue:s,selectValue:t,tabValues:r}){const a=[],{blockElementScrollPositionUntilNextRender:o}=(0,l.a_)(),c=e=>{const n=e.currentTarget,i=a.indexOf(n),l=r[i].value;l!==s&&(o(n),t(l))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const s=a.indexOf(e.currentTarget)+1;n=a[s]??a[0];break}case"ArrowLeft":{const s=a.indexOf(e.currentTarget)-1;n=a[s]??a[a.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},e),children:r.map((({value:e,label:n,attributes:t})=>(0,b.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{a.push(e)},onKeyDown:d,onClick:c,...t,className:(0,i.A)("tabs__item",f.tabItem,t?.className,{"tabs__item--active":s===e}),children:n??e},e)))})}function k({lazy:e,children:n,selectedValue:s}){const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=r.find((e=>e.props.value===s));return e?(0,t.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:r.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function y(e){const n=j(e);return(0,b.jsxs)("div",{className:(0,i.A)(r.G.tabs.container,"tabs-container",f.tabList),children:[(0,b.jsx)(v,{...n,...e}),(0,b.jsx)(k,{...n,...e})]})}function w(e){const n=(0,m.A)();return(0,b.jsx)(y,{...e,children:u(e.children)},String(n))}},3951:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"guides/maintenance/switch-clients","title":"11.5 Switch Clients","description":"Learn how to switch between execution and consensus clients on your LUKSO validator node to improve network decentralization and client diversity.","source":"@site/docs/guides/maintenance/switch-clients.md","sourceDirName":"guides/maintenance","slug":"/guides/maintenance/switch-clients","permalink":"/docs/guides/maintenance/switch-clients","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_label":"11.5 Switch Clients","sidebar_position":5,"description":"Learn how to switch between execution and consensus clients on your LUKSO validator node to improve network decentralization and client diversity."},"sidebar":"guidesSidebar","previous":{"title":"11.4 Revert Client Versions","permalink":"/docs/guides/maintenance/revert-client-versions"},"next":{"title":"11.6 Gas Price Configuration","permalink":"/docs/guides/maintenance/gas-price-configuration"}}');var i=s(4848),r=s(8453),l=s(1470),a=s(9365);const o={sidebar_label:"11.5 Switch Clients",sidebar_position:5,description:"Learn how to switch between execution and consensus clients on your LUKSO validator node to improve network decentralization and client diversity."},c="11.5 Switch Clients",d={},h=[{value:"1. Stop Node Operation",id:"1-stop-node-operation",level:2},{value:"2. Switch Client Software",id:"2-switch-client-software",level:2},{value:"3. Apply Client Modifications",id:"3-apply-client-modifications",level:2},{value:"4. Restart the Validator",id:"4-restart-the-validator",level:2},{value:"5. Data Cleanup",id:"5-data-cleanup",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"115-switch-clients",children:"11.5 Switch Clients"})}),"\n",(0,i.jsx)(n.p,{children:"Client diversity refers to the use of multiple independent software implementations across a network, written by different teams and with different coding languages. Through the diverse setup, the network security is improved, and the risk of single points of failure get reduced as errors in a single client do not affect the overall network's security."}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["Further details can be found on the ",(0,i.jsx)(n.a,{href:"/docs/theory/blockchain-knowledge/client-diversity",children:(0,i.jsx)(n.strong,{children:"Client Diversity"})})," page of the \ud83e\udde0 ",(0,i.jsx)(n.a,{href:"/docs/theory/preparations/node-specifications",children:(0,i.jsx)(n.strong,{children:"Theory"})})," section"]})}),"\n",(0,i.jsx)(n.admonition,{title:"Client Imbalances",type:"danger",children:(0,i.jsxs)(n.p,{children:["The majority of nodes on the LUKSO network ",(0,i.jsx)(n.a,{href:"https://clientdiversity.lukso.network/#distribution",children:(0,i.jsx)(n.strong,{children:"is running Geth and Prysm"})})," setups. Node operators are responsible to ensure they ",(0,i.jsx)(n.strong,{children:"split their client usage evenly"})," across ",(0,i.jsx)(n.a,{href:"/docs/theory/blockchain-knowledge/client-providers",children:(0,i.jsx)(n.strong,{children:"officially supported clients"})})," to improve resilence of the blockchain. If you are in a position to do so, you should adapt your client setup to ensure greater diversity."]})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["The following steps are performed on your \ud83d\udcdf ",(0,i.jsx)(n.strong,{children:"node server"}),"."]})}),"\n",(0,i.jsx)(n.h2,{id:"1-stop-node-operation",children:"1. Stop Node Operation"}),"\n",(0,i.jsx)(n.p,{children:"Depending on your setup method, there are different ways to stop your node before applying updates."}),"\n",(0,i.jsxs)(l.A,{groupId:"setup",children:[(0,i.jsxs)(a.A,{value:"cli",label:"LUKSO CLI",default:!0,children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>\nlukso stop\n"})}),(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Exchange ",(0,i.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path of the node folder."]})})]}),(0,i.jsx)(a.A,{value:"automation",label:"Service Automation",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo systemctl stop lukso-validator\n"})})})]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Force Client Shutdown"}),(0,i.jsxs)(l.A,{children:[(0,i.jsx)(a.A,{value:"geth",label:"Geth",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo pkill geth\n"})})}),(0,i.jsx)(a.A,{value:"erigon",label:"Erigon",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo pkill erigon\n"})})}),(0,i.jsx)(a.A,{value:"nethermind",label:"Nethermind",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo pkill nethermind\n"})})}),(0,i.jsx)(a.A,{value:"besu",label:"Besu",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo pkill besu\n"})})}),(0,i.jsx)(a.A,{value:"teku",label:"Teku",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo pkill teku\n"})})}),(0,i.jsx)(a.A,{value:"nimbus2",label:"Nimbus-Eth2",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo pkill nimbus_beacon_node\nsudo pkill nimbus_validator_client\n"})})}),(0,i.jsxs)(a.A,{value:"lighthouse",label:"Lighthouse",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo pkill lighthouse\n"})}),(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"The Lighthouse client uses a single binary for both the consensus and validator processes."})})]}),(0,i.jsx)(a.A,{value:"prysm",label:"Prysm",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo pkill prysm\nsudo pkill validator\n"})})})]})]}),"\n",(0,i.jsx)(n.h2,{id:"2-switch-client-software",children:"2. Switch Client Software"}),"\n",(0,i.jsx)(n.p,{children:"Depending on whether you're switching only the execution client or both execution and consensus clients, the process and complexity will vary. While execution clients can be swapped directly within the existing node folder, changing the consensus client requires a full validator reconfiguration and monitoring updates."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Type"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Description"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)("nobr",{children:" Execution Client Only "})}),(0,i.jsx)(n.td,{children:"Replaces client binary and reinitalizes the node folder while keeping the validator setup."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)("nobr",{children:" Execution and Consensus "})}),(0,i.jsx)(n.td,{children:"Requires new folder setup, new validator wallet, and firewall reconfiguration."})]})]})]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["If you switch the consensus client, you must re-import your ",(0,i.jsx)(n.em,{children:"keystore-xxx.json"})," key files generated within the ",(0,i.jsx)(n.a,{href:"/docs/guides/validator-setup/precautions",children:(0,i.jsx)(n.strong,{children:"Validator Setup"})}),".\nAdditionally, you also have to update the ",(0,i.jsx)(n.a,{href:"/docs/guides/monitoring/port-configuration",children:(0,i.jsx)(n.strong,{children:"Prometheus Ports"})}),", ",(0,i.jsx)(n.a,{href:"/docs/guides/monitoring/prometheus",children:(0,i.jsx)(n.strong,{children:"Prometheus Service"})}),", and ",(0,i.jsx)(n.a,{href:"/docs/guides/monitoring/dashboard-configuration",children:(0,i.jsx)(n.strong,{children:"Grafana Dashboard"})}),", as the monitoring software will not be able to read from the old consensus ports."]})}),"\n",(0,i.jsxs)(l.A,{groupId:"client-type",children:[(0,i.jsxs)(a.A,{value:"execution",label:"Execution Client Only",default:!0,children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"2.1 Navigate into the Node Folder"}),": ",(0,i.jsx)(n.em,{children:"Move into the node's working directory to initialize your node clients."})]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"cd ./<lukso-working-directory>\n"})}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"2.2 Remove Old State"}),": ",(0,i.jsx)(n.em,{children:"Delete client-specific blockchain state and logs, and re-initialize the folder."})]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"# Remove Blockchain Data\nrm -rf <network>-data\n\n# Remove Logs\nrm -rf <network>-logs\n\n# Initialize the Folder\nsudo lukso init\n"})}),(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"lukso init"})," command only adds missing files within the ",(0,i.jsx)(n.code,{children:"/configs/"})," folder without overwriting existing ones."]})}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"2.3 Install Client"}),": ",(0,i.jsx)(n.em,{children:"Select and install a minority execution client alongside your old consensus client."})]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"lukso install\n"})}),(0,i.jsx)(n.p,{children:"Check if both clients were installed correctly using their version commands:"}),(0,i.jsxs)(l.A,{children:[(0,i.jsx)(a.A,{value:"geth",label:"Geth",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"geth --version\n"})})}),(0,i.jsx)(a.A,{value:"erigon",label:"Erigon",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"erigon --version\n"})})}),(0,i.jsx)(a.A,{value:"nethermind",label:"Nethermind",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"nethermind --version\n"})})}),(0,i.jsx)(a.A,{value:"besu",label:"Besu",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"besu --version\n"})})}),(0,i.jsx)(a.A,{value:"nimbus2",label:"Nimbus-Eth2",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"nimbus_beacon_node --version\n"})})}),(0,i.jsx)(a.A,{value:"lighthouse",label:"Lighthouse",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"# Consensus Client\nlighthouse --version\n\n# Validator Client\nlighthouse vc --version\n"})})}),(0,i.jsx)(a.A,{value:"teku",label:"Teku",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"# Consensus Client\nteku --version\n\n# Validator Client\nteku validator-client --version\n"})})}),(0,i.jsx)(a.A,{value:"prysm",label:"Prysm",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"# Consensus Client\nprysm --version\n\n# Validator Client\nprysm validator --version\n"})})})]}),(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"If you encounter errors during the download or checkups, re-do the installation process."})})]}),(0,i.jsxs)(a.A,{value:"consensus-execution",label:"Consensus and Execution Clients",children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"2.1 Apply New Firewall Rules"}),": ",(0,i.jsxs)(n.em,{children:["Apply the new consensus client's ",(0,i.jsx)(n.a,{href:"/docs/guides/client-setup/firewall-settings",children:"firewall rules"})," to your system."]})]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"2.2 Arrange New Router Ports"}),": ",(0,i.jsxs)(n.em,{children:["Apply the new consensus client's ",(0,i.jsx)(n.a,{href:"/docs/guides/client-setup/firewall-settings",children:"port rules"})," to your router."]})]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"2.3 Fresh Node Setup"}),": ",(0,i.jsxs)(n.em,{children:["Redo the ",(0,i.jsx)(n.a,{href:"/docs/guides/client-setup/lukso-cli-installation",children:"LUKSO CLI Installation"})," within a new node folder."]})]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"2.4 Add Validator Configuration"}),": ",(0,i.jsxs)(n.em,{children:["Redo the ",(0,i.jsx)(n.a,{href:"/docs/guides/client-setup/validator-configuration",children:"Validator Configuration"})," to setup the new validator wallet."]})]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"2.5 Arrange New Prometheus Ports"}),": ",(0,i.jsxs)(n.em,{children:["Reconfigure the ",(0,i.jsx)(n.a,{href:"/docs/guides/monitoring/port-configuration",children:"Prometheus Ports"})," to allow reading consensus data."]})]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"2.6 Update the Prometheus Service"}),": ",(0,i.jsxs)(n.em,{children:["Update the ",(0,i.jsx)(n.a,{href:"/docs/guides/monitoring/prometheus",children:"Prometheus Service File"})," to dock onto the new consensus port"]})]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"2.7 Update the Grafana Dashboard"}),": ",(0,i.jsxs)(n.em,{children:["Import the correct ",(0,i.jsx)(n.a,{href:"/docs/guides/monitoring/dashboard-configuration",children:"Grafana Dashboard"})," for your new consensus client."]})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"3-apply-client-modifications",children:"3. Apply Client Modifications"}),"\n",(0,i.jsxs)(n.p,{children:["In case you did any modifications to your previous client configuration files, please re-apply them to your new client configuration files within the ",(0,i.jsx)(n.em,{children:"config"})," folder of your node directory before starting up your updated validator node. Modifications may include:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://stats.execution.mainnet.lukso.network/",children:"Attaching the Node Explorer"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/guides/modifications/dynamic-dns",children:"Configuring a Dynamic DNS"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/guides/modifications/custom-node-name",children:"Adding a Node Name or Graffiti"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/guides/modifications/public-ip-setup",children:"Attaching the Public IP"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/guides/modifications/peer-count-limits",children:"Adjusting Peer Count Limits"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/guides/maintenance/problem-scanning#attach-execution-clients",children:"Enabling RPC Modules"})}),"\n",(0,i.jsx)(n.li,{children:"..."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"4-restart-the-validator",children:"4. Restart the Validator"}),"\n",(0,i.jsx)(n.p,{children:"After installing and configuring the new client setup, you can start up the node again."}),"\n",(0,i.jsxs)(l.A,{children:[(0,i.jsxs)(a.A,{value:"regular-sync",label:"Regular Synchronization",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'# Starting the Mainnet Node as Validator\nlukso start --validator --transaction-fee-recipient "<transaction-fee-recipient-address>"\n\n# Starting the Testnet Node as Validator\nlukso start --validator --transaction-fee-recipient "<transaction-fee-recipient-address>" --testnet\n'})}),(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Replace ",(0,i.jsx)(n.code,{children:"<transaction-fee-recipient-address>"})," with your actual withdrawal address."]})})]}),(0,i.jsxs)(a.A,{value:"automated-checkpoints",label:"Automated Checkpoints",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'# Starting the Mainnet Node as Validator\nlukso start --validator --transaction-fee-recipient "<transaction-fee-recipient-address>" --checkpoint-sync\n\n# Starting the Testnet Node as Validator\nlukso start --validator --testnet --transaction-fee-recipient "<transaction-fee-recipient-address>" --checkpoint-sync\n'})}),(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Replace ",(0,i.jsx)(n.code,{children:"<transaction-fee-recipient-address>"})," with your actual withdrawal address."]})})]}),(0,i.jsxs)(a.A,{value:"manual-checkpoints",label:"Manual Checkpoints",children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Visit the ",(0,i.jsx)(n.a,{href:"https://checkpoints.mainnet.lukso.network/",children:"Mainnet Checkpoint Explorer"})," or ",(0,i.jsx)(n.a,{href:"https://checkpoints.testnet.lukso.network/",children:"Testnet Checkpoint Explorer"})]}),"\n",(0,i.jsxs)(n.li,{children:["Pass the latest ",(0,i.jsx)(n.strong,{children:"Block Root"})," and ",(0,i.jsx)(n.strong,{children:"Epoch"})," values to the consensus client flags"]}),"\n"]}),(0,i.jsxs)(l.A,{children:[(0,i.jsx)(a.A,{value:"lighthouse",label:"Lighthouse",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'# Starting the Mainnet Node as Validator\nlukso start --validator \\\n  --transaction-fee-recipient "<transaction-fee-recipient-address>" \\\n  --lighthouse-checkpoint-sync-url=https://checkpoints.mainnet.lukso.network \\\n  --lighthouse-genesis-state-url=https://checkpoints.mainnet.lukso.network \\\n  --lighthouse-wss-checkpoint=$<BLOCK_ROOT>:$<EPOCH>\n\n# Starting the Testnet Node as Validator\nlukso start --validator --testnet \\\n  --transaction-fee-recipient "<transaction-fee-recipient-address>" \\\n  --lighthouse-checkpoint-sync-url=https://checkpoints.testnet.lukso.network \\\n  --lighthouse-genesis-state-url=https://checkpoints.testnet.lukso.network \\\n  --lighthouse-wss-checkpoint=$<BLOCK_ROOT>:$<EPOCH>\n'})})}),(0,i.jsx)(a.A,{value:"teku",label:"Teku",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'# Starting the Mainnet Node as Validator\nlukso start --validator \\\n  --transaction-fee-recipient "<transaction-fee-recipient-address>" \\\n  --teku-checkpoint-sync-url=https://checkpoints.mainnet.lukso.network \\\n  --teku-ws-checkpoint=$<BLOCK_ROOT>:$<EPOCH>\n\n# Starting the Testnet Node as Validator\nlukso start --validator --testnet \\\n  --transaction-fee-recipient "<transaction-fee-recipient-address>" \\\n  --teku-checkpoint-sync-url=https://checkpoints.testnet.lukso.network \\\n  --teku-ws-checkpoint=$<BLOCK_ROOT>:$<EPOCH>\n'})})}),(0,i.jsx)(a.A,{value:"prysm",label:"Prysm",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'# Starting the Mainnet Node as Validator\nlukso start --validator \\\n  --transaction-fee-recipient "<transaction-fee-recipient-address>" \\\n  --prysm-checkpoint-sync-url=https://checkpoints.mainnet.lukso.network \\\n  --prysm-genesis-beacon-api-url=https://checkpoints.mainnet.lukso.network \\\n  --prysm-weak-subjectivity-checkpoint=$<BLOCK_ROOT>:$<EPOCH>\n\n# Starting the Testnet Node as Validator\nlukso start --validator --testnet \\\n  --transaction-fee-recipient "<transaction-fee-recipient-address>" \\\n  --prysm-checkpoint-sync-url=https://checkpoints.testnet.lukso.network \\\n  --prysm-genesis-beacon-api-url=https://checkpoints.testnet.lukso.network \\\n  --prysm-weak-subjectivity-checkpoint=$<BLOCK_ROOT>:$<EPOCH>\n'})})}),(0,i.jsx)(a.A,{value:"nimbus2",label:"Nimbus-Eth2",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'# Starting the Mainnet Node as Validator\nlukso start --validator \\\n  --transaction-fee-recipient "<transaction-fee-recipient-address>" \\\n  --nimbus2-external-beacon-api-url=https://checkpoints.mainnet.lukso.network \\\n  --nimbus2-trusted-block-root=$<BLOCK_ROOT> \\\n  --nimbus2-weak-subjectivity-checkpoint=$<BLOCK_ROOT>:$<EPOCH>\n\n# Starting the Testnet Node as Validator\nlukso start --validator --testnet \\\n  --transaction-fee-recipient "<transaction-fee-recipient-address>" \\\n  --nimbus2-external-beacon-api-url=https://checkpoints.testnet.lukso.network\n  --nimbus2-trusted-block-root=$<BLOCK_ROOT> \\\n  --nimbus2-weak-subjectivity-checkpoint=$<BLOCK_ROOT>:$<EPOCH>\n'})})})]}),(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsx)(n.p,{children:"Replace the following parameters of the commands:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"<BLOCK_ROOT>"})," and ",(0,i.jsx)(n.code,{children:"<EPOCH>"})," with the current hash and number while keeping the ",(0,i.jsx)(n.code,{children:"$"})," sign."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"<transaction-fee-recipient-address>"})," with your actual withdrawal address."]}),"\n"]})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"After the clients were started, verify that their services are still up."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo lukso status\n"})}),"\n",(0,i.jsx)(n.h2,{id:"5-data-cleanup",children:"5. Data Cleanup"}),"\n",(0,i.jsx)(n.p,{children:"After switching clients, unused files and binaries can be removed from the old setup to avoid conflicts and free up storage."}),"\n",(0,i.jsxs)(l.A,{groupId:"client-type",children:[(0,i.jsxs)(a.A,{value:"execution",label:"Execution Client Only",default:!0,children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Delete Old Client"}),": ",(0,i.jsx)(n.em,{children:"Remove the unused execution client service from the system."})]}),(0,i.jsxs)(l.A,{groupId:"client",children:[(0,i.jsx)(a.A,{value:"geth",label:"Geth",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo rm -rf /usr/local/geth\n"})})}),(0,i.jsx)(a.A,{value:"erigon",label:"Erigon",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo rm -rf /usr/local/erigon\n"})})}),(0,i.jsx)(a.A,{value:"nethermind",label:"Nethermind",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo rm -rf /usr/local/nethermind\n"})})}),(0,i.jsx)(a.A,{value:"besu",label:"Besu",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo rm -rf /usr/local/besu\n"})})})]})]}),(0,i.jsxs)(a.A,{value:"consensus-execution",label:"Consensus and Execution Clients",children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"5.1 Remove Old Firewall Settings"}),": ",(0,i.jsxs)(n.em,{children:["Remove the old consensus client's ",(0,i.jsx)(n.a,{href:"/docs/guides/client-setup/firewall-settings",children:"firewall rules"})," from your system."]})]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"5.2 Remove Old Router Ports"}),": ",(0,i.jsxs)(n.em,{children:["Remove the old consensus client's ",(0,i.jsx)(n.a,{href:"/docs/guides/client-setup/firewall-settings",children:"port rules"})," from your router."]})]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"5.3 Delete Old Node Folder"}),": ",(0,i.jsx)(n.em,{children:"Remove the working directory of the previous node setup."})]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"cd ~\nsudo rm -rf <old-lukso-working-directory>\n"})}),(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["Exchange ",(0,i.jsx)(n.code,{children:"<old-lukso-working-directory>"})," with the path of the previous node folder."]})}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"5.4 Delete Old Clients"}),": ",(0,i.jsx)(n.em,{children:"Remove unused client services from the system."})]}),(0,i.jsxs)(l.A,{groupId:"client",children:[(0,i.jsx)(a.A,{value:"geth",label:"Geth",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo rm -rf /usr/local/geth\n"})})}),(0,i.jsx)(a.A,{value:"erigon",label:"Erigon",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo rm -rf /usr/local/erigon\n"})})}),(0,i.jsx)(a.A,{value:"nethermind",label:"Nethermind",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo rm -rf /usr/local/nethermind\n"})})}),(0,i.jsx)(a.A,{value:"besu",label:"Besu",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo rm -rf /usr/local/besu\n"})})}),(0,i.jsx)(a.A,{value:"teku",label:"Teku",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo rm -rf /usr/local/teku\n"})})}),(0,i.jsx)(a.A,{value:"nimbus2",label:"Nimbus-Eth2",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo rm -rf /usr/local/nimbus_beacon_node\nsudo rm -rf /usr/local/nimbus_validator_client\n"})})}),(0,i.jsx)(a.A,{value:"lighthouse",label:"Lighthouse",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo rm -rf /usr/local/lighthouse\n"})})}),(0,i.jsx)(a.A,{value:"prysm",label:"Prysm",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"sudo rm -rf /usr/local/prysm\n"})})})]})]})]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var t=s(6540);const i={},r=t.createContext(i);function l(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(r.Provider,{value:n},e.children)}},9365:(e,n,s)=>{s.d(n,{A:()=>l});s(6540);var t=s(4164);const i={tabItem:"tabItem_Ymn6"};var r=s(4848);function l({children:e,hidden:n,className:s}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,t.A)(i.tabItem,s),hidden:n,children:e})}}}]);