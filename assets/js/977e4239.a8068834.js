"use strict";(self.webpackChunklukso_node_guide=self.webpackChunklukso_node_guide||[]).push([[4665],{1470:(e,n,s)=>{s.d(n,{A:()=>k});var r=s(6540),t=s(4164),i=s(3104),o=s(6347),a=s(205),l=s(7485),c=s(1682),d=s(679);function h(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:s}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return h(e).map((({props:{value:e,label:n,attributes:s,default:r}})=>({value:e,label:n,attributes:s,default:r})))}(s);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function p({value:e,tabValues:n}){return n.some((n=>n.value===e))}function x({queryString:e=!1,groupId:n}){const s=(0,o.W6)(),t=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(t),(0,r.useCallback)((e=>{if(!t)return;const n=new URLSearchParams(s.location.search);n.set(t,e),s.replace({...s.location,search:n.toString()})}),[t,s])]}function j(e){const{defaultValue:n,queryString:s=!1,groupId:t}=e,i=u(e),[o,l]=(0,r.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const s=n.find((e=>e.default))??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:i}))),[c,h]=x({queryString:s,groupId:t}),[j,m]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[s,t]=(0,d.Dv)(n);return[s,(0,r.useCallback)((e=>{n&&t.set(e)}),[n,t])]}({groupId:t}),g=(()=>{const e=c??j;return p({value:e,tabValues:i})?e:null})();(0,a.A)((()=>{g&&l(g)}),[g]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),m(e)}),[h,m,i]),tabValues:i}}var m=s(2303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=s(4848);function b({className:e,block:n,selectedValue:s,selectValue:r,tabValues:o}){const a=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.a_)(),c=e=>{const n=e.currentTarget,t=a.indexOf(n),i=o[t].value;i!==s&&(l(n),r(i))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const s=a.indexOf(e.currentTarget)+1;n=a[s]??a[0];break}case"ArrowLeft":{const s=a.indexOf(e.currentTarget)-1;n=a[s]??a[a.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":n},e),children:o.map((({value:e,label:n,attributes:r})=>(0,f.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{a.push(e)},onKeyDown:d,onClick:c,...r,className:(0,t.A)("tabs__item",g.tabItem,r?.className,{"tabs__item--active":s===e}),children:n??e},e)))})}function y({lazy:e,children:n,selectedValue:s}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function v(e){const n=j(e);return(0,f.jsxs)("div",{className:(0,t.A)("tabs-container",g.tabList),children:[(0,f.jsx)(b,{...n,...e}),(0,f.jsx)(y,{...n,...e})]})}function k(e){const n=(0,m.A)();return(0,f.jsx)(v,{...e,children:h(e.children)},String(n))}},2705:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"guides/modifications/public-ip-setup","title":"7.4 Public IP Setup","description":"Set or update your node\'s public IP address to improve peer connectivity and ensure stable participation in the LUKSO blockchain network, especially for validators.","source":"@site/docs/guides/modifications/public-ip-setup.md","sourceDirName":"guides/modifications","slug":"/guides/modifications/public-ip-setup","permalink":"/docs/guides/modifications/public-ip-setup","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_label":"7.4 Public IP Setup","sidebar_position":4,"description":"Set or update your node\'s public IP address to improve peer connectivity and ensure stable participation in the LUKSO blockchain network, especially for validators."},"sidebar":"guidesSidebar","previous":{"title":"7.3 Validator Graffiti","permalink":"/docs/guides/modifications/validator-graffiti"},"next":{"title":"7.5 Peer Count Limits","permalink":"/docs/guides/modifications/peer-count-limits"}}');var t=s(4848),i=s(8453),o=s(1470),a=s(9365);const l={sidebar_label:"7.4 Public IP Setup",sidebar_position:4,description:"Set or update your node's public IP address to improve peer connectivity and ensure stable participation in the LUKSO blockchain network, especially for validators."},c="7.4 Public IP Setup",d={},h=[{value:"1. Check Peer Connections",id:"1-check-peer-connections",level:2},{value:"2. Stop Node Operation",id:"2-stop-node-operation",level:2},{value:"3. Node IP Setup",id:"3-node-ip-setup",level:2},{value:"5. Restart the Node",id:"5-restart-the-node",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"74-public-ip-setup",children:"7.4 Public IP Setup"})}),"\n",(0,t.jsx)(n.p,{children:"To ensure your node is discoverable and can establish a healthy number of peer connections, you may need to manually set or update your node\u2019s public IP address. This is particularly important for validators, where lower peer counts are an obsticle for accurate block proposals and attestations."}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Further details about connectivity can be found on the ",(0,t.jsx)(n.a,{href:"/docs/theory/blockchain-knowledge/peer-networks",children:(0,t.jsx)(n.strong,{children:"Peer Networks"})})," and ",(0,t.jsx)(n.a,{href:"/docs/theory/node-operation/peer-discovery",children:(0,t.jsx)(n.strong,{children:"Peer Connectivity"})})," pages of the \ud83e\udde0 ",(0,t.jsx)(n.a,{href:"/docs/theory/preparations/node-specifications",children:(0,t.jsx)(n.strong,{children:"Theory"})})," section."]})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["The following steps are performed on your \ud83d\udcdf ",(0,t.jsx)(n.strong,{children:"node server"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"1-check-peer-connections",children:"1. Check Peer Connections"}),"\n",(0,t.jsx)(n.p,{children:"To get insights into the current connections, you can check the peer connections from your local node. Every node operates two independent peer-to-peer networks: the execution and the consensus layer. Each of these networks handles communication with other nodes differently and maintains separate sets of peers. Monitoring both layers is essential to ensure healthy connectivity and network participation."}),"\n",(0,t.jsxs)(o.A,{groupId:"network-type",children:[(0,t.jsxs)(a.A,{value:"execution",label:"Execution Peers",default:!0,children:[(0,t.jsxs)(n.p,{children:["The execution endpoint allows to fetch the peer counts and lots of ",(0,t.jsx)(n.a,{href:"/docs/guides/maintenance/problem-scanning#attach-execution-clients",children:"other client-specific intormation"}),"."]}),(0,t.jsx)(n.admonition,{title:"JSON RPC",type:"info",children:(0,t.jsxs)(n.p,{children:["JSON-RPC is a lightweight communication protocol encoded in JSON, allowing calls to be sent to a service or server. Each execution client exposes a related interface at port ",(0,t.jsx)(n.code,{children:"8545"})," to retreive calls to interact with the Ethereum network though the local node."]})}),(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["By default, the ",(0,t.jsx)(n.a,{href:"https://github.com/lukso-network/network-configs",children:"LUKSO Network Configuration"})," allows to retrieve network data for all execution clients."]})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"1.1 Install Querying Tool"}),": ",(0,t.jsx)(n.em,{children:"Install the JSON query service for data processing from the RPC endpoint."})]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo apt install jq\n"})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"1.2 Call Execution Endpoint"}),": ",(0,t.jsx)(n.em,{children:"While the node is running, call the JSON RPC of the execution client."})]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:'# Retrieve Execution Peers\ncurl -s -X POST -H "content-type: application/json" \\\n  --data \'{"jsonrpc":"2.0","method":"net_peerCount","params":[],"id":1}\' \\\n  http://localhost:8545 | jq -r \'.result\' | xargs printf \'%d\\n\'\n'})}),(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Full Command Explanation"}),(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Command"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Description"})})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsxs)("nobr",{children:[" ",(0,t.jsx)(n.code,{children:"curl -s -X POST -H <text> "})," ",(0,t.jsx)("br",{})," ",(0,t.jsx)(n.code,{children:"--data <text> <port>"})," "]})}),(0,t.jsxs)(n.td,{children:["Executes ",(0,t.jsx)(n.code,{children:"-X"})," a silent ",(0,t.jsx)(n.code,{children:"-s"})," HTTP ",(0,t.jsx)(n.code,{children:"POST"})," request to the given ",(0,t.jsx)(n.code,{children:"<port>"}),", while attaching custom header ",(0,t.jsx)(n.code,{children:"-H"})," and ",(0,t.jsx)(n.code,{children:"--data"})," content as ",(0,t.jsx)(n.code,{children:"<text>"})," payload."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsxs)("nobr",{children:[" ",(0,t.jsx)(n.code,{children:"jq -r '.result'"})," "]})}),(0,t.jsxs)(n.td,{children:["Filters the raw ",(0,t.jsx)(n.code,{children:"-r"})," JSON object and extracts the ",(0,t.jsx)(n.code,{children:".result"})," value of the data object."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsxs)("nobr",{children:[" ",(0,t.jsx)(n.code,{children:"xargs printf '%d\\n'"})," "]})}),(0,t.jsxs)(n.td,{children:["Converts the hexadecimal result to a human-readable decimal ",(0,t.jsx)(n.code,{children:"%d"})," number."]})]})]})]})]}),(0,t.jsx)(n.p,{children:"The output should be something in the range from 5 to 50 peers."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"37\n"})}),(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:["If the command couldn't be executed, have a look at the ",(0,t.jsx)(n.a,{href:"/docs/guides/maintenance/problem-scanning",children:(0,t.jsx)(n.strong,{children:"Problem Scanning"})})," page to learn how to ",(0,t.jsx)(n.a,{href:"/docs/guides/maintenance/problem-scanning#attach-execution-clients",children:"attach execution clients"}),"."]})})]}),(0,t.jsxs)(a.A,{value:"consensus",label:"Consensus Peers",children:[(0,t.jsxs)(n.p,{children:["The consensus endpoint allows to fetch the peer counts and lots of ",(0,t.jsx)(n.a,{href:"/docs/guides/maintenance/problem-scanning#fetch-consensus-api",children:"other client-specific intormation"}),"."]}),(0,t.jsx)(n.admonition,{title:"REST API",type:"info",children:(0,t.jsxs)(n.p,{children:["A REST API is a web-based interface for querying structured data. Ethereum consensus clients expose their status and internal metrics on various ports like ",(0,t.jsx)(n.code,{children:"3500"}),", ",(0,t.jsx)(n.code,{children:"5051"}),", or ",(0,t.jsx)(n.code,{children:"5052"}),", to allow users to access information such as synchronization progress, network stability, node metadata, or the current chain head."]})}),(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["By default, the ",(0,t.jsx)(n.a,{href:"https://github.com/lukso-network/network-configs",children:"LUKSO Network Configuration"})," opens the REST API ports for all consensus clients."]})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"1.1 Install Querying Tool"}),": ",(0,t.jsx)(n.em,{children:"Install the JSON query service for data processing from the REST API endpoint."})]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo apt install jq\n"})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"1.2 Call Endpoints"}),": ",(0,t.jsx)(n.em,{children:"While the node is running, call the REST endpoint of the consensus client."})]}),(0,t.jsxs)(o.A,{children:[(0,t.jsx)(a.A,{value:"teku",label:"Teku",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"# Check Number of Consensus Peers\ncurl -s http://localhost:5051/eth/v1/node/peer_count | jq\n"})})}),(0,t.jsx)(a.A,{value:"prysm",label:"Prysm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"# Check Number of Consensus Peers\ncurl -s http://localhost:3500/eth/v1/node/peer_count | jq\n"})})}),(0,t.jsx)(a.A,{value:"lighthouse-nimbus2",label:"Lighthouse and Nimbus-Eth2",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"# Check Number of Consensus Peers\ncurl -s http://localhost:5052/eth/v1/node/peer_count | jq\n"})})})]}),(0,t.jsx)(n.p,{children:"The output should be something in the range from 5 to 70 peers."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"59\n"})})]})]}),"\n",(0,t.jsx)(n.p,{children:"If you have low or volatile peer counts, continue to stop the node and configure your public IP address."}),"\n",(0,t.jsx)(n.h2,{id:"2-stop-node-operation",children:"2. Stop Node Operation"}),"\n",(0,t.jsx)(n.p,{children:"Depending on your setup method, there are different ways to stop your node before configuring the IP or raising the peer limits."}),"\n",(0,t.jsxs)(o.A,{groupId:"setup",children:[(0,t.jsxs)(a.A,{value:"cli",label:"LUKSO CLI",default:!0,children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>\nlukso stop\n"})}),(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Exchange ",(0,t.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path of the node folder."]})})]}),(0,t.jsx)(a.A,{value:"automation",label:"Service Automation",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl stop lukso-validator\n"})})})]}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Force Client Shutdown"}),(0,t.jsxs)(o.A,{groupId:"client",children:[(0,t.jsx)(a.A,{value:"geth",label:"Geth",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill geth\n"})})}),(0,t.jsx)(a.A,{value:"erigon",label:"Erigon",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill erigon\n"})})}),(0,t.jsx)(a.A,{value:"nethermind",label:"Nethermind",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill nethermind\n"})})}),(0,t.jsx)(a.A,{value:"besu",label:"Besu",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill besu\n"})})}),(0,t.jsx)(a.A,{value:"teku",label:"Teku",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill teku\n"})})}),(0,t.jsx)(a.A,{value:"nimbus2",label:"Nimbus-Eth2",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill nimbus_beacon_node\nsudo pkill nimbus_validator_client\n"})})}),(0,t.jsxs)(a.A,{value:"lighthouse",label:"Lighthouse",children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill lighthouse\n"})}),(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"The Lighthouse client uses a single binary for both the consensus and validator processes."})})]}),(0,t.jsx)(a.A,{value:"prysm",label:"Prysm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill prysm\nsudo pkill validator\n"})})})]})]}),"\n",(0,t.jsx)(n.h2,{id:"3-node-ip-setup",children:"3. Node IP Setup"}),"\n",(0,t.jsx)(n.p,{children:"Once you retrieve your current public IP, you can configure your clients to advertise this IP address."}),"\n",(0,t.jsx)(n.admonition,{title:"IP Addresses",type:"info",children:(0,t.jsx)(n.p,{children:"Internet Protocol addresses are logical, software\u2011assigned identifiers. IP addresses let routers move data packages between different networks, whether your local home network or across the Internet. The public IP address is how device and nodes communicate with each other to exchange data."})}),"\n",(0,t.jsx)(n.admonition,{title:"IP Changes",type:"tip",children:(0,t.jsxs)(n.p,{children:["There are two types of public IP addresses: dynamic and static ones. An active IP address changes over time, while a static IP address remains constant. Most residential users are assigned a dynamic IP address, which can change whenever the internet service provider sees fit. Some ISPs may change the IP address every time the router is rebooted, while others change it at intervals, like once a week. If you want to further set a permanent connection, you can follow the ",(0,t.jsx)(n.a,{href:"/docs/guides/modifications/dynamic-dns",children:(0,t.jsx)(n.strong,{children:"Dynamic DNS"})})," guide."]})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.a,{href:"/docs/guides/client-setup/lukso-cli-installation",children:"LUKSO CLI"})," allows to set the current IP during installation, but need to be updated on a regular basis."]})}),"\n",(0,t.jsx)(n.p,{children:"We can use a simple IP echo service to retrieve the node's current IP address and write it to an editor or notepad."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"curl -s https://ipecho.net/plain\n"})}),"\n",(0,t.jsx)(n.p,{children:"Depending on your consensus client, this public IP can be set with different properties."}),"\n",(0,t.jsxs)(o.A,{groupId:"client",children:[(0,t.jsxs)(a.A,{value:"prysm",label:"Prysm",children:[(0,t.jsx)(n.p,{children:"Open the configuration file using your preferred text editor."}),(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(a.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/prysm/\nvim prysm.yaml\n"})})}),(0,t.jsx)(a.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/prysm/\nnano prysm.yaml\n"})})})]})]}),(0,t.jsxs)(a.A,{value:"teku",label:"Teku",children:[(0,t.jsx)(n.p,{children:"Open the configuration file using your preferred text editor."}),(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(a.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/teku/\nvim teku.yaml\n"})})}),(0,t.jsx)(a.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/teku/\nnano teku.yaml\n"})})})]})]}),(0,t.jsxs)(a.A,{value:"lighthouse",label:"Lighthouse",children:[(0,t.jsx)(n.p,{children:"Open the configuration file using your preferred text editor."}),(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(a.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/lighthouse/\nvim lighthouse.toml\n"})})}),(0,t.jsx)(a.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/lighthouse/\nnano lighthouse.toml\n"})})})]})]}),(0,t.jsxs)(a.A,{value:"nimbus2",label:"Nimbus-Eth2",children:[(0,t.jsx)(n.p,{children:"Open the configuration file using your preferred text editor."}),(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(a.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/nimbus2/\nvim nimbus.toml\n"})})}),(0,t.jsx)(a.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/nimbus2/\nnano nimbus.toml\n"})})})]})]})]}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:"The following properties need to be exchanged:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path to the node folder."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<network>"})," with the name of your node's network."]}),"\n"]})]}),"\n",(0,t.jsx)(n.p,{children:"Add or update the following client properties, then save and exit the file."}),"\n",(0,t.jsxs)(o.A,{groupId:"client",children:[(0,t.jsxs)(a.A,{value:"prysm",label:"Prysm",children:[(0,t.jsxs)(n.p,{children:["Update or add the ",(0,t.jsx)(n.em,{children:"p2p-host-ip"})," property at the end of the file."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"# Previous Value Examples\np2p-host-ip: '0.0.0.0'\np2p-host-ip: '<your-previous-ip>'\n\n\n# Updated Value\np2p-host-ip: '<your-current-ip-address>'\n"})})]}),(0,t.jsxs)(a.A,{value:"teku",label:"Teku",children:[(0,t.jsxs)(n.p,{children:["Update or add the ",(0,t.jsx)(n.em,{children:"p2p-advertised-ip"})," property."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"# Previous Value Examples\np2p-advertised-ip: 0.0.0.0\np2p-advertised-ip: <your-previous-ip>\n\n# Updated Value\np2p-advertised-ip: <your-current-ip-address>\n"})})]}),(0,t.jsxs)(a.A,{value:"lighthouse",label:"Lighthouse",children:[(0,t.jsxs)(n.p,{children:["Update the ",(0,t.jsx)(n.em,{children:"enr-address"})," property."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:'# Previous Value Examples\nenr-address = "0.0.0.0"\nenr-address = "<your-previous-ip>"\n\n# Updated Value\nenr-address = "<your-current-ip-address>"\n'})})]}),(0,t.jsxs)(a.A,{value:"nimbus2",label:"Nimbus",children:[(0,t.jsxs)(n.p,{children:["Update or add the ",(0,t.jsx)(n.em,{children:"extip"})," and ",(0,t.jsx)(n.em,{children:"enr-auto-update"})," properties at the end of the file."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:'# Previous Value Examples\nnat = "extip:0.0.0.0"\nnat = "extip:<your-previous-ip>"\n\n# Updated Value\nnat = "extip:<your-current-ip-address>"\nenr-auto-update = true\n'})}),(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["By adding the ",(0,t.jsx)(n.code,{children:"enr-auto-update"})," property, the ",(0,t.jsx)(n.strong,{children:"Nimbus-Eth2"})," client automatically detects and updates your public IP address upon changes, meaning you dont have to ",(0,t.jsx)(n.a,{href:"/docs/guides/modifications/dynamic-dns",children:"set up a dynamic DNS"})," to permanently stay connected with the network."]})})]})]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Exchange ",(0,t.jsx)(n.code,{children:"<your-current-ip-address>"})," with the public IP address of your node."]})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"Ensure there are no missing spaces, characters or unintended linebreaks before saving the configuration file."})}),"\n",(0,t.jsx)(n.h2,{id:"5-restart-the-node",children:"5. Restart the Node"}),"\n",(0,t.jsx)(n.p,{children:"Depending on your setup method, there are different ways to start your node after the IP address or peer limits have changed."}),"\n",(0,t.jsxs)(o.A,{groupId:"setup",children:[(0,t.jsxs)(a.A,{value:"clinode",label:"LUKSO CLI Node",default:!0,children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>\nlukso start --checkpoint-sync\n"})}),(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Exchange ",(0,t.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path of the node folder."]})})]}),(0,t.jsxs)(a.A,{value:"clivalidator",label:"LUKSO CLI Validator",default:!0,children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:'cd <lukso-working-directory>\nlukso start --validator --transaction-fee-recipient "<your-fee-recipient-address>" --checkpoint-sync\n'})}),(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:"The following properties need to be exchanged:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path of the node folder"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<your-fee-recipient-address>"})," with the wallet address receiving staking profits"]}),"\n"]})]})]}),(0,t.jsx)(a.A,{value:"automation",label:"Service Automation",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl start lukso-validator\n"})})})]}),"\n",(0,t.jsx)(n.p,{children:"After the clients were started, verify that their services are still up."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo lukso status\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["You should always have more than 15 peers after a setup time of 4 to 6 hours. If your peer count is not improving, it indicates a misconfiguration. Check that all mandatory client ports allow data throughput as described within the ",(0,t.jsx)(n.a,{href:"/docs/guides/client-setup/firewall-settings",children:"Firewall Settings"}),"."]})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var r=s(6540);const t={},i=r.createContext(t);function o(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}},9365:(e,n,s)=>{s.d(n,{A:()=>o});s(6540);var r=s(4164);const t={tabItem:"tabItem_Ymn6"};var i=s(4848);function o({children:e,hidden:n,className:s}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(t.tabItem,s),hidden:n,children:e})}}}]);