"use strict";(self.webpackChunklukso_node_guide=self.webpackChunklukso_node_guide||[]).push([[9749],{1470:(e,n,t)=>{t.d(n,{A:()=>y});var s=t(6540),r=t(4164),l=t(3104),o=t(6347),i=t(205),a=t(7485),c=t(1682),d=t(679);function h(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:t}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return h(e).map((({props:{value:e,label:n,attributes:t,default:s}})=>({value:e,label:n,attributes:t,default:s})))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p({value:e,tabValues:n}){return n.some((n=>n.value===e))}function g({queryString:e=!1,groupId:n}){const t=(0,o.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,a.aZ)(r),(0,s.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(t.location.search);n.set(r,e),t.replace({...t.location,search:n.toString()})}),[r,t])]}function x(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,l=u(e),[o,a]=(0,s.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find((e=>e.default))??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:l}))),[c,h]=g({queryString:t,groupId:r}),[x,j]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,r]=(0,d.Dv)(n);return[t,(0,s.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:r}),m=(()=>{const e=c??x;return p({value:e,tabValues:l})?e:null})();(0,i.A)((()=>{m&&a(m)}),[m]);return{selectedValue:o,selectValue:(0,s.useCallback)((e=>{if(!p({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);a(e),h(e),j(e)}),[h,j,l]),tabValues:l}}var j=t(2303);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=t(4848);function b({className:e,block:n,selectedValue:t,selectValue:s,tabValues:o}){const i=[],{blockElementScrollPositionUntilNextRender:a}=(0,l.a_)(),c=e=>{const n=e.currentTarget,r=i.indexOf(n),l=o[r].value;l!==t&&(a(n),s(l))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=i.indexOf(e.currentTarget)+1;n=i[t]??i[0];break}case"ArrowLeft":{const t=i.indexOf(e.currentTarget)-1;n=i[t]??i[i.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},e),children:o.map((({value:e,label:n,attributes:s})=>(0,f.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{i.push(e)},onKeyDown:d,onClick:c,...s,className:(0,r.A)("tabs__item",m.tabItem,s?.className,{"tabs__item--active":t===e}),children:n??e},e)))})}function k({lazy:e,children:n,selectedValue:t}){const l=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=l.find((e=>e.props.value===t));return e?(0,s.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:l.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function v(e){const n=x(e);return(0,f.jsxs)("div",{className:(0,r.A)("tabs-container",m.tabList),children:[(0,f.jsx)(b,{...n,...e}),(0,f.jsx)(k,{...n,...e})]})}function y(e){const n=(0,j.A)();return(0,f.jsx)(v,{...e,children:h(e.children)},String(n))}},6685:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"guides/maintenance/problem-scanning","title":"11.3 Problem Scanning","description":"Learn how to diagnose and fix LUKSO node issues using CLI logs, RPC interfaces, and consensus REST APIs. Covers client-specific tools, log scanning, and syncing status checks.","source":"@site/docs/guides/maintenance/problem-scanning.md","sourceDirName":"guides/maintenance","slug":"/guides/maintenance/problem-scanning","permalink":"/docs/guides/maintenance/problem-scanning","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_label":"11.3 Problem Scanning","sidebar_position":3,"description":"Learn how to diagnose and fix LUKSO node issues using CLI logs, RPC interfaces, and consensus REST APIs. Covers client-specific tools, log scanning, and syncing status checks."},"sidebar":"guidesSidebar","previous":{"title":"11.2 Client Updates","permalink":"/docs/guides/maintenance/client-updates"},"next":{"title":"11.4 Revert Client Versions","permalink":"/docs/guides/maintenance/revert-client-versions"}}');var r=t(4848),l=t(8453),o=t(1470),i=t(9365);const a={sidebar_label:"11.3 Problem Scanning",sidebar_position:3,description:"Learn how to diagnose and fix LUKSO node issues using CLI logs, RPC interfaces, and consensus REST APIs. Covers client-specific tools, log scanning, and syncing status checks."},c="11.3 Problem Scanning",d={},h=[{value:"Check the Node Status",id:"check-the-node-status",level:2},{value:"Listen to Live Logs",id:"listen-to-live-logs",level:2},{value:"Search Log Files",id:"search-log-files",level:2},{value:"Attach Execution Clients",id:"attach-execution-clients",level:2},{value:"Fetch Consensus API",id:"fetch-consensus-api",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"113-problem-scanning",children:"11.3 Problem Scanning"})}),"\n",(0,r.jsx)(n.p,{children:"This guide shows how to identify synchronization or configuration problems, to help solve problems in advance."}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["The following steps are performed on your \ud83d\udcdf ",(0,r.jsx)(n.strong,{children:"node server"}),"."]})}),"\n",(0,r.jsx)(n.h2,{id:"check-the-node-status",children:"Check the Node Status"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.a,{href:"https://github.com/lukso-network/tools-lukso-cli",children:"LUKSO CLI"})," comes with a built-in status command to check the health of execution, consensus, and validator clients."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"lukso status\n"})}),"\n",(0,r.jsx)(n.h2,{id:"listen-to-live-logs",children:"Listen to Live Logs"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.a,{href:"https://github.com/lukso-network/tools-lukso-cli",children:"LUKSO CLI"})," comes with its own logging functionality, directly printed to the terminal and stored in the node directory."]}),"\n",(0,r.jsxs)(o.A,{groupId:"network",children:[(0,r.jsx)(i.A,{value:"mainnet",label:"Mainnet",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"# Check execution logs\nlukso logs execution\n\n# Check consensus logs\nlukso logs consensus\n"})})}),(0,r.jsx)(i.A,{value:"testnet",label:"Testnet",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"# Check execution logs\nlukso logs execution --testnet\n\n# Check consensus logs\nlukso logs consensus --testnet\n"})})})]}),"\n",(0,r.jsx)(n.h2,{id:"search-log-files",children:"Search Log Files"}),"\n",(0,r.jsxs)(n.p,{children:["The file logging system of the ",(0,r.jsx)(n.a,{href:"https://github.com/lukso-network/tools-lukso-cli",children:"LUKSO CLI"})," also enables keyword-based filtering for log file contents."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["You can search the extending log files using the ",(0,r.jsx)(n.code,{children:"grep"})," tool for global expression search."]})}),"\n",(0,r.jsxs)(o.A,{groupId:"network",children:[(0,r.jsx)(i.A,{value:"mainnet",label:"Mainnet",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:'# Fetch all execution warnings\nlukso logs execution | grep "warning"\n\n# Fetch all validator warnings\nlukso logs validator | grep "warning"\n\n# Fetch all consensus warnings\nlukso logs consensus | grep "warning"\n\n# Fetch all execution errors\nlukso logs execution | grep "error"\n\n# Fetch all validator errors\nlukso logs validator | grep "error"\n\n# Fetch all consensus errors\nlukso logs consensus | grep "error"\n'})})}),(0,r.jsx)(i.A,{value:"testnet",label:"Testnet",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:'# Fetch all execution warnings\nlukso logs execution --testnet | grep "warning"\n\n# Fetch all validator warnings\nlukso logs validator --testnet | grep "warning"\n\n# Fetch all consensus warnings\nlukso logs consensus --testnet | grep "warning"\n\n# Fetch all execution errors\nlukso logs execution --testnet | grep "error"\n\n# Fetch all validator errors\nlukso logs validator --testnet | grep "error"\n\n# Fetch all consensus errors\nlukso logs consensus --testnet | grep "error"\n'})})})]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["After executing the command, the terminal is waiting for an input. You will have to press the ",(0,r.jsx)(n.em,{children:"ENTER"})," key to see the outputs."]})}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:["If you run the LUKSO CLI through service automation, ensure to execute all ",(0,r.jsx)(n.code,{children:"lukso"})," commands with ",(0,r.jsx)(n.code,{children:"sudo"})," permissions."]})}),"\n",(0,r.jsx)(n.h2,{id:"attach-execution-clients",children:"Attach Execution Clients"}),"\n",(0,r.jsx)(n.p,{children:"Execution clients have JSON-RPC endpoints allowing users to request information and access the blockchain state of their local nodes directly. Erigon and Geth even have built-in JavaScript consoles linked with such endpoints for programming capabilities. Both tools are helpful for manual checking of syncing progress, peers, blocks, and balances."}),"\n",(0,r.jsx)(n.admonition,{title:"JSON RPC",type:"info",children:(0,r.jsxs)(n.p,{children:["JSON-RPC is a lightweight communication protocol encoded in JSON, allowing calls to be sent to a service or server. Each execution client exposes a related interface at port ",(0,r.jsx)(n.code,{children:"8545"})," to retreive calls to interact with the Ethereum network though the local node. The RPC allows to query network stats, node metadata, blockchain data, or even send transactions and interact with smart contracts."]})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["By default, the ",(0,r.jsx)(n.a,{href:"https://github.com/lukso-network/network-configs",children:"LUKSO Network Configuration"})," allows a variety of JSON RPC modules for the Nethermind and Besu client, while restricting their use for Erigon and Geth clients due to their JavaScript console. If you're using Geth or Erigon, you will first have to adjust the client-configuration to allow the regular data packages from being accessed."]})}),"\n",(0,r.jsxs)(o.A,{children:[(0,r.jsxs)(i.A,{value:"geth-erigon",label:"Geth and Erigon",default:!0,children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"1. Stop Node Operation"}),": ",(0,r.jsx)(n.em,{children:"Depending on your setup method, there are different ways to stop your node to adjust configurations."})]}),(0,r.jsxs)(o.A,{groupId:"setup",children:[(0,r.jsxs)(i.A,{value:"cli",label:"LUKSO CLI",default:!0,children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>\nlukso stop\n"})}),(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Exchange ",(0,r.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path of the node folder."]})})]}),(0,r.jsx)(i.A,{value:"automation",label:"Service Automation",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"sudo systemctl stop lukso-validator\n"})})})]}),(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"Force Client Shutdown"}),(0,r.jsxs)(o.A,{children:[(0,r.jsx)(i.A,{value:"geth",label:"Geth",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"sudo pkill geth\n"})})}),(0,r.jsx)(i.A,{value:"erigon",label:"Erigon",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"sudo pkill erigon\n"})})}),(0,r.jsx)(i.A,{value:"teku",label:"Teku",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"sudo pkill teku\n"})})}),(0,r.jsx)(i.A,{value:"nimbus2",label:"Nimbus-Eth2",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"sudo pkill nimbus_beacon_node\nsudo pkill nimbus_validator_client\n"})})}),(0,r.jsxs)(i.A,{value:"lighthouse",label:"Lighthouse",children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"sudo pkill lighthouse\n"})}),(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"The Lighthouse client uses a single binary for both the consensus and validator processes."})})]}),(0,r.jsx)(i.A,{value:"prysm",label:"Prysm",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"sudo pkill prysm\nsudo pkill validator\n"})})})]})]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"2. Enable Full RPC Data"}),": ",(0,r.jsx)(n.em,{children:"Modify the default network configuration of your execution client."})]}),(0,r.jsxs)(o.A,{groupId:"client",children:[(0,r.jsxs)(i.A,{value:"geth",label:"Geth",children:[(0,r.jsx)(n.p,{children:"Use your preferred editor to modify the client configuration file."}),(0,r.jsxs)(o.A,{groupId:"editor",children:[(0,r.jsx)(i.A,{value:"vim",label:"Vim",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>\nvim geth/geth.toml\n"})})}),(0,r.jsx)(i.A,{value:"nano",label:"Nano",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>\nnano geth/geth.toml\n"})})})]}),(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Exchange ",(0,r.jsx)(n.code,{children:"<lukso-working-directory>"})," and ",(0,r.jsx)(n.code,{children:"<network>"})," with the path of the node folder and the network type."]})}),(0,r.jsx)(n.p,{children:"Change the included module list to include the default execution client commands."}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:'# Default Value\nHTTPModules = ["net"] # ["net", "eth", "web3", "debug", "engine", "txpool"]\n\n# Updated Value\nHTTPModules = ["net", "engine", "eth", "web3"] # ["net", "eth", "web3", "debug", "engine", "txpool"]\n'})})]}),(0,r.jsxs)(i.A,{value:"erigon",label:"Erigon",children:[(0,r.jsx)(n.p,{children:"Use your preferred editor to modify the client configuration file."}),(0,r.jsxs)(o.A,{groupId:"editor",children:[(0,r.jsx)(i.A,{value:"vim",label:"Vim",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>\nvim erigon/erigon.toml\n"})})}),(0,r.jsx)(i.A,{value:"nano",label:"Nano",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>\nnano erigon/erigon.toml\n"})})})]}),(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Exchange ",(0,r.jsx)(n.code,{children:"<lukso-working-directory>"})," and ",(0,r.jsx)(n.code,{children:"<network>"})," with the path of the node folder and the network type."]})}),(0,r.jsx)(n.p,{children:"Change the included module list to include the default execution client commands."}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:'# Default Value\n"http.api" = "erigon,engine" # "eth,erigon,engine,debug,trace"\n\n# Updated Value\n"http.api" = "erigon,engine,eth,net,web3" # "eth,erigon,engine,debug,trace"\n'})})]})]}),(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"Ensure there are no missing characters or additional spaces within the configuration file."})}),(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"Full Module Explanation"}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Module"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Potential Risks"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"ETH"})}),(0,r.jsx)(n.td,{children:"Core blockchain operations."}),(0,r.jsx)(n.td,{children:"None. Enabled by default without configuration."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"NET"})}),(0,r.jsx)(n.td,{children:"Retrieve network status and connections."}),(0,r.jsx)(n.td,{children:"None. Enabled by default without configuration."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"WEB3"})}),(0,r.jsx)(n.td,{children:"Blockchain helpers and client metadata."}),(0,r.jsx)(n.td,{children:"None. Enabled by default without configuration."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"ENGINE"})}),(0,r.jsx)(n.td,{children:"Engine API used by consensus client."}),(0,r.jsx)(n.td,{children:"None. Enabled by default for validator nodes."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"TXPOOL"})}),(0,r.jsx)(n.td,{children:"Inspect pending and queued transaction pool."}),(0,r.jsx)(n.td,{children:"Exposes pool and consumes computing power."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"ADMIN"})}),(0,r.jsx)(n.td,{children:"Low-level node management for peers and RPCs."}),(0,r.jsx)(n.td,{children:"Lets attackers shut down RPCs, or export chain data."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"DEBUG"})}),(0,r.jsx)(n.td,{children:"Deep execution tracing and state inspection."}),(0,r.jsx)(n.td,{children:"Exposes call stacks, storage slots and pre-images."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"TRACE"})}),(0,r.jsx)(n.td,{children:"Block and transaction replay traces."}),(0,r.jsx)(n.td,{children:"Heavy EVM-execution calls can freeze or crash a node."})]})]})]})]}),(0,r.jsx)(n.p,{children:"Save the file and exit the editor."}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"3. Restart the Node"}),": ",(0,r.jsx)(n.em,{children:"Depending on your setup, there are different ways to start your node with the updated configuration."})]}),(0,r.jsxs)(o.A,{groupId:"setup",children:[(0,r.jsxs)(i.A,{value:"clinode",label:"LUKSO CLI Node",default:!0,children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>\nlukso start --checkpoint-sync\n"})}),(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Exchange ",(0,r.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path of the node folder."]})})]}),(0,r.jsxs)(i.A,{value:"clivalidator",label:"LUKSO CLI Validator",default:!0,children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:'cd <lukso-working-directory>\nlukso start --validator --transaction-fee-recipient "<your-fee-recipient-address>" --checkpoint-sync\n'})}),(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsx)(n.p,{children:"The following properties need to be exchanged:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path of the node folder"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<your-fee-recipient-address>"})," with the wallet address receiving staking profits"]}),"\n"]})]})]}),(0,r.jsx)(i.A,{value:"automation",label:"Service Automation",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"sudo systemctl start lukso-validator\n"})})})]}),(0,r.jsx)(n.p,{children:"After the clients were started, verify that their services are still up."}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"sudo lukso status\n"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"4. Connect to Interface"}),": ",(0,r.jsx)(n.em,{children:"While the node is running, connect to the interface of the specific execution client."})]}),(0,r.jsxs)(o.A,{groupId:"client",children:[(0,r.jsx)(i.A,{value:"geth",label:"Geth",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"geth attach http://localhost:8545\n"})})}),(0,r.jsx)(i.A,{value:"erigon",label:"Erigon",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"erigon attach http://localhost:8545\n"})})})]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"5. Retrieve Data"}),": ",(0,r.jsx)(n.em,{children:"If you are listening to the port, you can check your connections and interact with the execution client."})]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"# Check Available Commands\n> eth\n> net\n> web3\n\n# Check Current Block Height\n> parseInt(eth.blockNumber, 16)\n\n# Check Syncing Status\n# -- Syncing: Object\n# -- Synced: False\n> eth.syncing\n\n# Retrieve Execution Peers\n> parseInt(net.peerCount, 16)\n\n# Get Current Gas Price\n> parseInt(eth.gasPrice)\n\n# Check External Connections\n> net.listening\n\n# Verify Network Chain ID\n> parseInt(eth.chainId, 16)\n\n# Verify Client Version\n> web3.clientVersion\n\n# Quit Port Connection\n> exit\n"})}),(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"parseInt()"})," function will convert the hexadecimal output to a human-readable decimal number."]})})]}),(0,r.jsxs)(i.A,{value:"Nethermind-besu",label:"Nethermind and Besu",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"1. Install Querying Tool"}),": ",(0,r.jsx)(n.em,{children:"Install the JSON query service for data processing from the RPC endpoint."})]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"sudo apt install jq\n"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"2. Call Endpoints"}),": ",(0,r.jsx)(n.em,{children:"While the node is running, call the JSON RPC of the execution client."})]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:'# Check Current Block Height\ncurl -s -X POST -H "content-type: application/json" \\\n  --data \'{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}\' \\\n  http://localhost:8545 | jq -r \'.result\' | xargs printf \'%d\\n\'\n\n# Check Syncing Status\ncurl -s -X POST -H "Content-Type: application/json" \\\n  --data \'{"jsonrpc":"2.0","method":"eth_syncing","params":[],"id":1}\' \\\n  http://localhost:8545 | jq -r \'.result\'\n\n# Retrieve Execution Peers\ncurl -s -X POST -H "content-type: application/json" \\\n  --data \'{"jsonrpc":"2.0","method":"net_peerCount","params":[],"id":1}\' \\\n  http://localhost:8545 | jq -r \'.result\' | xargs printf \'%d\\n\'\n\n# Get Current Gas Price\ncurl -s -X POST -H "Content-Type: application/json" \\\n  --data \'{"jsonrpc":"2.0","method":"eth_gasPrice","params":[],"id":1}\' \\\n  http://localhost:8545 | jq -r \'.result\' | xargs printf \'%d\\n\'\n\n# Check External Connections\ncurl -s -X POST -H "Content-Type: application/json" \\\n  --data \'{"jsonrpc":"2.0","method":"net_listening","params":[],"id":1}\' \\\n  http://localhost:8545 | jq -r \'.result\'\n\n# Verify Network Chain ID\ncurl -s -X POST -H "Content-Type: application/json" \\\n  --data \'{"jsonrpc":"2.0","method":"eth_chainId","params":[],"id":1}\' \\\n  http://localhost:8545 | jq -r \'.result\' | xargs printf \'%d\\n\'\n\n# Verify Client Version\ncurl -s -X POST -H "Content-Type: application/json" \\\n  --data \'{"jsonrpc":"2.0","method":"web3_clientVersion","params":[],"id":1}\' \\\n  http://localhost:8545 | jq -r \'.result\'\n'})}),(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"Full Command Explanation"}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Command"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Description"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsxs)("nobr",{children:[" ",(0,r.jsx)(n.code,{children:"curl -s -X POST -H <text> "})," ",(0,r.jsx)("br",{})," ",(0,r.jsx)(n.code,{children:"--data <text> <port>"})," "]})}),(0,r.jsxs)(n.td,{children:["Executes ",(0,r.jsx)(n.code,{children:"-X"})," a silent ",(0,r.jsx)(n.code,{children:"-s"})," HTTP ",(0,r.jsx)(n.code,{children:"POST"})," request to the given ",(0,r.jsx)(n.code,{children:"<port>"}),", while attaching custom header ",(0,r.jsx)(n.code,{children:"-H"})," and ",(0,r.jsx)(n.code,{children:"--data"})," content as ",(0,r.jsx)(n.code,{children:"<text>"})," payload."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsxs)("nobr",{children:[" ",(0,r.jsx)(n.code,{children:"jq -r '.result'"})," "]})}),(0,r.jsxs)(n.td,{children:["Filters the raw ",(0,r.jsx)(n.code,{children:"-r"})," JSON object and extracts the ",(0,r.jsx)(n.code,{children:".result"})," value of the data object."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsxs)("nobr",{children:[" ",(0,r.jsx)(n.code,{children:"xargs printf '%d\\n'"})," "]})}),(0,r.jsxs)(n.td,{children:["Converts the hexadecimal result to a human-readable decimal ",(0,r.jsx)(n.code,{children:"%d"})," number."]})]})]})]})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"fetch-consensus-api",children:"Fetch Consensus API"}),"\n",(0,r.jsx)(n.p,{children:"Access to the consensus endpoint allows for fetching validator status, health checks, peer counts, and metadata of the beacon chain. The feature can help verify client performance and check synchronization health directly from the beacon node's HTTP port."}),"\n",(0,r.jsx)(n.admonition,{title:"REST API",type:"info",children:(0,r.jsxs)(n.p,{children:["A REST API is a web-based interface for querying structured data. Ethereum consensus clients expose their status and internal metrics on various ports like ",(0,r.jsx)(n.code,{children:"3500"}),", ",(0,r.jsx)(n.code,{children:"5051"}),", or ",(0,r.jsx)(n.code,{children:"5052"}),", to allow users to access information such as synchronization progress, network stability, node metadata, or the current chain head."]})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["By default, the ",(0,r.jsx)(n.a,{href:"https://github.com/lukso-network/network-configs",children:"LUKSO Network Configuration"})," opens the REST API ports for all consensus clients."]})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"1. Install Querying Tool"}),": ",(0,r.jsx)(n.em,{children:"Install the JSON query service for data processing from the REST API endpoint."})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"sudo apt install jq\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"2. Call Endpoints"}),": ",(0,r.jsx)(n.em,{children:"While the node is running, call the REST endpoint of the consensus client."})]}),"\n",(0,r.jsxs)(o.A,{children:[(0,r.jsx)(i.A,{value:"teku",label:"Teku",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"# Check Syncronization Status\ncurl -s http://localhost:5051/eth/v1/node/syncing | jq\n\n# Check Overall Health\ncurl -s http://localhost:5051/eth/v1/node/health | jq\n\n# Check Node Identity\ncurl -s http://localhost:5051/eth/v1/node/identity | jq\n\n# Check Number of Peers\ncurl -s http://localhost:5051/eth/v1/node/peer_count | jq\n\n# Fetch Latest Block Header\ncurl -s http://localhost:5051/eth/v1/beacon/headers/head | jq\n"})})}),(0,r.jsx)(i.A,{value:"prysm",label:"Prysm",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"# Check Syncronization Status\ncurl -s http://localhost:3500/eth/v1/node/syncing | jq\n\n# Check Overall Health\ncurl -s http://localhost:3500/eth/v1/node/health | jq\n\n# Check Node Identity\ncurl -s http://localhost:3500/eth/v1/node/identity | jq\n\n# Check Number of Peers\ncurl -s http://localhost:3500/eth/v1/node/peer_count | jq\n\n# Fetch Latest Block Header\ncurl -s http://localhost:3500/eth/v1/beacon/headers/head | jq\n"})})}),(0,r.jsx)(i.A,{value:"lighthouse-nimbus2",label:"Lighthouse and Nimbus-Eth2",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"# Check Syncronization Status\ncurl -s http://localhost:5052/eth/v1/node/syncing | jq\n\n# Check Overall Health\ncurl -s http://localhost:5052/eth/v1/node/health | jq\n\n# Check Node Identity\ncurl -s http://localhost:5052/eth/v1/node/identity | jq\n\n# Check Number of Peers\ncurl -s http://localhost:5052/eth/v1/node/peer_count | jq\n\n# Fetch Latest Block Header\ncurl -s http://localhost:5052/eth/v1/beacon/headers/head | jq\n"})})})]})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var s=t(6540);const r={},l=s.createContext(r);function o(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(l.Provider,{value:n},e.children)}},9365:(e,n,t)=>{t.d(n,{A:()=>o});t(6540);var s=t(4164);const r={tabItem:"tabItem_Ymn6"};var l=t(4848);function o({children:e,hidden:n,className:t}){return(0,l.jsx)("div",{role:"tabpanel",className:(0,s.A)(r.tabItem,t),hidden:n,children:e})}}}]);