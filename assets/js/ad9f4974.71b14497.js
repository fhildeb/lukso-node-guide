"use strict";(self.webpackChunklukso_node_guide=self.webpackChunklukso_node_guide||[]).push([[2305],{771:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>x,frontMatter:()=>o,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"guides/withdrawals/adding-withdrawals","title":"12.1 Adding Withdrawals","description":"Learn how to update your LUKSO validator keys to enable withdrawals using BLS to ETH1 address changes and broadcast them securely via node or explorer.","source":"@site/docs/guides/withdrawals/adding-withdrawals.md","sourceDirName":"guides/withdrawals","slug":"/guides/withdrawals/adding-withdrawals","permalink":"/docs/guides/withdrawals/adding-withdrawals","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"12.1 Adding Withdrawals","sidebar_position":1,"description":"Learn how to update your LUKSO validator keys to enable withdrawals using BLS to ETH1 address changes and broadcast them securely via node or explorer."},"sidebar":"guidesSidebar","previous":{"title":"13.1 Validator Income","permalink":"/docs/guides/reports/validator-income"},"next":{"title":"12.2 Exit Validators","permalink":"/docs/guides/withdrawals/exit-validators"}}');var r=t(4848),a=t(8453),i=t(1470),l=t(9365);const o={sidebar_label:"12.1 Adding Withdrawals",sidebar_position:1,description:"Learn how to update your LUKSO validator keys to enable withdrawals using BLS to ETH1 address changes and broadcast them securely via node or explorer."},d="12.1 Adding Withdrawals",c={},h=[{value:"1. Check Withdrawal Status",id:"1-check-withdrawal-status",level:2},{value:"2. Prepare Validator Indices",id:"2-prepare-validator-indices",level:2},{value:"3. KeyGen CLI Download",id:"3-keygen-cli-download",level:2},{value:"4. Execute the BLS Change",id:"4-execute-the-bls-change",level:2},{value:"5. Credential Broadcast",id:"5-credential-broadcast",level:2},{value:"6. Check Update Progress",id:"6-check-update-progress",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"121-adding-withdrawals",children:"12.1 Adding Withdrawals"})}),"\n","\n",(0,r.jsxs)(n.p,{children:["In case you did not attach a ",(0,r.jsx)(n.a,{href:"/docs/theory/node-operation/validator-credentials",children:"withdrawal address"})," while ",(0,r.jsx)(n.a,{href:"/docs/guides/validator-setup/precautions",children:"generating your validator keys"}),", the earnings of your validator will not be paid out to any address and you won't be able to access your staked funds while ",(0,r.jsx)(n.a,{href:"/docs/guides/withdrawals/exit-validators",children:"exiting your validators"})," from the network."]}),"\n",(0,r.jsx)(n.p,{children:"The following guide will teach you how to update your plain BLS Validator Key to reference an ETH1 Address, so your validator keys are able to withdraw staked funds and earnings. If an ETH1 Address is referenced to the BLS Key, the validator's stake can be exited to any wallet. Once enabled, all validator earnings above the 32 LYX or LYXt threshold will be periodically withdrawn to your ETH1 Address every few days."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Name"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Description"})}),(0,r.jsx)(n.th,{children:(0,r.jsxs)("nobr",{children:[" ",(0,r.jsx)(n.strong,{children:"Network Layer"})," "]})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsxs)("nobr",{children:[" ",(0,r.jsx)(n.strong,{children:"BLS Keys"})," "]})}),(0,r.jsx)(n.td,{children:"BLS Keys are the backbone of the digital signature type to secure the EVM blockchain. Every validator uses them to sign blocks and stake on the network."}),(0,r.jsx)(n.td,{children:(0,r.jsxs)("nobr",{children:[" ",(0,r.jsx)(n.em,{children:"Consensus Layer"})," "]})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsxs)("nobr",{children:[" ",(0,r.jsx)(n.strong,{children:"ETH1 Addresses"})," "]})}),(0,r.jsx)(n.td,{children:"ETH1 Addresses are the traditional Ethereum addresses from Externally Owned Accounts, Wallets, or Smart Contracts which can receive funds on the network."}),(0,r.jsx)(n.td,{children:(0,r.jsxs)("nobr",{children:[" ",(0,r.jsx)(n.em,{children:"Execution Layer"})," "]})})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The update is only necessary for ",(0,r.jsx)(n.a,{href:"/docs/guides/validator-setup/cli-key-generation",children:(0,r.jsx)(n.strong,{children:"CLI Key Generation"})})," users that did not attach the ",(0,r.jsx)(n.em,{children:"eth1_withdrawal_address"})," flag."]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.a,{href:"/docs/guides/validator-setup/wagyu-key-generation",children:(0,r.jsx)(n.strong,{children:"Wagyu Key Generation"})})," automatically asks for the mandatory withdrawal address during the setup."]}),"\n"]})}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["Further details about withdrawals can be found on the ",(0,r.jsx)(n.a,{href:"/docs/theory/blockchain-knowledge/tokenomics",children:(0,r.jsx)(n.strong,{children:"Tokenomics"})})," and ",(0,r.jsx)(n.a,{href:"/docs/theory/node-operation/validator-credentials",children:(0,r.jsx)(n.strong,{children:"Validator Credentials"})})," pages."]})}),"\n",(0,r.jsxs)(n.admonition,{title:"Additional Sources",type:"note",children:[(0,r.jsx)(n.p,{children:"As LUKSO is an EVM-based blockchain, the withdrawal update is similar to Ethereum. For questions, please refer to:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.prylabs.network/docs/wallet/withdraw-validator",children:"Prysm Withdrawal Guide"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://lighthouse-book.sigmaprime.io/voluntary-exit.html#withdrawal-of-exited-funds",children:"Lighthouse Exit Description"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.teku.consensys.io/how-to/update-withdrawal-keys",children:"Teku Credential Updates"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://nimbus.guide/withdrawals.html",children:"Nimbus-Eth2 Withdrawal Changes"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://eth2book.info/capella/part2/deposits-withdrawals/withdrawal-processing/",children:"Official ETH2 Book Withdrawal Explanation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://notes.ethereum.org/@launchpad/withdrawals-faq",children:"Official Ethereum Withdrawal FAQ"})}),"\n"]})]}),"\n",(0,r.jsx)(n.h2,{id:"1-check-withdrawal-status",children:"1. Check Withdrawal Status"}),"\n",(0,r.jsxs)(n.p,{children:["If you've never updated your validator withdrawals after the initial deposit, you can check the ",(0,r.jsx)(n.em,{children:"deposit_data.json"})," file of the validator locally. To check if your withdrawals are executed on the network, you can check them using the consensus explorer."]}),"\n",(0,r.jsxs)(i.A,{children:[(0,r.jsxs)(l.A,{value:"local-deposit-check",label:"Local Deposit File Check",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"1.1 Deposit Lookup"}),": Open the deposit ",(0,r.jsx)(n.em,{children:"json"})," file and copy the ",(0,r.jsx)(n.em,{children:"pubkey"})," element of the validator key."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"1.2 Withdrawal Index"}),": Search for the ",(0,r.jsx)(n.em,{children:"withdrawal_credentials"})," properties for every key"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If the hexadecimal number starts with ",(0,r.jsx)(n.em,{children:"01"}),", withdrawals are ",(0,r.jsx)(n.strong,{children:"already enabled"})]}),"\n",(0,r.jsxs)(n.li,{children:["If the hexadecimal number starts with ",(0,r.jsx)(n.em,{children:"00"}),", withdrawals ",(0,r.jsx)(n.strong,{children:"can be set"})," using this guide"]}),"\n"]})]}),(0,r.jsxs)(l.A,{value:"consensus-explorer-check",label:"Consensus Explorer Check",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"1.1 Deposit Lookup"}),": Open the deposit ",(0,r.jsx)(n.em,{children:"json"})," file and copy the ",(0,r.jsx)(n.em,{children:"pubkey"})," element of the validator key."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"1.2 Consensus Index"}),": Search for your validator by searching for the public key in the consensus explorer."]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://explorer.consensus.mainnet.lukso.network/",children:"LUKSO Mainnet Consensus Explorer"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://explorer.consensus.testnet.lukso.network/",children:"LUKSO Testnet Consensus Explorer"})}),"\n"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"1.3 Withdrawal Entries"}),": View the validator\u2019s details and open the withdrawals section"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If you see withdrawals, the withdrawal credentials ",(0,r.jsx)(n.strong,{children:"are working correctly"})]}),"\n",(0,r.jsxs)(n.li,{children:["If the withdrawal section is greyed out, you ",(0,r.jsx)(n.strong,{children:"can enable them"})," using this guide"]}),"\n"]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"2-prepare-validator-indices",children:"2. Prepare Validator Indices"}),"\n",(0,r.jsx)(n.p,{children:"To update your withdrawals, you have to specify the on-chain indices for each of the deposited validator keys. You can get them directly from the node machine or manually check your public keys on the consensus explorer."}),"\n",(0,r.jsxs)(i.A,{children:[(0,r.jsxs)(l.A,{value:"index-from-explorer",label:"Get Index Numbers from Explorer",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"2.1 Open the Deposit File"}),": Within the validator's deposit ",(0,r.jsx)(n.em,{children:"json"})," file, copy the ",(0,r.jsx)(n.em,{children:"pubkey"})," element of a validator key."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"2.2 Validator Lookup"}),": Search for your validator by entering its public key into the search bar of the consensus explorer."]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://explorer.consensus.mainnet.lukso.network/",children:"LUKSO Mainnet Consensus Explorer"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://explorer.consensus.testnet.lukso.network/",children:"LUKSO Testnet Consensus Explorer"})}),"\n"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"2.3 Copy the Index"}),": Search for the validator index number within the top heading, like ",(0,r.jsx)(n.em,{children:"8910"})," or ",(0,r.jsx)(n.em,{children:"236189"}),"."]}),(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["The steps ",(0,r.jsx)(n.strong,{children:"2.1"})," to ",(0,r.jsx)(n.strong,{children:"2.3"})," need to be repeated for every validator key that is used for staking."]})})]}),(0,r.jsxs)(l.A,{value:"index-from-node",label:"Get Index Numbers from Node",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"2.1 Node Login"}),": Log into your node\u2019s terminal using SSH."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"2.2 Enter Log Folder"}),": Move into the logging folder of the node\u2019s working directory."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/<network-type>-logs/\n"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"2.3 Search Logs"}),": Search and print out all validator indices of the active validator."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"cat <latest-validator-logs.log> | grep -o 'index=[0-9]* ' | awk -F'=' '{printf \"%s,\", $2}' | sed 's/,$//' | tr -d ' '\n"})}),(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsx)(n.p,{children:"The following properties need to be exchanged:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<lukso-working-directory>"}),"\xa0with the actual folder name"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<network-type>"}),"\xa0with\xa0",(0,r.jsx)(n.code,{children:"mainnet"}),"\xa0or\xa0",(0,r.jsx)(n.code,{children:"testnet"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<latest-validator-logs.log>"})," with the ",(0,r.jsx)(n.strong,{children:"latest"})," validator log file"]}),"\n"]})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"Copy all the validator indices so they can be used to generate the withdrawal credential later on."})}),"\n",(0,r.jsx)(n.h2,{id:"3-keygen-cli-download",children:"3. KeyGen CLI Download"}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"The LUKSO KeyGen CLI should only be used on a secure offline device."})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Download the latest version of the ",(0,r.jsx)(n.a,{href:"https://github.com/lukso-network/tools-key-gen-cli/releases",children:"LUKSO KeyGen CLI"})]}),"\n",(0,r.jsx)(n.li,{children:"Transfer the archive to a secure device."}),"\n",(0,r.jsx)(n.li,{children:"Extract the archive to receive the executable binary file"}),"\n",(0,r.jsx)(n.li,{children:"Open the terminal and move into the generated folder"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"4-execute-the-bls-change",children:"4. Execute the BLS Change"}),"\n",(0,r.jsx)(n.p,{children:"Start the BLS to Execution process from the LUKSO KeyGen CLI."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"./lukso-key-gen generate-bls-to-execution-change\n"})}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsx)(n.p,{children:"You will need the following information:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.strong,{children:"Validator Seed Phrase"})," from the initial key generation process"]}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.strong,{children:"Validator Indices"})," from the keys within the blockchain network"]}),"\n",(0,r.jsxs)(n.li,{children:["The old ",(0,r.jsx)(n.strong,{children:"Withdrawal Credentials"})," for each deposit key in the deposit file"]}),"\n",(0,r.jsxs)(n.li,{children:["The new ETH1 ",(0,r.jsx)(n.strong,{children:"Withdrawal Address"})," to receive funds"]}),"\n"]})]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["If you want different withdrawal credentials for different keys, the ",(0,r.jsx)(n.em,{children:"BLS to Execution Change"})," be repeated multiple times."]})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Select your language"}),"\n",(0,r.jsx)(n.li,{children:"Select the network which your validators are running on"}),"\n",(0,r.jsxs)(n.li,{children:["Enter your ",(0,r.jsx)(n.a,{href:"/docs/theory/node-operation/validator-credentials",children:"Validator Seed Phrase"})," that you\u2019ve used to generate your initial BSL keys"]}),"\n",(0,r.jsx)(n.li,{children:"Enter the index position of the keys you want to create withdrawal credentials for"}),"\n",(0,r.jsx)(n.li,{children:"Enter all your validator indices to enable withdrawals for, separated with whitespaces or commas"}),"\n",(0,r.jsx)(n.li,{children:"Enter a list of the old BLS withdrawal credentials of your validator keys, separated with whitespaces or commas"}),"\n",(0,r.jsx)(n.li,{children:"Enter the ETH1 address that all earnings will be withdrawn to"}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.a,{href:"https://github.com/lukso-network/tools-key-gen-cli/releases",children:"LUKSO KeyGen CLI"})," will generate a ",(0,r.jsx)(n.em,{children:"bls_to_execution_change.json"})," file."]}),"\n"]}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsxs)(n.p,{children:["During ",(0,r.jsx)(n.strong,{children:"Step 4"})," you must define an index position."]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["To generate the withdrawal update from the ",(0,r.jsx)(n.code,{children:"1st"})," key, set the index position to ",(0,r.jsx)(n.code,{children:"0"})]}),"\n",(0,r.jsxs)(n.li,{children:["To generate the withdrawal update for the ",(0,r.jsx)(n.code,{children:"11th"})," key onwards, set the index position to ",(0,r.jsx)(n.code,{children:"10"})]}),"\n"]}),(0,r.jsxs)(n.p,{children:["During ",(0,r.jsx)(n.strong,{children:"Step 6"})," and ",(0,r.jsx)(n.strong,{children:"Step 7"})," you will have to input hexadecimal values."]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Ensure to add ",(0,r.jsx)(n.code,{children:"0x"})," in front of the copied withdrawal credential"]}),"\n",(0,r.jsxs)(n.li,{children:["Verify that your EOA withdrawal address has the ",(0,r.jsx)(n.code,{children:"0x"})," prefix"]}),"\n"]})]}),"\n",(0,r.jsx)(n.admonition,{title:"Error Handling",type:"warning",children:(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.a,{href:"https://github.com/lukso-network/tools-key-gen-cli",children:"LUKSO KeyGen CLI"})," might show errors about ",(0,r.jsx)(n.em,{children:"inputs no being hexadecimal"})," or ",(0,r.jsx)(n.em,{children:"invalid checksum values"}),". If the ",(0,r.jsx)(n.em,{children:"JSON"})," File was generated, such warnings can be ignored. However, please verify you inputs by regenerating the file and comparing the output."]})}),"\n",(0,r.jsx)(n.h2,{id:"5-credential-broadcast",children:"5. Credential Broadcast"}),"\n",(0,r.jsx)(n.p,{children:"The withdrawal credential can be shared directly from your node or the public consensus explorer."}),"\n",(0,r.jsxs)(i.A,{children:[(0,r.jsxs)(l.A,{value:"broadcast-from-node",label:"Broadcast Message from Node",default:!0,children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"5.1 Copy File Contents"}),": Print and copy the contents of the ",(0,r.jsx)(n.em,{children:"bls_to_execution_change.json"})," file."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"cat bls_to_execution_change.json\n"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"5.2 Generate Terminal Command"}),": Paste the contents into the local broadcast command."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"POST -H \"Content-type: application/json\" -d  '<file-content>'\n"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"5.3 Broadcast Credential"}),": Log into your node\u2019s terminal and execute the command to publish the withdrawal credential."]}),(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"Each consensus client with validator support uses a different internal consensus port, opened by the LUKSO CLI."})}),(0,r.jsxs)(i.A,{groupId:"consensus",children:[(0,r.jsx)(l.A,{value:"prysm",label:"Prysm",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"curl -X POST -H \"Content-type: application/json\" -d '<file-content>'\nhttp://localhost:3500/eth/v1/beacon/pool/bls_to_execution_changes\n"})})}),(0,r.jsx)(l.A,{value:"teku",label:"Teku",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"curl -X POST -H \"Content-type: application/json\" -d '<file-content>'\nhttp://localhost:5051/eth/v1/beacon/pool/bls_to_execution_changes\n"})})}),(0,r.jsx)(l.A,{value:"lighthouse",label:"Lighthouse",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"curl -X POST -H \"Content-type: application/json\" -d '<file-content>'\nhttp://localhost:5052/eth/v1/beacon/pool/bls_to_execution_changes\n"})})})]}),(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Exchange ",(0,r.jsx)(n.code,{children:"<file-content>"})," with the actual content of the ",(0,r.jsx)(n.em,{children:"bls_to_execution_change.json"})," file."]})}),(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"Show Example Broadcast Messages"}),(0,r.jsxs)(i.A,{groupId:"consensus",children:[(0,r.jsx)(l.A,{value:"prysm",label:"Prysm",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:'curl -X POST -H \u201cContent-type: application/json\u201d -d \'[{"message": {"validator_index": "7", "from_bls_pubkey": "0x89a6dc1e83570b99cfb2557f01c852ab2bf00957367d0c35a5aa0e3101c9aad33645064e5da8a1efcd5cd501eb123ad0", "to_execution_address": "0x3daee8cd2e3c18dafe13332de33972ac5cf558f3"}, "signature": "0x80e4c40a543ffb99b6fc4b66e0d37726c1739830d27c229091bf8e792ffb98cac0971274bdc815dcba1042e33a4087d809113a0293614f8533f911cb6726c2efb03cf46470bff3ecf00ed962964262470f502208f6cd50e93f56e1b71ee61fa7", "metadata": {"network_name": "lukso", "genesis_validators_root": "0xd7cc24d150c617450dfa8176ef45a01dadb885a75a1a4c32d4a6828f8f088760", "deposit_cli_version": "2.5.6"}}]\' http://localhost:3500/eth/v1/beacon/pool/bls_to_execution_changes\n'})})}),(0,r.jsx)(l.A,{value:"teku",label:"Teku",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:'curl -X POST -H \u201cContent-type: application/json\u201d -d \'[{"message": {"validator_index": "7", "from_bls_pubkey": "0x89a6dc1e83570b99cfb2557f01c852ab2bf00957367d0c35a5aa0e3101c9aad33645064e5da8a1efcd5cd501eb123ad0", "to_execution_address": "0x3daee8cd2e3c18dafe13332de33972ac5cf558f3"}, "signature": "0x80e4c40a543ffb99b6fc4b66e0d37726c1739830d27c229091bf8e792ffb98cac0971274bdc815dcba1042e33a4087d809113a0293614f8533f911cb6726c2efb03cf46470bff3ecf00ed962964262470f502208f6cd50e93f56e1b71ee61fa7", "metadata": {"network_name": "lukso", "genesis_validators_root": "0xd7cc24d150c617450dfa8176ef45a01dadb885a75a1a4c32d4a6828f8f088760", "deposit_cli_version": "2.5.6"}}]\' http://localhost:5051/eth/v1/beacon/pool/bls_to_execution_changes\n'})})}),(0,r.jsx)(l.A,{value:"lighthouse",label:"Lighthouse",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:'curl -X POST -H \u201cContent-type: application/json\u201d -d \'[{"message": {"validator_index": "7", "from_bls_pubkey": "0x89a6dc1e83570b99cfb2557f01c852ab2bf00957367d0c35a5aa0e3101c9aad33645064e5da8a1efcd5cd501eb123ad0", "to_execution_address": "0x3daee8cd2e3c18dafe13332de33972ac5cf558f3"}, "signature": "0x80e4c40a543ffb99b6fc4b66e0d37726c1739830d27c229091bf8e792ffb98cac0971274bdc815dcba1042e33a4087d809113a0293614f8533f911cb6726c2efb03cf46470bff3ecf00ed962964262470f502208f6cd50e93f56e1b71ee61fa7", "metadata": {"network_name": "lukso", "genesis_validators_root": "0xd7cc24d150c617450dfa8176ef45a01dadb885a75a1a4c32d4a6828f8f088760", "deposit_cli_version": "2.5.6"}}]\' http://localhost:5052/eth/v1/beacon/pool/bls_to_execution_changes\n'})})})]})]})]}),(0,r.jsxs)(l.A,{value:"broadcast-from-explorer",label:"Broadcast Message from Explorer",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"5.1. Open Consensus Explorer"}),": Open the broadcast tool of the consensus explorer."]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://explorer.consensus.mainnet.lukso.network/tools/broadcast",children:"LUKSO Mainnet Consensus Explorer Broadcast Tool"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://explorer.consensus.testnet.lukso.network/tools/broadcast",children:"LUKSO Testnet Consensus Explorer Broadcast Tool"})}),"\n"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"5.2 Upload Credential"}),": Upload the ",(0,r.jsx)(n.em,{children:"bls_to_execution_change.json"})," file to the server."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"5.3 Broadcast Credential"}),": Click ",(0,r.jsx)(n.em,{children:"Submit & Broadcast"})," to publish the withdrawal credential."]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"6-check-update-progress",children:"6. Check Update Progress"}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"A maximum of 16 validator updates can be included per block. It might take several hours until the withdrawal went live."})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"6.1 Open Consensus Explorer"}),": Open the validator withdrawal page."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://explorer.consensus.mainnet.lukso.network/validators/withdrawals",children:"LUKSO Mainnet Validator Withdrawals"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://explorer.consensus.testnet.lukso.network/validators/withdrawals",children:"LUKSO Testnet Validator Withdrawals"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"6.2 Search Address Changes"}),": Scroll down to the list of recent ",(0,r.jsx)(n.em,{children:"Address Changes"})," that happend on the network."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"6.3 Verify Index Numbers"}),": Your Validator indices should show up as soon as the update went live."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"If the withdrawal update hasn't shown up after several hours, consider resubmitting the file or using the terminal command."})})]})}function x(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},1470:(e,n,t)=>{t.d(n,{A:()=>v});var s=t(6540),r=t(4164),a=t(3104),i=t(6347),l=t(205),o=t(7485),d=t(1682),c=t(679);function h(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:t}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return h(e).map((({props:{value:e,label:n,attributes:t,default:s}})=>({value:e,label:n,attributes:t,default:s})))}(t);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function x({value:e,tabValues:n}){return n.some((n=>n.value===e))}function p({queryString:e=!1,groupId:n}){const t=(0,i.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,o.aZ)(r),(0,s.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(t.location.search);n.set(r,e),t.replace({...t.location,search:n.toString()})}),[r,t])]}function f(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,a=u(e),[i,o]=(0,s.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!x({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find((e=>e.default))??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:a}))),[d,h]=p({queryString:t,groupId:r}),[f,j]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,r]=(0,c.Dv)(n);return[t,(0,s.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:r}),g=(()=>{const e=d??f;return x({value:e,tabValues:a})?e:null})();(0,l.A)((()=>{g&&o(g)}),[g]);return{selectedValue:i,selectValue:(0,s.useCallback)((e=>{if(!x({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);o(e),h(e),j(e)}),[h,j,a]),tabValues:a}}var j=t(2303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=t(4848);function w({className:e,block:n,selectedValue:t,selectValue:s,tabValues:i}){const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,a.a_)(),d=e=>{const n=e.currentTarget,r=l.indexOf(n),a=i[r].value;a!==t&&(o(n),s(a))},c=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},e),children:i.map((({value:e,label:n,attributes:s})=>(0,b.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{l.push(e)},onKeyDown:c,onClick:d,...s,className:(0,r.A)("tabs__item",g.tabItem,s?.className,{"tabs__item--active":t===e}),children:n??e},e)))})}function m({lazy:e,children:n,selectedValue:t}){const a=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=a.find((e=>e.props.value===t));return e?(0,s.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function y(e){const n=f(e);return(0,b.jsxs)("div",{className:(0,r.A)("tabs-container",g.tabList),children:[(0,b.jsx)(w,{...n,...e}),(0,b.jsx)(m,{...n,...e})]})}function v(e){const n=(0,j.A)();return(0,b.jsx)(y,{...e,children:h(e.children)},String(n))}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>l});var s=t(6540);const r={},a=s.createContext(r);function i(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(a.Provider,{value:n},e.children)}},9365:(e,n,t)=>{t.d(n,{A:()=>i});t(6540);var s=t(4164);const r={tabItem:"tabItem_Ymn6"};var a=t(4848);function i({children:e,hidden:n,className:t}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,s.A)(r.tabItem,t),hidden:n,children:e})}}}]);