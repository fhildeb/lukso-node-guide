"use strict";(self.webpackChunklukso_node_guide=self.webpackChunklukso_node_guide||[]).push([[9979],{1470:(e,n,r)=>{r.d(n,{A:()=>k});var s=r(6540),t=r(4164),i=r(3104),o=r(6347),l=r(205),a=r(7485),c=r(1682),d=r(679);function h(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:r}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return h(e).map((({props:{value:e,label:n,attributes:r,default:s}})=>({value:e,label:n,attributes:r,default:s})))}(r);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function p({value:e,tabValues:n}){return n.some((n=>n.value===e))}function x({queryString:e=!1,groupId:n}){const r=(0,o.W6)(),t=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,a.aZ)(t),(0,s.useCallback)((e=>{if(!t)return;const n=new URLSearchParams(r.location.search);n.set(t,e),r.replace({...r.location,search:n.toString()})}),[t,r])]}function m(e){const{defaultValue:n,queryString:r=!1,groupId:t}=e,i=u(e),[o,a]=(0,s.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:i}))),[c,h]=x({queryString:r,groupId:t}),[m,j]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[r,t]=(0,d.Dv)(n);return[r,(0,s.useCallback)((e=>{n&&t.set(e)}),[n,t])]}({groupId:t}),g=(()=>{const e=c??m;return p({value:e,tabValues:i})?e:null})();(0,l.A)((()=>{g&&a(g)}),[g]);return{selectedValue:o,selectValue:(0,s.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);a(e),h(e),j(e)}),[h,j,i]),tabValues:i}}var j=r(2303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=r(4848);function b({className:e,block:n,selectedValue:r,selectValue:s,tabValues:o}){const l=[],{blockElementScrollPositionUntilNextRender:a}=(0,i.a_)(),c=e=>{const n=e.currentTarget,t=l.indexOf(n),i=o[t].value;i!==r&&(a(n),s(i))},d=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const r=l.indexOf(e.currentTarget)+1;n=l[r]??l[0];break}case"ArrowLeft":{const r=l.indexOf(e.currentTarget)-1;n=l[r]??l[l.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":n},e),children:o.map((({value:e,label:n,attributes:s})=>(0,f.jsx)("li",{role:"tab",tabIndex:r===e?0:-1,"aria-selected":r===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:c,...s,className:(0,t.A)("tabs__item",g.tabItem,s?.className,{"tabs__item--active":r===e}),children:n??e},e)))})}function y({lazy:e,children:n,selectedValue:r}){const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=i.find((e=>e.props.value===r));return e?(0,s.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function v(e){const n=m(e);return(0,f.jsxs)("div",{className:(0,t.A)("tabs-container",g.tabList),children:[(0,f.jsx)(b,{...n,...e}),(0,f.jsx)(y,{...n,...e})]})}function k(e){const n=(0,j.A)();return(0,f.jsx)(v,{...e,children:h(e.children)},String(n))}},5525:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"guides/modifications/peer-count-limits","title":"7.5 Peer Count Limits","description":"Peers in blockchain networks are other nodes your client connects to for data synchronization and message propagation. Maintaining a healthy number of peer connections is essential for exchanging block and transaction data and attesting other node\'s messages. Depending on your hardware and the volatility of your connections, peer limits can be adjusted.","source":"@site/docs/guides/modifications/peer-count-limits.md","sourceDirName":"guides/modifications","slug":"/guides/modifications/peer-count-limits","permalink":"/docs/guides/modifications/peer-count-limits","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_label":"7.5 Peer Count Limits","sidebar_position":5},"sidebar":"guidesSidebar","previous":{"title":"7.4 Public IP Setup","permalink":"/docs/guides/modifications/public-ip-setup"},"next":{"title":"7.6 Dynamic DNS","permalink":"/docs/guides/modifications/dynamic-dns"}}');var t=r(4848),i=r(8453),o=r(1470),l=r(9365);const a={sidebar_label:"7.5 Peer Count Limits",sidebar_position:5},c="7.5 Peer Count Limits",d={},h=[{value:"1. Check Peer Connections",id:"1-check-peer-connections",level:2},{value:"2. Stop Node Operation",id:"2-stop-node-operation",level:2},{value:"4. Raise Peer Limits",id:"4-raise-peer-limits",level:2},{value:"5. Restart the Node",id:"5-restart-the-node",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"75-peer-count-limits",children:"7.5 Peer Count Limits"})}),"\n",(0,t.jsx)(n.p,{children:"Peers in blockchain networks are other nodes your client connects to for data synchronization and message propagation. Maintaining a healthy number of peer connections is essential for exchanging block and transaction data and attesting other node's messages. Depending on your hardware and the volatility of your connections, peer limits can be adjusted."}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Further details about connectivity can be found on the ",(0,t.jsx)(n.a,{href:"/docs/theory/blockchain-knowledge/peer-networks",children:(0,t.jsx)(n.strong,{children:"Peer Networks"})})," and ",(0,t.jsx)(n.a,{href:"/docs/theory/node-operation/peer-discovery",children:(0,t.jsx)(n.strong,{children:"Peer Connectivity"})})," pages of the \ud83e\udde0 ",(0,t.jsx)(n.a,{href:"/docs/theory/preparations/node-specifications",children:(0,t.jsx)(n.strong,{children:"Theory"})})," section."]})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:["It's not recommended to set network peer limits higher than 100 for homestakers, as it can have negative impacts on the ",(0,t.jsx)(n.a,{href:"/docs/theory/node-operation/peer-discovery#adjustment-effects",children:"network's topology"})," while gaining ",(0,t.jsx)(n.a,{href:"/docs/theory/node-operation/peer-discovery#adjustment-effects",children:"little to none propagation rate"})," or stability."]})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["The following steps are performed on your \ud83d\udcdf ",(0,t.jsx)(n.strong,{children:"node server"}),"."]})}),"\n",(0,t.jsx)(n.h2,{id:"1-check-peer-connections",children:"1. Check Peer Connections"}),"\n",(0,t.jsx)(n.p,{children:"To get insights into the current connections, you can check the peer connections from your local node. Every node operates two independent peer-to-peer networks: the execution and the consensus layer. Each of these networks handles communication with other nodes differently and maintains separate sets of peers. Monitoring both layers is essential to ensure healthy connectivity and network participation."}),"\n",(0,t.jsxs)(o.A,{groupId:"network-type",children:[(0,t.jsxs)(l.A,{value:"execution",label:"Execution Peers",default:!0,children:[(0,t.jsxs)(n.p,{children:["The execution endpoint allows to fetch the peer counts and lots of ",(0,t.jsx)(n.a,{href:"/docs/guides/maintenance/problem-scanning#attach-execution-clients",children:"other client-specific intormation"}),"."]}),(0,t.jsx)(n.admonition,{title:"JSON RPC",type:"info",children:(0,t.jsxs)(n.p,{children:["JSON-RPC is a lightweight communication protocol encoded in JSON, allowing calls to be sent to a service or server. Each execution client exposes a related interface at port ",(0,t.jsx)(n.code,{children:"8545"})," to retreive calls to interact with the Ethereum network though the local node."]})}),(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["By default, the ",(0,t.jsx)(n.a,{href:"https://github.com/lukso-network/network-configs",children:"LUKSO Network Configuration"})," allows to retrieve network data for all execution clients."]})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"1. Install Querying Tool"}),": ",(0,t.jsx)(n.em,{children:"Install the JSON query service for data processing from the RPC endpoint."})]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo apt install jq\n"})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"2. Call Execution Endpoint"}),": ",(0,t.jsx)(n.em,{children:"While the node is running, call the JSON RPC of the execution client."})]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:'# Retrieve Execution Peers\ncurl -s -X POST -H "content-type: application/json" \\\n  --data \'{"jsonrpc":"2.0","method":"net_peerCount","params":[],"id":1}\' \\\n  http://localhost:8545 | jq -r \'.result\' | xargs printf \'%d\\n\'\n'})}),(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"Full Command Explanation"}),(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Command"})}),(0,t.jsx)(n.th,{children:(0,t.jsx)(n.strong,{children:"Description"})})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsxs)("nobr",{children:[" ",(0,t.jsx)(n.code,{children:"curl -s -X POST -H <text> "})," ",(0,t.jsx)("br",{})," ",(0,t.jsx)(n.code,{children:"--data <text> <port>"})," "]})}),(0,t.jsxs)(n.td,{children:["Executes ",(0,t.jsx)(n.code,{children:"-X"})," a silent ",(0,t.jsx)(n.code,{children:"-s"})," HTTP ",(0,t.jsx)(n.code,{children:"POST"})," request to the given ",(0,t.jsx)(n.code,{children:"<port>"}),", while attaching custom header ",(0,t.jsx)(n.code,{children:"-H"})," and ",(0,t.jsx)(n.code,{children:"--data"})," content as ",(0,t.jsx)(n.code,{children:"<text>"})," payload."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsxs)("nobr",{children:[" ",(0,t.jsx)(n.code,{children:"jq -r '.result'"})," "]})}),(0,t.jsxs)(n.td,{children:["Filters the raw ",(0,t.jsx)(n.code,{children:"-r"})," JSON object and extracts the ",(0,t.jsx)(n.code,{children:".result"})," value of the data object."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsxs)("nobr",{children:[" ",(0,t.jsx)(n.code,{children:"xargs printf '%d\\n'"})," "]})}),(0,t.jsxs)(n.td,{children:["Converts the hexadecimal result to a human-readable decimal ",(0,t.jsx)(n.code,{children:"%d"})," number."]})]})]})]})]}),(0,t.jsx)(n.p,{children:"The output should be something in the range from 5 to 50 peers."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"37\n"})}),(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:["If the command couldn't be executed, have a look at the ",(0,t.jsx)(n.a,{href:"/docs/guides/maintenance/problem-scanning",children:(0,t.jsx)(n.strong,{children:"Problem Scanning"})})," page to learn how to ",(0,t.jsx)(n.a,{href:"/docs/guides/maintenance/problem-scanning#attach-execution-clients",children:"attach execution clients"}),"."]})})]}),(0,t.jsxs)(l.A,{value:"consensus",label:"Consensus Peers",children:[(0,t.jsxs)(n.p,{children:["The consensus endpoint allows to fetch the peer counts and lots of ",(0,t.jsx)(n.a,{href:"/docs/guides/maintenance/problem-scanning#fetch-consensus-api",children:"other client-specific intormation"}),"."]}),(0,t.jsx)(n.admonition,{title:"REST API",type:"info",children:(0,t.jsxs)(n.p,{children:["A REST API is a web-based interface for querying structured data. Ethereum consensus clients expose their status and internal metrics on various ports like ",(0,t.jsx)(n.code,{children:"3500"}),", ",(0,t.jsx)(n.code,{children:"5051"}),", or ",(0,t.jsx)(n.code,{children:"5052"}),", to allow users to access information such as synchronization progress, network stability, node metadata, or the current chain head."]})}),(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["By default, the ",(0,t.jsx)(n.a,{href:"https://github.com/lukso-network/network-configs",children:"LUKSO Network Configuration"})," opens the REST API ports for all consensus clients."]})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"1. Install Querying Tool"}),": ",(0,t.jsx)(n.em,{children:"Install the JSON query service for data processing from the REST API endpoint."})]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo apt install jq\n"})}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"2. Call Endpoints"}),": ",(0,t.jsx)(n.em,{children:"While the node is running, call the REST endpoint of the consensus client."})]}),(0,t.jsxs)(o.A,{children:[(0,t.jsx)(l.A,{value:"teku",label:"Teku",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"# Check Number of Consensus Peers\ncurl -s http://localhost:5051/eth/v1/node/peer_count | jq\n"})})}),(0,t.jsx)(l.A,{value:"prysm",label:"Prysm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"# Check Number of Consensus Peers\ncurl -s http://localhost:3500/eth/v1/node/peer_count | jq\n"})})}),(0,t.jsx)(l.A,{value:"lighthouse-nimbus2",label:"Lighthouse and Nimbus-Eth2",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"# Check Number of Consensus Peers\ncurl -s http://localhost:5052/eth/v1/node/peer_count | jq\n"})})})]}),(0,t.jsx)(n.p,{children:"The output should be something in the range from 5 to 70 peers."}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"59\n"})})]})]}),"\n",(0,t.jsx)(n.p,{children:"If you have low or volatile peer counts, continue to stop the node and raise the peer count limits."}),"\n",(0,t.jsx)(n.h2,{id:"2-stop-node-operation",children:"2. Stop Node Operation"}),"\n",(0,t.jsx)(n.p,{children:"Depending on your setup method, there are different ways to stop your node before configuring the IP or raising the peer limits."}),"\n",(0,t.jsxs)(o.A,{groupId:"setup",children:[(0,t.jsxs)(l.A,{value:"cli",label:"LUKSO CLI",default:!0,children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>\nlukso stop\n"})}),(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Exchange ",(0,t.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path of the node folder."]})})]}),(0,t.jsx)(l.A,{value:"automation",label:"Service Automation",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl stop lukso-validator\n"})})})]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"Force Client Shutdown"}),(0,t.jsxs)(o.A,{groupId:"client",children:[(0,t.jsx)(l.A,{value:"geth",label:"Geth",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill geth\n"})})}),(0,t.jsx)(l.A,{value:"erigon",label:"Erigon",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill erigon\n"})})}),(0,t.jsx)(l.A,{value:"nethermind",label:"Nethermind",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill nethermind\n"})})}),(0,t.jsx)(l.A,{value:"besu",label:"Besu",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill besu\n"})})}),(0,t.jsx)(l.A,{value:"teku",label:"Teku",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill teku\n"})})}),(0,t.jsx)(l.A,{value:"nimbus2",label:"Nimbus-Eth2",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill nimbus_beacon_node\nsudo pkill nimbus_validator_client\n"})})}),(0,t.jsxs)(l.A,{value:"lighthouse",label:"Lighthouse",children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill lighthouse\n"})}),(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:"The Lighthouse client uses a single binary for both the consensus and validator processes."})})]}),(0,t.jsx)(l.A,{value:"prysm",label:"Prysm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo pkill prysm\nsudo pkill validator\n"})})})]})]}),"\n",(0,t.jsx)(n.h2,{id:"4-raise-peer-limits",children:"4. Raise Peer Limits"}),"\n",(0,t.jsx)(n.p,{children:"Most clients come with conservative default peer limits, which can be increased to maintain more simultaneous connections and improved stability and data propagation. However, peer counts above 100 can negatively affect the network topology and are not recommended."}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["You should always have more than 15 stable peers after a setup time of 4 to 6 hours. If your peer count is not raising, it indicates a misconfiguration. Check that your firewall allows ",(0,t.jsx)(n.a,{href:"/docs/guides/client-setup/firewall-settings",children:"all necessary client ports "})," to receive data."]})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"Ensure your router is capable of handling higher loads and requests when raising the peer limit above the default."})}),"\n",(0,t.jsxs)(o.A,{groupId:"network-type",children:[(0,t.jsxs)(l.A,{value:"execution",label:"Execution Peers",default:!0,children:[(0,t.jsx)(n.p,{children:"Depending on your execution client, the peer limit can be adjusted with different properties."}),(0,t.jsxs)(o.A,{groupId:"client",children:[(0,t.jsxs)(l.A,{value:"geth",label:"Geth",children:[(0,t.jsx)(n.p,{children:"Open the configuration file using your preferred text editor."}),(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(l.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/geth/\nvim geth.toml\n"})})}),(0,t.jsx)(l.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/geth/\nnano geth.toml\n"})})})]})]}),(0,t.jsxs)(l.A,{value:"erigon",label:"Erigon",children:[(0,t.jsx)(n.p,{children:"Open the configuration file using your preferred text editor."}),(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(l.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/erigon/\nvim erigon.toml\n"})})}),(0,t.jsx)(l.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/erigon/\nnano erigon.toml\n"})})})]})]}),(0,t.jsxs)(l.A,{value:"nethermind",label:"Nethermind",children:[(0,t.jsx)(n.p,{children:"Open the configuration file using your preferred text editor."}),(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(l.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/nethermind/\nvim nethermind.cfg\n"})})}),(0,t.jsx)(l.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/nethermind/\nnano nethermind.cfg\n"})})})]})]}),(0,t.jsxs)(l.A,{value:"besu",label:"Besu",children:[(0,t.jsx)(n.p,{children:"Open the configuration file using your preferred text editor."}),(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(l.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/besu/\nvim besu.toml\n"})})}),(0,t.jsx)(l.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/besu/\nnano besu.toml\n"})})})]})]})]}),(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:"The following properties need to be exchanged:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path to the node folder."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<network>"})," with the name of your node's network."]}),"\n"]})]}),(0,t.jsx)(n.p,{children:"Change the peer limit within the settings, then save and exit the file."}),(0,t.jsxs)(o.A,{groupId:"client",children:[(0,t.jsxs)(l.A,{value:"geth",label:"Geth",children:[(0,t.jsxs)(n.p,{children:["Update the ",(0,t.jsx)(n.em,{children:"MaxPeers"})," property."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"# Default Value\nMaxPeers = 50\n\n# Updated Value\nMaxPeers = <custom-peer-limit>\n"})})]}),(0,t.jsxs)(l.A,{value:"erigon",label:"Erigon",children:[(0,t.jsxs)(n.p,{children:["Update the ",(0,t.jsx)(n.em,{children:"maxpeers"})," property."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:'# Default Value\n"maxpeers" = 100\n\n# Updated Value\n"maxpeers" = <custom-peer-limit>\n'})})]}),(0,t.jsxs)(l.A,{value:"nethermind",label:"Nethermind",children:[(0,t.jsxs)(n.p,{children:["Update the ",(0,t.jsx)(n.em,{children:"MaxActivePeers"})," property within the ",(0,t.jsx)(n.em,{children:"Network"})," object."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:'# Default Value\n  "Network": {\n    "MaxActivePeers": 50\n  }\n\n# Updated Value\n  "Network": {\n    "MaxActivePeers": <custom-peer-limit>\n  }\n'})})]}),(0,t.jsxs)(l.A,{value:"besu",label:"Besu",children:[(0,t.jsxs)(n.p,{children:["Update the ",(0,t.jsx)(n.em,{children:"max-peers"})," property."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"# Default Value\n'max-peers' = 25\n\n# Updated Value\n'max-peers' = <custom-peer-limit>\n"})})]})]}),(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Exchange ",(0,t.jsx)(n.code,{children:"<custom-peer-limit>"})," with the maximum number of active peers maintained by your node."]})}),(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"Ensure there are no missing spaces, characters or unintended linebreaks before saving the configuration file."})})]}),(0,t.jsxs)(l.A,{value:"consensus",label:"Consensus Peers",children:[(0,t.jsx)(n.p,{children:"Depending on your consensus client, the peer limit can be adjusted with different properties."}),(0,t.jsxs)(o.A,{groupId:"client",children:[(0,t.jsxs)(l.A,{value:"prysm",label:"Prysm",children:[(0,t.jsx)(n.p,{children:"Open the configuration file using your preferred text editor."}),(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(l.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/prysm/\nvim prysm.yaml\n"})})}),(0,t.jsx)(l.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/prysm/\nnano prysm.yaml\n"})})})]})]}),(0,t.jsxs)(l.A,{value:"teku",label:"Teku",children:[(0,t.jsx)(n.p,{children:"Open the configuration file using your preferred text editor."}),(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(l.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/teku/\nvim teku.yaml\n"})})}),(0,t.jsx)(l.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/teku/\nnano teku.yaml\n"})})})]})]}),(0,t.jsxs)(l.A,{value:"lighthouse",label:"Lighthouse",children:[(0,t.jsx)(n.p,{children:"Open the configuration file using your preferred text editor."}),(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(l.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/lighthouse/\nvim lighthouse.toml\n"})})}),(0,t.jsx)(l.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/lighthouse/\nnano lighthouse.toml\n"})})})]})]}),(0,t.jsxs)(l.A,{value:"nimbus2",label:"Nimbus-Eth2",children:[(0,t.jsx)(n.p,{children:"Open the configuration file using your preferred text editor."}),(0,t.jsxs)(o.A,{groupId:"editor",children:[(0,t.jsx)(l.A,{value:"vim",label:"Vim",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/nimbus2/\nvim nimbus.toml\n"})})}),(0,t.jsx)(l.A,{value:"nano",label:"Nano",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>/configs/<network>/nimbus2/\nnano nimbus.toml\n"})})})]})]})]}),(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:"The following properties need to be exchanged:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path to the node folder."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<network>"})," with the name of your node's network."]}),"\n"]})]}),(0,t.jsx)(n.p,{children:"Change the peer count within the settings, then save and exit the file."}),(0,t.jsxs)(o.A,{groupId:"client",children:[(0,t.jsxs)(l.A,{value:"prysm",label:"Prysm",children:[(0,t.jsxs)(n.p,{children:["Update the ",(0,t.jsx)(n.em,{children:"p2p-max-peers"})," property."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"# Default Value\np2p-max-peers: 70\n\n# Updated Value\np2p-max-peers: <custom-peer-limit>\n"})})]}),(0,t.jsxs)(l.A,{value:"teku",label:"Teku",children:[(0,t.jsxs)(n.p,{children:["Update the ",(0,t.jsx)(n.em,{children:"p2p-peer-upper-bound"})," property."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"# Default Value\np2p-peer-upper-bound: 100\n\n# Updated Value\np2p-peer-upper-bound: <custom-peer-limit>\n"})})]}),(0,t.jsxs)(l.A,{value:"lighthouse",label:"Lighthouse",children:[(0,t.jsxs)(n.p,{children:["Update the ",(0,t.jsx)(n.em,{children:"target-peers"})," property."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"# Default Value\ntarget-peers = 100\n\n# Updated Value\ntarget-peers = <custom-peer-limit>\n"})})]}),(0,t.jsxs)(l.A,{value:"nimbus2",label:"Nimbus",children:[(0,t.jsxs)(n.p,{children:["Set the ",(0,t.jsx)(n.em,{children:"max-peers"})," property in a new line at the end of the file."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"max-peers = <custom-peer-limit>\n"})})]})]}),(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Exchange ",(0,t.jsx)(n.code,{children:"<custom-peer-limit>"})," with the maximum number of active peers maintained by your node."]})}),(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"Ensure there are no missing spaces, characters or unintended linebreaks before saving the configuration file."})})]})]}),"\n",(0,t.jsx)(n.h2,{id:"5-restart-the-node",children:"5. Restart the Node"}),"\n",(0,t.jsx)(n.p,{children:"Depending on your setup method, there are different ways to start your node after the IP address or peer limits have changed."}),"\n",(0,t.jsxs)(o.A,{groupId:"setup",children:[(0,t.jsxs)(l.A,{value:"clinode",label:"LUKSO CLI Node",default:!0,children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd <lukso-working-directory>\nlukso start --checkpoint-sync\n"})}),(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Exchange ",(0,t.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path of the node folder."]})})]}),(0,t.jsxs)(l.A,{value:"clivalidator",label:"LUKSO CLI Validator",default:!0,children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:'cd <lukso-working-directory>\nlukso start --validator --transaction-fee-recipient "<your-fee-recipient-address>" --checkpoint-sync\n'})}),(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.p,{children:"The following properties need to be exchanged:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<lukso-working-directory>"})," with the path of the node folder"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"<your-fee-recipient-address>"})," with the wallet address receiving staking profits"]}),"\n"]})]})]}),(0,t.jsx)(l.A,{value:"automation",label:"Service Automation",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl start lukso-validator\n"})})})]}),"\n",(0,t.jsx)(n.p,{children:"After the clients were started, verify that their services are still up."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo lukso status\n"})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>l});var s=r(6540);const t={},i=s.createContext(t);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(i.Provider,{value:n},e.children)}},9365:(e,n,r)=>{r.d(n,{A:()=>o});r(6540);var s=r(4164);const t={tabItem:"tabItem_Ymn6"};var i=r(4848);function o({children:e,hidden:n,className:r}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,s.A)(t.tabItem,r),hidden:n,children:e})}}}]);