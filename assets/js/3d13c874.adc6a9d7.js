"use strict";(self.webpackChunklukso_node_guide=self.webpackChunklukso_node_guide||[]).push([[2522],{3638:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"theory/blockchain-knowledge/proof-of-stake","title":"Proof\u202fof\u202fStake","description":"Understand Proof of Stake on LUKSO\u2014how validators earn rewards, maintain consensus, and secure the network through staking, attestations, and finality.","source":"@site/docs/theory/blockchain-knowledge/proof-of-stake.md","sourceDirName":"theory/blockchain-knowledge","slug":"/theory/blockchain-knowledge/proof-of-stake","permalink":"/docs/theory/blockchain-knowledge/proof-of-stake","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Proof of Stake","sidebar_position":1,"description":"Understand Proof of Stake on LUKSO\u2014how validators earn rewards, maintain consensus, and secure the network through staking, attestations, and finality."},"sidebar":"theorySidebar","previous":{"title":"Network Demand","permalink":"/docs/theory/preparations/network-demand"},"next":{"title":"Tokenomics","permalink":"/docs/theory/blockchain-knowledge/tokenomics"}}');var i=t(4848),r=t(8453);const o={sidebar_label:"Proof of Stake",sidebar_position:1,description:"Understand Proof of Stake on LUKSO\u2014how validators earn rewards, maintain consensus, and secure the network through staking, attestations, and finality."},a="Proof\u202fof\u202fStake",l={},d=[{value:"Consensus Effects",id:"consensus-effects",level:2},{value:"Roles and Services",id:"roles-and-services",level:2},{value:"Network Lifecycle",id:"network-lifecycle",level:2},{value:"Participation Rate",id:"participation-rate",level:2},{value:"Node Operations",id:"node-operations",level:2},{value:"Gas and Fees",id:"gas-and-fees",level:2},{value:"Epochs and Slots",id:"epochs-and-slots",level:2},{value:"Computation",id:"computation",level:2}];function c(e){const n={a:"a",admonition:"admonition",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"proofofstake",children:"Proof\u202fof\u202fStake"})}),"\n",(0,i.jsxs)(n.p,{children:["Proof\u202fof\u202fStake is the consensus algorithm that secures modern EVM\u2011based networks such as ",(0,i.jsx)(n.strong,{children:"Ethereum"})," and ",(0,i.jsx)(n.strong,{children:"LUKSO"}),". Validators stake coins, propose blocks of gathered transactions, and vote on the chain\u2019s head via block attestations. The more cryptocurrency a person puts at risk, the higher the chances of being selected. Honest behaviour is rewarded through transaction fees. Faults or attacks are punished by removing a slice of the stake through panalizing or slashing the validators."]}),"\n",(0,i.jsx)(n.h2,{id:"consensus-effects",children:"Consensus Effects"}),"\n",(0,i.jsx)(n.p,{children:"Unlike Proof of Work on Bitcoin or previous generations of Ethereum, requiring miners to solve complex mathematical problems to add new blocks to the blockchain, Proof of Stake relies on the amount of cryptocurrency a person is willing to risk as collateral."}),"\n",(0,i.jsx)(n.admonition,{title:"Advantages",type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Energy Efficiency"}),": Staking cuts power use by\u202fmore than 99 % in comparison to Proof of Work."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Economical Security"}),": Attacking the chain requires buying and risking large amounts of the native coin."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Deterministic Rewards"}),": Performance maps directly to APR; there is no luck factor like block\u2011finding races."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Strict Uptime"}),": Validators target\u202f\u2265\u202f98\u202f% online time to avoid leaks within randomized epochs."]}),"\n"]})}),"\n",(0,i.jsx)(n.admonition,{title:"Disadvantages",type:"warning",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Early Centralisation Risk"}),": Stake often concentrates among a few early adopters and diversity must grows over time."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Additional Stake Vectors"}),": As forking is cheap, protocols need slashing and finality rules to prevent riskless attestations."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Operational Complexity"}),": Running two client layers and maintaining keys client and operational overhead."]}),"\n"]})}),"\n",(0,i.jsx)(n.h2,{id:"roles-and-services",children:"Roles and Services"}),"\n",(0,i.jsxs)(n.p,{children:["Running a validator can be thought of as providing infrastructure in exchange for protocol\u2011level rewards.\u202fTo participate you deposit the network\u2019s native token of 32 - 2048\u202fLYX or LYXt into a one\u2011way validator key and spin up the following software. Stake can only be ",(0,i.jsx)(n.a,{href:"/docs/theory/node-operation/validator-credentials",children:"withdrawn"})," once the ",(0,i.jsx)(n.a,{href:"/docs/guides/withdrawals/exit-validators",children:"validator exists"})," the network."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Layer"}),(0,i.jsx)(n.th,{children:"Network Role"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Execution Client"})}),(0,i.jsx)(n.td,{children:"Processes transactions and maintains the EVM state database."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Consensus Client"})}),(0,i.jsx)(n.td,{children:"Follows the beacon chain, selects proposers, aggregates attestations."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Validator Process"})}),(0,i.jsx)(n.td,{children:"Signs block proposals & attestations using your private keys."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Slasher Service"})}),(0,i.jsx)(n.td,{children:"Detects and reports double\u2011signing or surround\u2011votes to maximise network security."})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"network-lifecycle",children:"Network Lifecycle"}),"\n",(0,i.jsx)(n.p,{children:"The order of steps below summarises what happens every slot and epoch."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"#"}),(0,i.jsx)(n.th,{children:"Stage"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"1"}),(0,i.jsx)(n.td,{children:(0,i.jsxs)("nobr",{children:[" ",(0,i.jsx)(n.strong,{children:"Providing Stake"})," "]})}),(0,i.jsx)(n.td,{children:"Coins are locked and each validator key joins the active set of stakers."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"2"}),(0,i.jsx)(n.td,{children:(0,i.jsxs)("nobr",{children:[" ",(0,i.jsx)(n.strong,{children:"Proposing Blocks"})," "]})}),(0,i.jsx)(n.td,{children:"One validator is pseudo\u2011randomly chosen each slot to build and submit a block."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"3"}),(0,i.jsx)(n.td,{children:(0,i.jsxs)("nobr",{children:[" ",(0,i.jsx)(n.strong,{children:"Attesting Blocks"})," "]})}),(0,i.jsx)(n.td,{children:"All other active validators vote on the head block and chain state."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"4"}),(0,i.jsx)(n.td,{children:(0,i.jsxs)("nobr",{children:[" ",(0,i.jsx)(n.strong,{children:"Reaching Finality"})," "]})}),(0,i.jsx)(n.td,{children:"Once two thirds of total stake attests over two consecutive epochs, blocks become immutable."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"5"}),(0,i.jsx)(n.td,{children:(0,i.jsxs)("nobr",{children:[" ",(0,i.jsx)(n.strong,{children:"Applying Incentives"})," "]})}),(0,i.jsx)(n.td,{children:"Proposals and attestations earn funds while downtime or malicious acts reduce balance."})]})]})]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["Further details can be found on the ",(0,i.jsx)(n.a,{href:"/docs/theory/blockchain-knowledge/tokenomics",children:(0,i.jsx)(n.strong,{children:"Tokenomics"})})," or ",(0,i.jsx)(n.a,{href:"/docs/theory/blockchain-knowledge/slashing-and-panelties",children:(0,i.jsx)(n.strong,{children:"Shashing and Panelties"})})," pages."]})}),"\n",(0,i.jsx)(n.h2,{id:"participation-rate",children:"Participation Rate"}),"\n",(0,i.jsx)(n.p,{children:"In Proof of Stake consensus, at least two-thirds of the total active validator stake must be online and actively participating for the chain to finalize blocks. If participation drops below this threshold, the network may fail to reach finality, causing stalls and potentially requiring manual intervention."}),"\n",(0,i.jsx)(n.p,{children:"Network stalls can occur due to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"A large number of validators going offline at the same time."}),"\n",(0,i.jsx)(n.li,{children:"Network partitions or infrastructure issues."}),"\n",(0,i.jsx)(n.li,{children:"Improper client configurations, bugs, or version mismatches."}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["Keeping participation high ensures stable finality and robust network health. Redundant infrastructure is critical for minimizing correlated failures. Further information about network resilience can be found on the ",(0,i.jsx)(n.a,{href:"/docs/theory/blockchain-knowledge/client-diversity",children:(0,i.jsx)(n.strong,{children:"Client Diversity"})})," page."]})}),"\n",(0,i.jsx)(n.h2,{id:"node-operations",children:"Node Operations"}),"\n",(0,i.jsx)(n.p,{children:"Each operation in the EVM requires a certain amount of gas, which is paid for in the blockchain's coin. The cost of gas is a crucial part of Ethereum's incentive structure, discouraging spam on the network and incentivizing miners to confirm transactions."}),"\n",(0,i.jsx)(n.admonition,{title:"Network Redundancy",type:"info",children:(0,i.jsxs)(n.p,{children:["Every full node runs its own Ethereum\u202fVirtual\u202fMachine, short EVM. Once a new block arrives, each execution client of the network's nodes ",(0,i.jsx)(n.strong,{children:"re\u2011executes every transaction"})," in isolation to verify the proposer\u2019s work, keeping the network trustless."]})}),"\n",(0,i.jsx)(n.h2,{id:"gas-and-fees",children:"Gas and Fees"}),"\n",(0,i.jsxs)(n.p,{children:["With each transaction, users attach a max\u202ffee they are willing to pay. Since the ",(0,i.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-1559",children:"London Update"}),", EVM-based networks has a predictable fee system. The protocol burns a ",(0,i.jsx)(n.strong,{children:"base fee"}),", which increases or decreases based on the network's current activity. Another ",(0,i.jsx)(n.strong,{children:"priority fee"})," is collected by the block proposer."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Fee component"}),(0,i.jsx)(n.th,{children:"Recipient"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsxs)("nobr",{children:[" ",(0,i.jsx)(n.strong,{children:"Base Fee"})," "]})}),(0,i.jsx)(n.td,{children:"Burnt through protocol"}),(0,i.jsx)(n.td,{children:"Elastic pricing to prevent spam"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsxs)("nobr",{children:[" ",(0,i.jsx)(n.strong,{children:"Priority Fee"})," "]})}),(0,i.jsx)(n.td,{children:"Gathered by block proposer"}),(0,i.jsx)(n.td,{children:"Incentivises inclusion"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsxs)("nobr",{children:[" ",(0,i.jsx)(n.strong,{children:"MEV / Tips"})," "]})}),(0,i.jsx)(n.td,{children:"Gathered by block proposer and searchers"}),(0,i.jsx)(n.td,{children:"Optional extra payment for economic advantages"})]})]})]}),"\n",(0,i.jsx)(n.admonition,{title:"Transaction Failures",type:"warning",children:(0,i.jsx)(n.p,{children:"If a transaction runs out of gas it reverts. However, the spent gas is still charged because the node had to do the work."})}),"\n",(0,i.jsx)(n.admonition,{title:"MEV",type:"tip",children:(0,i.jsx)(n.p,{children:"The Maximal\xa0Extractable\xa0Value is the extra profit obtainable by re\u2011ordering, inserting, or censoring transactions.\nOn Proof-of-Stake chains, MEV is captured by proposers via off\u2011chain relays or direct bundlers, while the protocol itself stays agnostic."})}),"\n",(0,i.jsx)(n.h2,{id:"epochs-and-slots",children:"Epochs and Slots"}),"\n",(0,i.jsx)(n.p,{children:"An epoch in PoS is a fixed period during which slots occur. It is a larger time frame that helps to organize the work of validators who propose and attest to blocks. An epoch is comprised of 32 slots, which means an epoch lasts for about 6.4 minutes, given that each slot is about 12 seconds."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Function"}),(0,i.jsx)(n.th,{children:"Details"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsxs)("nobr",{children:[" ",(0,i.jsx)(n.strong,{children:"Validator Shuffling"})," "]})}),(0,i.jsx)(n.td,{children:"At the start of each epoch, a random selection process determines which validators are active and assigns them to slots. This is done to ensure that the system remains decentralized and that no single validator can predict far in advance when they will be selected."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsxs)("nobr",{children:[" ",(0,i.jsx)(n.strong,{children:"Reward Settlement"})," "]})}),(0,i.jsx)(n.td,{children:"At the end of each epoch, rewards and penalties are calculated for validators. Validators that correctly proposed and attested to blocks receive rewards, while those who behaved maliciously or were offline are penalized."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsxs)("nobr",{children:[" ",(0,i.jsx)(n.strong,{children:"Finality Checkpoints"})," "]})}),(0,i.jsx)(n.td,{children:"The first block of an epoch is considered a checkpoint, refering to the point at which a block cannot be economically changed or removed from the blockchain."})]})]})]}),"\n",(0,i.jsx)(n.admonition,{title:"Checkpoints and Finality",type:"tip",children:(0,i.jsxs)(n.p,{children:["A checkpoint becomes ",(0,i.jsx)(n.strong,{children:"finalised"})," once more than two thirds of the ",(0,i.jsx)(n.strong,{children:"total active validator stake"})," has attested to it. Reverting that finality would require an attacker to build a conflicting chain and get more than\u202fone third of the entire network\u2019s stake to sign slashable votes to slash the other remaining validators."]})}),"\n",(0,i.jsx)(n.p,{children:"A slot is a single 12\u2011second window where a randomly chosen validator has the right to propose a new block to the blockchain. Non\u2011proposers vote on head and block validity through attestations."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Missed Proposals"}),": If the proposer is offline the ",(0,i.jsx)(n.em,{children:"slot is skipped"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Justified Blocks"}),": A block that gains more than two thirds of attestations ",(0,i.jsx)(n.em,{children:"is considered as valid"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Finalized Blocks"}),": Once the justified checkpoint finalizes the previous one, ",(0,i.jsx)(n.em,{children:"it is marked as final"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"computation",children:"Computation"}),"\n",(0,i.jsx)(n.p,{children:"Each network sets its own computational limits for their peer nodes."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Item"}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"LUKSO"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Ethereum"})}),(0,i.jsx)(n.th,{children:"Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)("nobr",{children:(0,i.jsx)(n.strong,{children:"Block\xa0Gas\xa0Limit"})})}),(0,i.jsx)(n.td,{children:"~42\u202fmillion gas"}),(0,i.jsx)(n.td,{children:"~30\u202fmillion gas"}),(0,i.jsxs)(n.td,{children:["defined by the ",(0,i.jsx)(n.a,{href:"https://ethereum.github.io/yellowpaper/paper.pdf",children:"Ethereum Yellow Paper"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)("nobr",{children:(0,i.jsx)(n.strong,{children:"Base\xa0Fee\xa0Volatility"})})}),(0,i.jsx)(n.td,{children:"\xb1\u202f12.5\u202f% per block"}),(0,i.jsx)(n.td,{children:"\xb1\u202f12.5\u202f% per block"}),(0,i.jsxs)(n.td,{children:["defined by the ",(0,i.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-1559",children:"EIP\u20111559 Standardization"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)("nobr",{children:(0,i.jsx)(n.strong,{children:"Max\u202fTransaction\xa0Size"})})}),(0,i.jsx)(n.td,{children:"128\u202fkB"}),(0,i.jsx)(n.td,{children:"128\u202fkB"}),(0,i.jsx)(n.td,{children:"prevents frequent block bloating"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)("nobr",{children:(0,i.jsx)(n.strong,{children:"Average\xa0Gas\xa0Price"})})}),(0,i.jsx)(n.td,{children:"0.1\u202f\u2013\u202f0.8\u202fgwei"}),(0,i.jsx)(n.td,{children:"15\u202f\u2013\u202f40\u202fgwei"}),(0,i.jsx)(n.td,{children:"fluctuates with network demand"})]})]})]}),"\n",(0,i.jsxs)(n.admonition,{title:"Block Size",type:"info",children:[(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"block gas limit"})," is strict for a single block but ",(0,i.jsx)(n.strong,{children:"can adjust over time"})," by a small step\u2011size of one 1024th. Block proposers can vote gradually, avoiding abrupt jumps that could destabilise the network or overwhelm nodes."]}),(0,i.jsx)(n.p,{children:"In practice the consensus code enforces an absolute floor of\u202f5.000\u202fgas, and validators almost never coordinate to push in one direction for a significant amount of hours. However, within one day of around 7200 blocks, the limit could still scale by a few percent if every proposer pushes for the same direction."})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(6540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);