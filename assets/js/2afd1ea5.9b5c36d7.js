"use strict";(self.webpackChunklukso_node_guide=self.webpackChunklukso_node_guide||[]).push([[1790],{7712:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>l,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"theory/node-operation/peer-discovery","title":"Peer Discovery","description":"Peer discovery is the mechanism by which a peer on a distributed network finds peers with which it may communicate. In peer-to-peer blockchain, this process is done automatically with algorithms that create channels of communication between the clients. All of the nodes are equal parties in this mesh, and dynamic peer discovery allows the network to heal, expand, and adapt.","source":"@site/docs/theory/node-operation/peer-discovery.md","sourceDirName":"theory/node-operation","slug":"/theory/node-operation/peer-discovery","permalink":"/docs/theory/node-operation/peer-discovery","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_label":"Peer Discovery","sidebar_position":6},"sidebar":"theorySidebar","previous":{"title":"Slasher Service","permalink":"/docs/theory/node-operation/slasher-service"},"next":{"title":"Dynamic DNS","permalink":"/docs/theory/node-operation/dynamic-dns"}}');var i=t(4848),s=t(8453);const r={sidebar_label:"Peer Discovery",sidebar_position:6},a="Peer Discovery",d={},c=[{value:"Connection Process",id:"connection-process",level:2},{value:"Adjustment Effects",id:"adjustment-effects",level:2}];function h(e){const n={a:"a",admonition:"admonition",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"peer-discovery",children:"Peer Discovery"})}),"\n",(0,i.jsx)(n.p,{children:"Peer discovery is the mechanism by which a peer on a distributed network finds peers with which it may communicate. In peer-to-peer blockchain, this process is done automatically with algorithms that create channels of communication between the clients. All of the nodes are equal parties in this mesh, and dynamic peer discovery allows the network to heal, expand, and adapt."}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["The fundamentals of peer networks, operation layers, and blockchain nodes can be found on the ",(0,i.jsx)(n.a,{href:"/docs/theory/blockchain-knowledge/peer-networks",children:(0,i.jsx)(n.strong,{children:"Peer Networks"})})," page."]})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["EVM-based blockchains like LUKSO use ",(0,i.jsx)(n.a,{href:"/docs/theory/blockchain-knowledge/peer-networks#operation-layers",children:"two overlapping peer networks"}),", for the consensus and execution layer."]})}),"\n",(0,i.jsx)(n.h2,{id:"connection-process",children:"Connection Process"}),"\n",(0,i.jsx)(n.p,{children:"The peer-to-peer discovery process is surprisingly elegant and efficient. Here\u2019s a high-level overview of how your node finds others:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Every node has a unique ID"}),", derived from its cryptographic keys. This is like its personal identity on the network."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Nodes maintain a routing table"}),", organizing other peer IDs into buckets based on how close their IDs are."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"When searching for peers"}),", your node asks others \u201cwho is closer to this target ID?\u201d and walks through the routing tree."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Once a new peer is found"}),", the connection is upgraded to a secure, encrypted session using mutually agreed sub-protocols."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"After connection"}),", nodes begin exchanging blocks, transactions, and consensus messages through gossip networks."]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["All of this happens behind the scenes. Node operators just need to make sure that the router allows incoming connections on the appropriate ports. Further details can be found on the ",(0,i.jsx)(n.a,{href:"/docs/guides/router-setup/static-ip-assignment",children:(0,i.jsx)(n.strong,{children:"Router Setup"})})," and ",(0,i.jsx)(n.a,{href:"/docs/guides/client-setup/firewall-settings",children:(0,i.jsx)(n.strong,{children:"Firewall Settings"})})," pages."]})}),"\n",(0,i.jsx)(n.admonition,{title:"Further Details",type:"note",children:(0,i.jsxs)(n.p,{children:["The peer discovery within mesh networks like EVM-based blockchains utilizes the \ud83d\udd78\ufe0f ",(0,i.jsx)(n.a,{href:"https://medium.com/coinmonks/a-brief-overview-of-kademlia-and-its-use-in-various-decentralized-platforms-da08a7f72b8f",children:(0,i.jsx)(n.strong,{children:"Kademlia"})})," algorithm."]})}),"\n",(0,i.jsx)(n.h2,{id:"adjustment-effects",children:"Adjustment Effects"}),"\n",(0,i.jsx)(n.p,{children:"While you may increase your peer count and visibility to add to your node's network connectivity and health, overly high peer limits can be inefficient or interfere with optimal topology design. Theoretical recommendations for setting peer discovery parameters are presented in the next table."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Effect"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsxs)("nobr",{children:[" ",(0,i.jsx)(n.strong,{children:"Resource Usage"})," "]})}),(0,i.jsxs)(n.td,{children:["Each additional peer is requiring system resources, including CPU, memory, and bandwidth. Having high peer counts increases your ",(0,i.jsx)(n.a,{href:"/docs/theory/preparations/network-demand",children:"uploaded data"}),", since your node is sending out more packages to other peers. Node effectiveness and synchronization rate can be degraded if system resources are overwhelmed."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsxs)("nobr",{children:[" ",(0,i.jsx)(n.strong,{children:"Network Topology Impact"})," "]})}),(0,i.jsx)(n.td,{children:"The peer-to-peer network thrives with decentralization. The moment that one node is linked with too many peers, by default it creates a hub, centralized communication, going in direct opposition of the distributed nature of the network. Ideally, the network is made up of tiny overlapping subgroups. Overconnecting creates systemic risk. When a ordinary node is offline in a small sub-group, the overall network does not notice. However, if highly-connected peers generate downtime, a much bigger portion of the network fluctuates, as hundreds of communication channels will stall at once, re-try to establish connections, and might drop their peer count."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsxs)("nobr",{children:[" ",(0,i.jsx)(n.strong,{children:"Wasted Connections"})," "]})}),(0,i.jsx)(n.td,{children:"Above a peer count of around 100 on large networks with thousands of nodes, further connections gain little propagation rate or stability. They just consume bandwidth and sockets with no improvement on any fault tolerance or synchronization time of the overall network. The added connections add redundancy with little real gain, especially on small or medium nodes."})]})]})]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["If you are unsure about ",(0,i.jsx)(n.a,{href:"/docs/guides/modifications/peer-count-limits",children:(0,i.jsx)(n.strong,{children:"Peer Count Limits"})}),", it\u2019s best to rely on the ",(0,i.jsx)(n.a,{href:"https://github.com/lukso-network/network-configs",children:"default network configuration"}),", designed to balance resource use, discovery efficiency, and network stability for homestaking nodes within the community."]})})]})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var o=t(6540);const i={},s=o.createContext(i);function r(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);