"use strict";(self.webpackChunklukso_node_guide=self.webpackChunklukso_node_guide||[]).push([[9904],{5670:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"guides/alert-systems/telegram-bot","title":"9.1 Telegram Bot","description":"This page is currently under maintenance reworked and contains outdated content.","source":"@site/docs/guides/alert-systems/telegram-bot.md","sourceDirName":"guides/alert-systems","slug":"/guides/alert-systems/telegram-bot","permalink":"/docs/guides/alert-systems/telegram-bot","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"9.1 Telegram Bot","sidebar_position":1},"sidebar":"guidesSidebar","previous":{"title":"8.9 External Monitoring","permalink":"/docs/guides/monitoring/external-monitoring"},"next":{"title":"9.2 Grafana Notifications","permalink":"/docs/guides/alert-systems/grafana-notifications"}}');var o=i(4848),s=i(8453);const l={sidebar_label:"9.1 Telegram Bot",sidebar_position:1},r="9.1 Telegram Bot",c={},d=[{value:"1. Create Telegram Bot",id:"1-create-telegram-bot",level:2},{value:"2. Create a Group",id:"2-create-a-group",level:2},{value:"3. Fetching the Chat ID",id:"3-fetching-the-chat-id",level:2},{value:"4. Add Telegram Contact Points",id:"4-add-telegram-contact-points",level:2},{value:"5. Update Notification Policies",id:"5-update-notification-policies",level:2}];function a(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"91-telegram-bot",children:"9.1 Telegram Bot"})}),"\n",(0,o.jsx)(n.admonition,{type:"danger",children:(0,o.jsx)(n.p,{children:"This page is currently under maintenance reworked and contains outdated content."})}),"\n",(0,o.jsx)(n.p,{children:"Grafana can send alerts through various channels, such as Discord, Telegram, or Email when unregular behavior in metrics or reading from Prometheus is recognized. The following will guide will configure Grafana notifications for Telegram."}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"It is convenient to temporarily open a text editor to store information needed for these steps."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"1-create-telegram-bot",children:"1. Create Telegram Bot"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["You need a ",(0,o.jsx)(n.a,{href:"https://telegram.org/",children:"Telegram"})," account in order to continue."]}),"\n"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Open the web-based or Desktop version of Telegram."}),"\n",(0,o.jsxs)(n.li,{children:["Click on this link ",(0,o.jsx)(n.a,{href:"https://t.me/botfather",children:"https://t.me/botfather"})," and allow the BotFather application to open Telegram."]}),"\n",(0,o.jsx)(n.li,{children:"A BotFather channel will open."}),"\n",(0,o.jsxs)(n.li,{children:["Type ",(0,o.jsx)(n.code,{children:"/newbot"})," in the message line"]}),"\n",(0,o.jsx)(n.li,{children:"Send off the message"}),"\n",(0,o.jsx)(n.li,{children:"Choose a full name for your bot."}),"\n",(0,o.jsxs)(n.li,{children:["Choose a user name for your bot. The name must end with ",(0,o.jsx)(n.code,{children:"bot"})]}),"\n",(0,o.jsx)(n.li,{children:"A message will appear with information about your bot."}),"\n",(0,o.jsx)(n.li,{children:"Highlight and copy the API token, then paste it into your text editor."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"2-create-a-group",children:"2. Create a Group"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Open the Telegram menu."}),"\n",(0,o.jsx)(n.li,{children:"Set up a new group."}),"\n",(0,o.jsx)(n.li,{children:"Choose a name for the group."}),"\n",(0,o.jsxs)(n.li,{children:["Add your bot to the group by typing the exact ",(0,o.jsx)(n.em,{children:"username"})]}),"\n",(0,o.jsxs)(n.li,{children:["Select the user when it appears in the list and click ",(0,o.jsx)(n.code,{children:"create"})]}),"\n",(0,o.jsxs)(n.li,{children:["Send a message ",(0,o.jsx)(n.code,{children:"/my_id"})," to trigger the API refresh"]}),"\n",(0,o.jsxs)(n.li,{children:["Copy ",(0,o.jsx)(n.code,{children:"https://api.telegram.org/bot<your-bot-api-token>/getUpdates"})," to a text document."]}),"\n",(0,o.jsxs)(n.li,{children:["Replace ",(0,o.jsx)(n.code,{children:"<your-bot-api-token>"})," with your token ID of the bot"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"3-fetching-the-chat-id",children:"3. Fetching the Chat ID"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Copy the link you just edited into a web browser."}),"\n",(0,o.jsxs)(n.li,{children:["Look for text that says ",(0,o.jsx)(n.code,{children:'{"id"}:'})]}),"\n",(0,o.jsxs)(n.li,{children:["Copy and paste the ",(0,o.jsx)(n.code,{children:"id"})," into your notes."]}),"\n"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["Ensure your Chat ID is fully copied. It might have a ",(0,o.jsx)(n.code,{children:"-"})," in front."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"4-add-telegram-contact-points",children:"4. Add Telegram Contact Points"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Return to Grafana"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Login using your credentials"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["On the left-hand menu, click ",(0,o.jsx)(n.code,{children:"Alerting"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Click the ",(0,o.jsx)(n.code,{children:"Contact Points"})," on the left side"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Click ",(0,o.jsx)(n.code,{children:"Add contact point"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Click on ",(0,o.jsx)(n.code,{children:"Add channel"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Fill in the following information:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"Name"}),": Your Notification Channel Name"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"Integration:"})," Telegram"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"BOT API Token:"})," Your copied BOT API Token"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"Chat ID:"})," The copied Chat ID"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Click ",(0,o.jsx)(n.code,{children:"Test"})," within the Integration Panel."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Wait until you see a new message in Telegram."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Click ",(0,o.jsx)(n.code,{children:"Save contact point"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"5-update-notification-policies",children:"5. Update Notification Policies"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["On the left-hand menu, click ",(0,o.jsx)(n.code,{children:"Alerting"})]}),"\n",(0,o.jsxs)(n.li,{children:["Click the ",(0,o.jsx)(n.code,{children:"Notification policies"})," on the left side"]}),"\n",(0,o.jsxs)(n.li,{children:["On the right of the default notification, click the 3-dot-menu and chose ",(0,o.jsx)(n.code,{children:"Edit"})]}),"\n",(0,o.jsxs)(n.li,{children:["Change ",(0,o.jsx)(n.code,{children:"Default contact point"})," to Telegram's Contact Point"]}),"\n",(0,o.jsxs)(n.li,{children:["Click ",(0,o.jsx)(n.code,{children:"Update default policy"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>r});var t=i(6540);const o={},s=t.createContext(o);function l(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);