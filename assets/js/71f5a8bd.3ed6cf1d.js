"use strict";(self.webpackChunklukso_node_guide=self.webpackChunklukso_node_guide||[]).push([[4457],{1540:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/explorer-pages-5-88bf384b68d4d2e80ee292b289a79db3.png"},4781:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/explorer-pages-4-14d83a3d5737cfbfe23d78cbe6078d99.png"},4802:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/explorer-pages-3-2827cdf232c49eeae35bfe70d7988bd0.png"},8275:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"guides/monitoring/external-monitoring","title":"8.9 External Monitoring","description":"This page is currently under maintenance reworked and contains outdated content.","source":"@site/docs/guides/monitoring/external-monitoring.md","sourceDirName":"guides/monitoring","slug":"/guides/monitoring/external-monitoring","permalink":"/docs/guides/monitoring/external-monitoring","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_label":"8.9 External Monitoring","sidebar_position":9},"sidebar":"guidesSidebar","previous":{"title":"8.8 Dashboard Configuration","permalink":"/docs/guides/monitoring/dashboard-configuration"},"next":{"title":"9.1 Telegram Bot","permalink":"/docs/guides/alert-systems/telegram-bot"}}');var o=n(4848),i=n(8453);const r={sidebar_label:"8.9 External Monitoring",sidebar_position:9},a="8.9 External Monitoring",l={},d=[{value:"Execution Block Explorer",id:"execution-block-explorer",level:2},{value:"Execution Status Page",id:"execution-status-page",level:2},{value:"Consensus Block Explorer",id:"consensus-block-explorer",level:2},{value:"Consensus Status Page",id:"consensus-status-page",level:2},{value:"External Node Validator Checks",id:"external-node-validator-checks",level:2},{value:"Testnet Validator Script",id:"testnet-validator-script",level:4},{value:"Mainnet Validator Script",id:"mainnet-validator-script",level:4}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"89-external-monitoring",children:"8.9 External Monitoring"})}),"\n",(0,o.jsx)(t.admonition,{type:"danger",children:(0,o.jsx)(t.p,{children:"This page is currently under maintenance reworked and contains outdated content."})}),"\n",(0,o.jsxs)(t.p,{children:["You can also use LUKSO's official explorer webpages to monitor your nodes or validator status without relying directly on your local metrics. It's one of the most efficient methods and does not require any login to work. Their links can be verified at the ",(0,o.jsx)(t.a,{href:"https://docs.lukso.tech/networks/mainnet/parameters",children:"Mainnet Parameter"})," and ",(0,o.jsx)(t.a,{href:"https://docs.lukso.tech/networks/testnet/parameters",children:"Testnet Parameter"})," sections of the official ",(0,o.jsx)(t.a,{href:"https://docs.lukso.tech/",children:"LUKSO Tech Docs"})," page."]}),"\n",(0,o.jsx)(t.h2,{id:"execution-block-explorer",children:"Execution Block Explorer"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Execution Block Explorer",src:n(8784).A+"",width:"3412",height:"1884"})}),"\n",(0,o.jsx)(t.p,{children:"The Execution Block Explorer is a valuable tool for examining your blockchain's detailed transactions and blocks. It provides information about who validated the blocks and the number of blocks your validator has validated. It also displays the balance of the transaction recipient's fees addresses. With the aid of the Execution Block Explorer, you can maintain a comprehensive understanding of your transactional environment, ensuring the continued smooth operation of your blockchain network."}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://explorer.execution.mainnet.lukso.network/",children:"Mainnet Execution Explorer"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://explorer.execution.testnet.lukso.network/",children:"Testnet Execution Explorer"})}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"execution-status-page",children:"Execution Status Page"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Execution Status Page",src:n(8728).A+"",width:"3412",height:"1884"})}),"\n",(0,o.jsx)(t.p,{children:"The Execution Status Page is crucial for tracking your node's overall health and performance. It displays your node if it has been added to the ETHStats page, showing the names of the nodes, their types, latencies, and the number of their peers. It also indicates pending transactions, the last synced block and its hash, and the timing of the last block. Furthermore, the total count of active nodes that activated the ETHStats client is readily available. The Execution Status Page is essentially a dashboard, providing all the critical metrics required to assess the performance of your node."}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://stats.execution.mainnet.lukso.network/",children:"Mainnet Execution Stats"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://stats.execution.testnet.lukso.network/",children:"Testnet Execution Stats"})}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"consensus-block-explorer",children:"Consensus Block Explorer"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Consensus Block Explorer",src:n(4802).A+"",width:"3412",height:"1884"})}),"\n",(0,o.jsx)(t.p,{children:"The Consensus Block Explorer offers comprehensive insights into the blockchain's current consensus status. It displays the present epoch, current slot, active and pending validator counts, the staked LYX, and the average balance. For each slot, the explorer provides information about the proposer, the sync participation, time, and status. The explorer also allows for an in-depth examination of each block, revealing the proposer's graffiti and all associated metadata. From the validator's perspective, it provides critical information about attestations and deposits, the validators' status and effectiveness, and their balance. This tool gives a clear view of the consensus health of the blockchain."}),"\n",(0,o.jsxs)(t.p,{children:["If you need more information about slots, epochs, and their status types, look into this guide's ",(0,o.jsx)(t.a,{href:"#",children:"Network Theory"})," section."]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://explorer.consensus.mainnet.lukso.network/",children:"Mainnet Consensus Explorer"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://explorer.consensus.testnet.lukso.network/",children:"Testnet Consensus Explorer"})}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"consensus-status-page",children:"Consensus Status Page"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Consensus Status Page",src:n(4781).A+"",width:"3412",height:"1184"})}),"\n",(0,o.jsx)(t.p,{children:"The Consensus Status Page is another tool for monitoring your node's operation. If your node has been added to the ETH2Stats page, it will show up here, along with details such as the node's name, consensus client type, consensus peers, attestations, head slot, justified slot, and finalized slot. It even displays the memory usage on the machine running the node. This information is crucial in monitoring the performance of your consensus mechanism and ensuring your blockchain system runs efficiently."}),"\n",(0,o.jsxs)(t.p,{children:["If you need more information about slots, epochs, and their status types, look into this guide's ",(0,o.jsx)(t.a,{href:"#",children:"Network Theory"})," section."]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://stats.consensus.mainnet.lukso.network/",children:"Mainnet Consensus Stats"})}),"\n",(0,o.jsx)(t.li,{children:(0,o.jsx)(t.a,{href:"https://stats.consensus.testnet.lukso.network/",children:"Testnet Consensus Stats"})}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"external-node-validator-checks",children:"External Node Validator Checks"}),"\n",(0,o.jsxs)(t.p,{children:["As the ",(0,o.jsx)(t.strong,{children:"Consensus Explorer"})," is the main page for every information going on with the consensus and single validators that propose and participate in the consensus, we can also set up a link for this page that gathers consensus information for every validator of our node at once."]}),"\n",(0,o.jsx)(t.p,{children:"First, log on to your node machine:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sh",children:"ssh <ssh-device-alias>\n"})}),"\n",(0,o.jsxs)(t.p,{children:["Then head over to your node's log directory. Exchange ",(0,o.jsx)(t.code,{children:"<lukso-working-directory>"})," with the actual folder name and ",(0,o.jsx)(t.code,{children:"<network-type>"})," with ",(0,o.jsx)(t.code,{children:"mainnet"})," or ",(0,o.jsx)(t.code,{children:"testnet"})," depending on your node's network."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sh",children:"cd <lukso-working-directory>/<network-type>-logs/\n"})}),"\n",(0,o.jsxs)(t.p,{children:["Next, we need to find the latest validator log file created for the node's network to get the total amount of imported validators. You can either check that manually or use the following script to automatically search for the validator logs, sort them by creation date and output the most recent filename to the terminal. I've used the ",(0,o.jsx)(t.code,{children:"find"})," tool that is used to search for files and directories within a specified location and further used pipes as we already did plenty of times before. Here is a description of the script:"]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"."}),": Represents the current directory."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"type f"}),": Specifies that only regular files should be considered, excluding directories and other types of files."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:'name "*validator*"'}),': Sets the pattern to match filenames containing "validator" anywhere within the name.']}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:'printf "%T@ %p\\n"'}),": Specifies the format for the output of the found files. ",(0,o.jsx)(t.code,{children:"%T@"})," represents the file's last modification time in seconds since the epoch, and ",(0,o.jsx)(t.code,{children:"%p"})," represents the file path."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"sort -n"}),": Sorts the output in ascending order based on the file's modification time."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"tail -1"}),": Selects the last line from the sorted output, which corresponds to the file with the latest creation time."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"awk '{print $2}'"}),": Extracts the second column from the output, which contains the file path, and prints it."]}),"\n"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sh",children:'find . -type f -name "*validator*" -printf "%T@ %p\\n" | sort -n | tail -1 | awk \'{print $2}\'\n'})}),"\n",(0,o.jsx)(t.p,{children:"Now we can search this log file to get all the index properties of each validator imported to the node. The script will fetch all indexes and build the link of the consensus page so that you can copy/paste it into the browser of your choice. Here is a description of the script:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"cat file"}),": The cat command is used to concatenate and display the contents of a file, in our case the latest validator log."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"grep -o 'index=[0-9]* '"}),": Searches for the pattern ",(0,o.jsx)(t.code,{children:"index="})," followed by a sequence of digits, and outputs only the matching parts. The ",(0,o.jsx)(t.code,{children:"-o"})," flag tells grep to output only the matching index numbers, not the entire line."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"awk -F'=' '{printf \"%s,\", $2}'"}),": Uses the equals sign ",(0,o.jsx)(t.code,{children:"="})," as the field separator ",(0,o.jsx)(t.code,{children:"-F"})," for the output of the ",(0,o.jsx)(t.code,{children:"grep"})," command. It then only prints the numbers after the equals sign, which corresponds to the validator index, separated by a comma."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"sed 's/,$//'"}),": Removes the trailing comma from the output."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"tr -d ' '"}),": Deletes any remaining spaces from the index list."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"awk '{print URL $0}'"}),": Prepends the extracted validator index numbers to the URL, creating a complete link for all validator index numbers, represented by ",(0,o.jsx)(t.code,{children:"$0"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["Make sure to exchange ",(0,o.jsx)(t.code,{children:"<recent-validator-logs.log>"})," with the actual filename from the previous step."]}),"\n",(0,o.jsx)(t.h4,{id:"testnet-validator-script",children:"Testnet Validator Script"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sh",children:"cat <recent-validator-logs.log> | grep -o 'index=[0-9]* ' | awk -F'=' '{printf \"%s,\", $2}' | sed 's/,$//' | tr -d ' ' | awk '{print \"https://explorer.consensus.testnet.lukso.network/dashboard?validators=\" $0}'\n"})}),"\n",(0,o.jsx)(t.h4,{id:"mainnet-validator-script",children:"Mainnet Validator Script"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sh",children:"cat <recent-validator-logs.log> | grep -o 'index=[0-9]* ' | awk -F'=' '{printf \"%s,\", $2}' | sed 's/,$//' | tr -d ' ' | awk '{print \"https://explorer.consensus.mainnet.lukso.network/dashboard?validators=\" $0}'\n"})}),"\n",(0,o.jsx)(t.p,{children:"The output will look similar to this one, having all your index numbers:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-text",children:"https://explorer.consensus.mainnet.lukso.network/dashboard?validators=1,2,3\n"})}),"\n",(0,o.jsx)(t.p,{children:"The link can then be copied from the terminal and saved as a bookmark in your browser."}),"\n",(0,o.jsx)(t.p,{children:"The page will look like the one below. It shows the status and uptime of your validators that are run on your node:"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Validator Overview",src:n(1540).A+"",width:"3412",height:"1876"})})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var s=n(6540);const o={},i=s.createContext(o);function r(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:t},e.children)}},8728:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/explorer-pages-2-5cda24f032637a93d3b748b5218058ef.png"},8784:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/explorer-pages-1-12cfc2e545ff738dc78c3784124b1995.png"}}]);